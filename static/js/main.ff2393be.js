/*! For license information please see main.ff2393be.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case A:return"Portal";case S:return"Profiler";case x:return"StrictMode";case _:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ae(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Ee=null,xe=null;function Se(e){if(e=ki(e)){if("function"!==typeof Ae)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),Ae(e.stateNode,e.type,t))}}function Ie(e){Ee?xe?xe.push(e):xe=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=xe;if(xe=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function _e(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==Ee||null!==xe)&&(_e(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Be={onError:function(e){Me=!0,Fe=e}};function Ve(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(ze(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qe(i),e;if(o===r)return Qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,At,Et,xt,St,It=!1,Ct=[],Tt=null,_t=null,Nt=null,Dt=new Map,Rt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Bt(){It=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==_t&&Ut(_t)&&(_t=null),null!==Nt&&Ut(Nt)&&(Nt=null),Dt.forEach(jt),Rt.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==_t&&Vt(_t,e),null!==Nt&&Vt(Nt,e),Dt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var Ht=w.ReactCurrentBatchConfig,Qt=!0;function qt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Kt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Wt(e,t,n,r){if(Qt){var i=Yt(e,t,n,r);if(null===i)Qr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return _t=Mt(_t,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&bt(a),null===(a=Yt(e,t,n,r))&&Qr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Qr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=gi(e=be(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),wn=an(F({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return xn}var In=F({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(In),Tn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Dn),Pn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Ie(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Gn(e){Ur(e,0)}function Yn(e){if(W(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Wn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];qn(t,Wn,e,be(e)),De(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Er={},xr={};function Sr(e){if(Er[e])return Er[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Er[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var Ir=Sr("animationend"),Cr=Sr("animationiteration"),Tr=Sr("animationstart"),_r=Sr("transitionend"),Nr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Or=Dr[Pr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Ir,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Jt(t)){case 1:var i=qt;break;case 4:i=Kt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=be(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Cn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=_n;break;case Ir:case Cr:case Tr:s=yn;break;case _r:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(qr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:wi(s),d=null==c?u:wi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Gr(o,u,s,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(s=(u=r?wi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(Qn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?wi(r):window,e){case"focusin":(Qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Kr(r,k)).length&&(k=new wn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),$t=Zt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Re(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var Ai=[],Ei=-1;function xi(e){return{current:e}}function Si(e){0>Ei||(e.current=Ai[Ei],Ai[Ei]=null,Ei--)}function Ii(e,t){Ei++,Ai[Ei]=e.current,e.current=t}var Ci={},Ti=xi(Ci),_i=xi(!1),Ni=Ci;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Si(_i),Si(Ti)}function Oi(e,t,n){if(Ti.current!==Ci)throw Error(a(168));Ii(Ti,t),Ii(_i,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=Ti.current,Ii(Ti,e),Ii(_i,_i.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(_i),Si(Ti),Ii(Ti,e)):Si(_i),Ii(_i,n)}var Ui=null,ji=!1,Bi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We($e,zi),i}finally{kt=t,Bi=!1}}return null}var Hi=[],Qi=0,qi=null,Ki=0,Wi=[],Gi=0,Yi=null,Ji=1,Xi="";function Zi(e,t){Hi[Qi++]=Ki,Hi[Qi++]=qi,qi=e,Ki=t}function $i(e,t,n){Wi[Gi++]=Ji,Wi[Gi++]=Xi,Wi[Gi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ji=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===qi;)qi=Hi[--Qi],Hi[Qi]=null,Ki=Hi[--Qi],Hi[Qi]=null;for(;e===Yi;)Yi=Wi[--Gi],Wi[Gi]=null,Xi=Wi[--Gi],Wi[Gi]=null,Ji=Wi[--Gi],Wi[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=w.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=xi(null),ga=null,ka=null,wa=null;function ba(){wa=ka=ga=null}function Aa(e){var t=ya.current;Si(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xa(e,t){ga=e,wa=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ca(e){null===Ia?Ia=[e]:Ia.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,_a(e,r)}function _a(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_s)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_a(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,_a(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Ha(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ri(t)?Ni:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function qa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ri(t)?Ni:Ti.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case A:return(t=jc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case A:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Ga(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case A:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ja=Ya(!0),Xa=Ya(!1),Za={},$a=xi(Za),eo=xi(Za),to=xi(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($a),Ii($a,t)}function io(){Si($a),Si(eo),Si(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii($a,n))}function oo(e){eo.current===e&&(Si($a),Si(eo))}var uo=xi(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=w.ReactCurrentDispatcher,ho=w.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,wo=0,bo=0;function Ao(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,wo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==wo;return wo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Ro(e,t){var n=vo,r=Co(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,Qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=_a(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Co().memoizedState}function Vo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Ho(e,t){return Vo(8390656,8,e,t)}function Qo(e,t){return zo(2048,8,e,t)}function qo(e,t){return zo(4,2,e,t)}function Ko(e,t){return zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return Co().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ta(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ca(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useInsertionEffect:Ao,useLayoutEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useMutableSource:Ao,useSyncExternalStore:Ao,useId:Ao,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=$o.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Jo,useContext:Sa,useEffect:Qo,useImperativeHandle:Go,useInsertionEffect:qo,useLayoutEffect:Ko,useMemo:Xo,useReducer:_o,useRef:Bo,useState:function(){return _o(To)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(Co(),mo.memoizedState,e)},useTransition:function(){return[_o(To)[0],Co().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Jo,useContext:Sa,useEffect:Qo,useImperativeHandle:Go,useInsertionEffect:qo,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Bo,useState:function(){return No(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[No(To)[0],Co().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=w.ReactCurrentOwner,wu=!1;function bu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ja(t,e.child,n,r)}function Au(e,t,n,r,i){n=n.render;var a=t.ref;return xa(t,i),r=xo(e,t,n,r,a,i),n=So(),null===e||wu?(ia&&n&&ea(t),t.flags|=1,bu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return qu(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function xu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qu(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Cu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Os,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Os,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Os,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Os,Ps),Ps|=r;return bu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Ri(n)?Ni:Ti.current;return a=Di(t,a),xa(t,i),n=xo(e,t,n,r,a,i),r=So(),null===e||wu?(ia&&r&&ea(t),t.flags|=1,bu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Tu(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(xa(t,i),null===t.stateNode)Qu(e,t),Ha(t,n,r),qa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Di(t,c=Ri(n)?Ni:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Qa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||_i.current||Na?("function"===typeof l&&(Ba(t,n,l,r),s=t.memoizedState),(u=Na||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Di(t,s=Ri(n)?Ni:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Qa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||_i.current||Na?("function"===typeof d&&(Ba(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _u(e,t,n,r,a,i)}function _u(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),qu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,u,a)):bu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Du(e,t,n,r,i){return da(),pa(i),t.flags|=256,bu(e,t,n,r),t.child}var Ru,Pu,Ou,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Bu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Bu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Bu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),wu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,_a(e,i),rc(r,e,i,-1))}return mc(),Bu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Gi++]=Ji,Wi[Gi++]=Xi,Wi[Gi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=ju(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bu(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Wu(t),null;case 3:return r=t.stateNode,io(),Si(_i),Si(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Pu(e,t),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":K(r),$(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ru(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),Pu(e,t),null===e&&zr(t.stateNode.containerInfo),Wu(t),null;case 10:return Aa(t.type._context),Wu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Hs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Xe()-o.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yu(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(_i),Si(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return Aa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(){},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ju=!1,Xu=!1,Zu="function"===typeof WeakSet?WeakSet:Set,$u=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zu),t.forEach((function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Sc(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for($u=e,f=e.child;null!==f;){for(h=$u=f;null!==$u;){switch(p=(d=$u).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){As(h);continue}}null!==p?(p.return=d,$u=p):As(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){$u=e,ws(e,t,n)}function ws(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ju;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Ju;var c=Xu;if(Ju=o,(Xu=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?Es(i):null!==s?(s.return=o,$u=s):Es(i);for(;null!==a;)$u=a,ws(a,t,n),a=a.sibling;$u=i,Ju=u,Xu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):bs(e)}}function bs(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){Sc(t,t.return,d)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function As(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function Es(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{as(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var xs,Ss=Math.ceil,Is=w.ReactCurrentDispatcher,Cs=w.ReactCurrentOwner,Ts=w.ReactCurrentBatchConfig,_s=0,Ns=null,Ds=null,Rs=0,Ps=0,Os=xi(0),Ls=0,Ms=null,Fs=0,Us=0,js=0,Bs=null,Vs=null,zs=0,Hs=1/0,Qs=null,qs=!1,Ks=null,Ws=null,Gs=!1,Ys=null,Js=0,Xs=0,Zs=null,$s=-1,ec=0;function tc(){return 0!==(6&_s)?Xe():-1!==$s?$s:$s=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&_s)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Zs=null,Error(a(185));yt(e,n,r),0!==(2&_s)&&e===Ns||(e===Ns&&(0===(2&_s)&&(Us|=n),4===Ls&&sc(e,Rs)),ic(e,r),1===n&&0===_s&&0===(1&t.mode)&&(Hs=Xe()+500,ji&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Rs:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){ji=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&_s)&&zi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($s=-1,ec=0,0!==(6&_s))throw Error(a(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=_s;_s|=2;var o=vc();for(Ns===e&&Rs===t||(Qs=null,Hs=Xe()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}ba(),Is.current=o,_s=i,null!==Ds?t=0:(Ns=null,Rs=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Ac(e,Vs,Qs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ac.bind(null,e,Vs,Qs),t);break}Ac(e,Vs,Qs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(Ac.bind(null,e,Vs,Qs),r);break}Ac(e,Vs,Qs);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Bs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vs,Vs=n,null!==t&&uc(t)),e}function uc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function sc(e,t){for(t&=~js,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&_s))throw Error(a(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Vs,Qs),ic(e,Xe()),null}function lc(e,t){var n=_s;_s|=1;try{return e(t)}finally{0===(_s=n)&&(Hs=Xe()+500,ji&&zi())}}function fc(e){null!==Ys&&0===Ys.tag&&0===(6&_s)&&Ec();var t=_s;_s|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(_s=t))&&zi()}}function hc(){Ps=Os.current,Si(Os)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Si(_i),Si(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:Aa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Ds=e=Oc(e.current,null),Rs=Ps=t,Ls=0,Ms=null,js=Us=Fs=0,Vs=Bs=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Ds;try{if(ba(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,wo=0,Cs.current=null,null===n||null===n.return){Ls=1,Ms=t,Ds=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Bs?Bs=[o]:Bs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(w){t=w,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function vc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ns||0===(268435455&Fs)&&0===(268435455&Us)||sc(Ns,Rs)}function yc(e,t){var n=_s;_s|=2;var r=vc();for(Ns===e&&Rs===t||(Qs=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(ba(),_s=n,Is.current=r,null!==Ds)throw Error(a(261));return Ns=null,Rs=0,Ls}function gc(){for(;null!==Ds;)wc(Ds)}function kc(){for(;null!==Ds&&!Ye();)wc(Ds)}function wc(e){var t=xs(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):Ds=t,Cs.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ps)))return void(Ds=n)}else{if(null!==(n=Yu(n,t)))return n.flags&=32767,void(Ds=n);if(null===e)return Ls=6,void(Ds=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Ls&&(Ls=5)}function Ac(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{Ec()}while(null!==Ys);if(0!==(6&_s))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Ds=Ns=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=_s;_s|=4,Cs.current=null,function(e,t){if(ei=Qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Qt=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(b){Sc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Qt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Je(),_s=s,kt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,Ys=e,Js=i),o=e.pendingLanes,0===o&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qs)throw qs=!1,e=Ks,Ks=null,e;0!==(1&Js)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===Zs?Xs++:(Xs=0,Zs=e):Xs=0,zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function Ec(){if(null!==Ys){var e=wt(Js),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,Js=0,0!==(6&_s))throw Error(a(331));var i=_s;for(_s|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,$u=h;else for(;null!==$u;){var d=(f=$u).sibling,p=f.return;if(os(f),f===l){$u=null;break}if(null!==d){d.return=p,$u=d;break}$u=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$u=g;break e}$u=o.return}}var k=e.current;for($u=k;null!==$u;){var w=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==w)w.return=u,$u=w;else e:for(u=k;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(A){Sc(s,s.return,A)}if(s===u){$u=null;break e}var b=s.sibling;if(null!==b){b.return=s.return,$u=b;break e}$u=s.return}}if(_s=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(A){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function xc(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Rs&n)===n&&(4===Ls||3===Ls&&(130023424&Rs)===Rs&&500>Xe()-zs?dc(e,0):js|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=_a(e,t))&&(yt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Nc(e,t){return We(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Dc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case x:u=8,i|=8;break;case S:return(e=Rc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case _:return(e=Rc(13,n,t,i)).elementType=_,e.lanes=o,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=o,e;case P:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case C:u=9;break e;case T:u=11;break e;case D:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Bc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function zc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Hc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Pa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Qc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uu(e,t,n):(Ii(uo,1&uo.current),null!==(e=qu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return qu(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,ia&&0!==(1048576&t.flags)&&$i(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qu(e,t),e=t.pendingProps;var i=Di(t,Ti.current);xa(t,n),i=xo(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,qa(t,r,e,n),t=_u(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Tu(null,t,r,e,n);break e;case 11:t=Au(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=qu(e,t,n);break e}bu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),bu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Uu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):bu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Au(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return bu(e,t,t.pendingProps,n),t.child;case 8:case 12:return bu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!_i.current){t=qu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}bu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xa(t,n),r=r(i=Sa(i)),t.flags|=1,bu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return xu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Qu(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,xa(t,n),Ha(t,r,i),qa(t,r,i,n),_u(null,t,r,!0,e,n);case 19:return Hu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=qc(o);u.call(e)}}Qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=qc(o);a.call(e)}}var o=Hc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=qc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Qc(t,s,n,r)})),s}(n,t,e,i,r);return qc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Qc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Qc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&_s)&&(Hs=Xe()+500,zi()))}break;case 13:fc((function(){var t=_a(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},At=function(e){if(13===e.tag){var t=_a(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=_a(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},xt=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},Ae=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));W(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=lc,_e=fc;var tl={usingClientEntryPoint:!1,Events:[ki,wi,bi,Ie,Ce,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var w=k.prototype=new g;w.constructor=k,v(w,y.prototype),w.isPureReactComponent=!0;var b=Array.isArray,A=Object.prototype.hasOwnProperty,E={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)A.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,b(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),_(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",b(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=_(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=_(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)A.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,P(A);else{var t=r(l);null!==t&&O(b,t.startTime-e)}}function A(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!_());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(b,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,x=!1,S=null,I=-1,C=5,T=-1;function _(){return!(t.unstable_now()-T<C)}function N(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?E():(x=!1,S=null)}}else x=!1}if("function"===typeof k)E=function(){k(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=N,E=function(){R.postMessage(null)}}else E=function(){y(N,0)};function P(e){S=e,x||(x=!0,E())}function O(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,O(b,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(A))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.p="/nuevamedicina_full/",function(){var e,t=n(791),r=n(250);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||o(e,t)||u()}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function l(e){return function(e){if(Array.isArray(e))return a(e)}(e)||c(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function v(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){var t=k();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function A(e,t,n){return A=k()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&m(i,n.prototype),i},A.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return A(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},E(e)}function x(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var I,C="popstate";function T(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function _(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function N(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),S({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?P(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function R(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function P(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function O(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=e.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=e.Pop;var t=p(),n=null==t?null:t-d;d=t,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:R(e);return T(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(S({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return t(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(C,v),h=e,function(){u.removeEventListener(C,v),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;var i=D(y.location,t,n);r&&r(i,t);var a=N(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(t,n){f=e.Replace;var i=D(y.location,t,n);r&&r(i,t);var a=N(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(I||(I={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function L(e,t,n){void 0===n&&(n="/");var r=Y(("string"===typeof t?P(t):t).pathname||"/",n);if(null==r)return null;var i=M(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=K(i[o],G(r));return a}function M(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(T(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=$([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(T(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),M(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:q(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=x(F(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function F(e){var t=e.split("/");if(0===t.length)return[];var n,r=i(n=t)||c(n)||o(n)||u(),a=r[0],s=r.slice(1),f=a.endsWith("?"),h=a.replace(/\?$/,"");if(0===s.length)return f?[h,""]:[h];var d=F(s.join("/")),p=[];return p.push.apply(p,l(d.map((function(e){return""===e?h:[h,e].join("/")})))),f&&p.push.apply(p,l(d)),p.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var U=/^:\w+$/,j=3,B=2,V=1,z=10,H=-2,Q=function(e){return"*"===e};function q(e,t){var n=e.split("/"),r=n.length;return n.some(Q)&&(r+=H),t&&(r+=B),n.filter((function(e){return!Q(e)})).reduce((function(e,t){return e+(U.test(t)?j:""===t?V:z)}),r)}function K(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=W({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:$([i,l.pathname]),pathnameBase:ee($([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=$([i,l.pathnameBase]))}return a}function W(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);_("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],c=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return _(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function G(e){try{return decodeURI(e)}catch(t){return _(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Y(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function J(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function X(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Z(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=P(e):(T(!(i=S({},e)).pathname||!i.pathname.includes("?"),J("?","pathname","search",i)),T(!i.pathname||!i.pathname.includes("#"),J("#","pathname","hash",i)),T(!i.search||!i.search.includes("#"),J("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?P(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:te(a),hash:ne(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var $=function(e){return e.join("/").replace(/\/\/+/g,"/")},ee=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},te=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ne=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},re=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n)}(E(Error));function ie(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ae=["post","put","patch","delete"],oe=(new Set(ae),["get"].concat(ae));new Set(oe),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}var se=t.createContext(null);var ce=t.createContext(null);var le=t.createContext(null);var fe=t.createContext(null);var he=t.createContext(null);var de=t.createContext({outlet:null,matches:[],isDataRoute:!1});var pe=t.createContext(null);function ve(){return null!=t.useContext(he)}function me(){return ve()||T(!1),t.useContext(he).location}function ye(e){t.useContext(fe).static||t.useLayoutEffect(e)}function ge(){return t.useContext(de).isDataRoute?function(){var e=_e(Ee.UseNavigateStable).router,n=De(xe.UseNavigateStable),r=t.useRef(!1);ye((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,ue({fromRouteId:n},i)))}),[e,n]);return i}():function(){ve()||T(!1);var e=t.useContext(fe),n=e.basename,r=e.navigator,i=t.useContext(de).matches,a=me().pathname,o=JSON.stringify(X(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);ye((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=Z(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:$([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}()}function ke(){var e=t.useContext(de).matches,n=e[e.length-1];return n?n.params:{}}function we(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(de).matches,a=me().pathname,o=JSON.stringify(X(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return Z(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function be(n,r,i){ve()||T(!1);var a,o=t.useContext(fe).navigator,u=t.useContext(de).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,me());if(r){var h,d="string"===typeof r?P(r):r;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||T(!1),a=d}else a=f;var p=a.pathname||"/",v=L(n,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Te(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:$([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:$([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,i);return r&&m?t.createElement(he.Provider,{value:{location:ue({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:e.Pop}},m):m}function Ae(){var e=function(){var e,n=t.useContext(pe),r=Ne(xe.UseRouteError),i=De(xe.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=ie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Ee,xe,Se=t.createElement(Ae,null),Ie=function(e){y(r,e);var n=b(r);function r(e){var t;return f(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return v(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(de.Provider,{value:this.props.routeContext},t.createElement(pe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function Ce(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(se);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(de.Provider,{value:n},i)}function Te(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,u=null==(i=r)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||T(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Se);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=s?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Ce,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(Ie,{location:r.location,revalidation:r.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function _e(e){var n=t.useContext(se);return n||T(!1),n}function Ne(e){var n=t.useContext(ce);return n||T(!1),n}function De(e){var n=function(e){var n=t.useContext(de);return n||T(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||T(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Ee||(Ee={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(xe||(xe={}));var Re;function Pe(e){T(!1)}function Oe(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,u=n.location,s=n.navigationType,c=void 0===s?e.Pop:s,l=n.navigator,f=n.static,h=void 0!==f&&f;ve()&&T(!1);var d=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=P(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,w=v.hash,b=void 0===w?"":w,A=v.state,E=void 0===A?null:A,x=v.key,S=void 0===x?"default":x,I=t.useMemo((function(){var e=Y(y,d);return null==e?null:{location:{pathname:e,search:k,hash:b,state:E,key:S},navigationType:c}}),[d,y,k,b,E,S,c]);return null==I?null:t.createElement(fe.Provider,{value:p},t.createElement(he.Provider,{children:o,value:I}))}function Le(e){var t=e.children,n=e.location;return be(Fe(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Re||(Re={}));var Me=new Promise((function(){}));t.Component;function Fe(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(l(n),[i]);if(e.type!==t.Fragment){e.type!==Pe&&T(!1),e.props.index&&e.props.children&&T(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Fe(e.props.children,a)),r.push(o)}else r.push.apply(r,Fe(e.props.children,a))}})),r}function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(this,arguments)}function je(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Ve=["aria-current","caseSensitive","className","end","style","to","children"];function ze(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),O((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:R(t)}),null,n)));var u=o.current,c=s(t.useState({action:u.action,location:u.location}),2),l=c[0],f=c[1];return t.useLayoutEffect((function(){return u.listen(f)}),[u]),t.createElement(Oe,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:u})}var He="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Qe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=je(e,Be),d=t.useContext(fe).basename,p=!1;if("string"===typeof l&&Qe.test(l)&&(r=l,He))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=Y(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}catch(w){}var g=function(e,n){var r=(void 0===n?{}:n).relative;ve()||T(!1);var i=t.useContext(fe),a=i.basename,o=i.navigator,u=we(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:$([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=ge(),l=me(),f=we(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:R(l)===R(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return t.createElement("a",Ue({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var Ke=t.forwardRef((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=je(e,Ve),v=we(h,{relative:p.relative}),m=me(),y=t.useContext(ce),g=t.useContext(fe).navigator,k=g.encodeLocation?g.encodeLocation(v).pathname:v.pathname,w=m.pathname,b=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(w=w.toLowerCase(),b=b?b.toLowerCase():null,k=k.toLowerCase());var A,E=w===k||!l&&w.startsWith(k)&&"/"===w.charAt(k.length),x=null!=b&&(b===k||!l&&b.startsWith(k)&&"/"===b.charAt(k.length)),S=E?i:void 0;A="function"===typeof s?s({isActive:E,isPending:x}):[s,E?"active":null,x?"pending":null].filter(Boolean).join(" ");var I="function"===typeof f?f({isActive:E,isPending:x}):f;return t.createElement(qe,Ue({},p,{"aria-current":S,className:A,ref:n,style:I,to:h}),"function"===typeof d?d({isActive:E,isPending:x}):d)}));var We,Ge;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(We||(We={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ge||(Ge={}));function Ye(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze=n(184),$e=(0,t.createContext)({cart:[]}),et=function(e){var n=e.children,r=s((0,t.useState)([]),2),i=r[0],a=r[1],o=function(e){return i.some((function(t){return t.id===e}))};return(0,Ze.jsx)($e.Provider,{value:{cart:i,addItem:function(e,t){o(e.id)||a([].concat(l(i),[Xe(Xe({},e),{},{quantity:t})]))},removeItem:function(e){var t=i.filter((function(t){return t.id!==e}));a(t)},clearCart:function(){a([])},totalPrice:function(){return i.reduce((function(e,t){return e+t.quantity*t.price}),0)},totalItems:function(){i.reduce((function(e,t){return e+t.quantity}),0)}},children:n})},tt=function(e){var n=e.stock,r=e.initial,i=e.onAdd,a=s((0,t.useState)(r),2),o=a[0],u=a[1];return(0,Ze.jsxs)("div",{className:"contenedor-botones-card",children:[(0,Ze.jsxs)("div",{className:"controlesCard",children:[(0,Ze.jsx)("button",{className:"btn-minus",onClick:function(){o>1&&u(o-1)},children:"-"}),(0,Ze.jsx)("h2",{className:"number",children:o}),(0,Ze.jsx)("button",{className:"btn-plus",onClick:function(){o<n&&u(o+1)},children:"+"})]}),(0,Ze.jsx)("div",{className:"contenedor-btnAddToCart",children:(0,Ze.jsxs)("button",{className:"btn-addToCart",onClick:function(){return i(o)},disabled:!n,children:[(0,Ze.jsx)("img",{className:"cart",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACJCAIAAAB4hOegAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAABQlSURBVHhe7V15bBzXff7NLq9d3rdIypKo07Jsy4ds2UHkFHYSNAcKI4rzR5A/kiAo0BNoG6AoiqIJmib+pyj6R4MCRYsUhQu3iZMUKIK0ieEmrs/Ylu3YOixZN2+K97nc3en3vXkczi4pcmZ2Zjkk58ODNDvc481873e+33tjmN+SGBFEQv8fI2KIiYkoYmIiipiYiCImJqKIiYkoYmIiipiYiGLnEXNM/x9x7Dxi3tf/RxyxKosoYmIiitXEGGIkxEhKwlfDB/lxQ39ZDL9YlV2uTEl1k1SkpKJGn/GEfFayC5KZlsVJMfP6ZAzvKCSmrkvSbdK4T6obpLJWn/SE/JJkZmVmQCavysK4ZGb0+RgeUUjMg78jTful+2GpqhWjQp/0BEiJmZOxD6Tvdbn5kgy8oc/H8IhCYk4/Jw27pfO4JKv1GX+YvC4j78qvn5Fz34cQiWnq8zFco9D4735UWg5LolK/9I26Tun5iDT1SrIyZsUfColZnJbsfKm3MrcoiSqpbqS5giMQwxcKiZm4LLNDNOA0Faa3JopOsALkM3Sda5p4HMMXCm3M0aek4Q7pvE9qGukxu0dVHUWkvmfFyYaVuvBD+cFp/TKGRxQSU5kmMR33SqpFqur1STdIt/ODPY9Ifbc+A9x4WZ55XB+Hh88rST2ijtfBj42tkiWzUEgM9E9FmiooWSUJL+5yukNaDsl9X6P7YGkzYOSs/NMD+jg87AhifANcgpiP/oUc+BTjGAvTA/L3vfo4PGxTYgJKYiLCnxuRxakCNwxsfe2MPo7hEQERY6XI5m+x2ahM0VbF8IWAiAHADYQG3nZ22cYAnjyIGA4ESExOZoeZvsxl9BkATvPp5/TxTsD9v81275cZeHQcl9pOfd47gpUYEDNYTEz3Q/p4J+CeL7Hd/UW583PS8zDzW34RHDFmdg2JMRKSatXHOwEtR9ja75auh+Xwk3L8y/q8dwSqymhjIDGLK8npfIZB6w7Bn5tS28FW1yWNe2XXA3LHKf0n7wiamJkhJTEqtrCBHu8oYGgaBrNTJfg+AaqyvCzNyeIEJy5xsGOh07hLsjRTEDx4RHDEQEpySzrSXJjQ53YOVmsFRA4Tl/WxdwRIDGAyzJzp50gxkvocRtDcqD7exhh6m4PSzhNCsU/3y+g5/dI7giVGSAw6BCacJTLg6cTv6+PtipH3CxQ4gofpvigRk4PEDBQTk6yio7KN8ZE/Y2mRs+DLVBJz67x+6R2BS8wiOzRfREz1NiemvlsaeqTCUcGSmWXkMHFVv/SOgNL+NuAgNu6Ro1+Qk3/MaU1b5159QZ79lD5eE8d+wn+fXPc95cYl/vOPh2RYvbod2o/JqW/IwU9zNssCWIHZf+nbcuknK3fAIwJXZYsyO0KjggMYQBv1XfLYN/XxNkN9j6SamUq3sTAmE1fomvplBQiaGPjv6Nb8GF0UHNuo6+b087ZE80GpaoDu0S8BDM2xD1gkXAKCJsY06ZBkpuk0L07pkwDU2rYsmtn/SWk5KNX1K8IBgzo3LGMXCy7fO4ImxgKC3qkbHDJ20sxIsB56+6G2U0lMYeoFITYkJhNBYqDHJq8Xx//+qtQjjnQHq72hD2wgkgMxuHzchBIQHjHXmDdzAsSc/CN9vD2AK6ptL6img7+Dq2aWfbig/ME7QiNmapXEVNVKwx59vD2AwAAeDa7LBuzK2CUVX2dVdap/hK3KHJ1rPsCiwLu+oF9uA8C6pFoLavAhLrAuJAYXHkFilmaV8Z9g/5JV+iQAYmqa9fE2QNtREuMMVjAWb51n4qNkhEOMlf9HLxHQOItmEM2AmEQFnbStjt6PK2Ic9VlwQUkMJMb/NIyNoFMyTjz4e3Lid0mGHRWDj9f+Vl78Jmc5Ee4EgnJUYiJ4XKWXjj4lJ/9Emvau6AAQc/bf5ZffKI7hfCHMkbswTkuDmMaGmVeLAnZvMdd5dRl3ZZpKDJrZGcFYzhiuujR/zEKYxMDGwDfLzK6EmUBNI1cTOh3/zUKH/n9jOHNLFqqbuCyrtmOFM2js2SE2xJXOOiG/CFViQMyN4jgLEtO412OVAjTJ6lYymDP29Z2gpHm/1O4q2M5gaU7GL3MuyjnfUQJCVmUgBh6aExhrnomJGCDucJTrdhVwicucsIgpyUu2EbLErM5MdD1AYqpLV2WuB3jgqAQxB0iMreKgqyExJKZ/K0hMZpqzeJbOdUZhjfu8SMzmEbA2DEpME1SZoy7ZSqhjFML4bwFiIN2zI7IwqVZCO7obmCoDZ55os95fGtP4NInpZfrSBkQH/jH0dlGxQwkIkxhoWzPL2Uz4Ks7wuLqBczPwAkrfUKD8SLezfgH9d87ww7RY1tReTVcywiQGYN3sKJcAOON/BDEIytCSW5AYOGMImasdEm9VKiEwWCpUDKUhZGLQUYRdMImQmJVJM4PRWX23zw2eQsRGWg6C0riHcaUzAZhbkqmbnOYoYYZ/NcImJseM3nR/gcQAqTY1jeFlK4EoAGOrYQ+5gR62AQNDYq4HEvDbKI/EDLAQ0Ik0JMYxv+QTwUQMHgBBgbig2QBVIGb6JlVZ0BJj+yohNNj/uVtUZRxNjvtIiYEqSxe/f40G4IN2CxbOb7a+vOinHYCrAmcS4wlmxgYczvlxesnzYyot6/z4Om1jhK/KaPwHSAznZpbNTOe9fiXGun02il6GCXS+qoFxZbpNnwHgJSNWg7pGHOOsoysZYRNjUsAzs3SacQ1OpwUBWmVaVS+6GkFrwfcHbwcnzasor+1gkh9CY/vEoAqyMv6hLM4ElYmxETIxAAR8aY6WZmGiwM1HgIZILVG10c6m61+wD2583UEjSVlpPlCcF0eINnaJ4hI0DPNbgY+7VWg+KPd9VfY9zu2DbBrgX778tFx5Xi3bXJVXX8GG99Fr/10yXfi2RIUc+i0WKO97guW+FiAx7z0j55+TgTcZYHrAxoMjfIkBoM1gZiA0kBjbzDTupTZDIL16GsobfEnA2liH4wS3LWzev8IKZB2XA1U2caU4URsEykNMRhNTZB7h3jjnmvwD3LhvblD0tgQnxdHbJseeRWAFwdncMCOYoqmNIFA2iRnUEuMEtDaJiXxiBt5jqoXCDS/fBsjgaLP8sXVUsU+UUZXNriKGEtMZhMSEjOoGVdvXVpDcgy8z9gG9TaiBoF0yoDzEZBl/4RrgnmFw2WZm9yMBqbLA4TQ2BsWl5XBBRRwuYWGcSyxxUW7VozeUhRiQgfG1MMZdaosKFSA0yRpyc9tWWca25u9WUFZYQlZYqoihxtq+cf0yaJTFXbaw/+Ny8utcGIeY304r9f9K3v0eFV2gYXPA6HqQm4+03UXHzAIkBl7y63+nCjD69UkP2FjIykIMxl1Vrex5TI5/haEMfBubGFBy4/847kKwn4EBeqzjHlV9oYDLQdSM8fTiX1ET+HHJokCMtQHTrvul9wnGaHVdtKU2MQDnN9VOz5EFon3Oty6vfUVXYVre/Rd56Tu8ED+yvunEQEFDcbXdKXsfl56T3NG5slZfoc2N7QtEH+gzegtWxi7K+/8mb3zX73jamJiQjX+yis/WuPO0HPost4mCQkuUxd0ICdYYQpw/fon7TIWJMG9TTZN66MkJcmOVxXKDmWUB3UKCYsNKls8Oc+eYyWtuBr5vJPDdYbV0h9l+t9l1wmy/x6ysM1cjUcW2lZA3swvmTL858KY5cZknii7ZXXMDIx+ejdn/STn4Gdr81qP6DDA/whIADDfYfCjoEGLmsIDeQlzmYGA+kP7XmYzJzus/eYThgp0wiYFzfPyrXAZv1cZZw2v4Hel7VQbfppqmPxNhZ6wI+TyZwHiCiwyGSnAjN5uYh/5QHvoDtXy0ni/zGU5lnvsPOpoYd5mprSQuhMmRlF3ghYAktzppDWw2MY/+qTz6dZZgW1VY2TmmMd78rrz6N8xmbjFWgoQbYsL0yhDEMA+2HJdZww2xJA52MCsuESYxUMTOuYpkJStLG3qYLku3kbANZvt3NMIkZmmWk2N2fSICl1QHN4ve8zHWzCUqw/31LY4wbczhJ+XoaT6GCWGmjanrzGdM31QzzTChW8crg/rNZVQ+5hKrLxYnVIWfH7gz/n8d2rDd9ZDsOcVd7rtOqGcwb3HFBf8YOmDiilx7Qd75nkz6r8EwXLjayb98IrT7ZWZ5JY17pLaLjhl8gS0N3Ccjwfl/uJRwL+H6I8b0hc32yij1F2TwLRk+w+Kx0p+wuckwaBdrWjjO6ru5yjdMFRAmMTAhEPYrz8v7z5KemWHK0DYANcEcfc4wEaaNAWBXIPt1u2lsOo9zKjDdKlWNSrNZFScGxx2O8TZGPAnG1bCxnDrbDPFKJNgNhl/oXp7dYDm8ldNb3lUSg+zc92X4PZnymWB2Y2NCJgYAN0YFVyzW38GSBrTWw9QD3OYLf8KvG5wfRGQDbuAjLE5xz8bMpG+fpySAkoo0O4PugRVI/PwIhQOdATfWmnG4ZFd+prxKv15ZJIixUd0gqXZVFtvGbX+snRia9ukVwHpJpsERCm5w2ZOX5dZFGlg4pqECXkllLUMrjJg6tfwFrCDqYq3lPDsz06+8/Et0yWaHuH4M9PhNLQMuiVlOmZQPBlVZXYfsPsUKDbQ63AuV6LSAcTrdL30vy6Wfyuh7vAvM4oQT8UBkq+pozLsfkUOfkbZjLFCGRrWce8gE9OrIWRl8Qz78Hxl4jTxx2WJJatYoKnxcC3CXyyUxGmClQnoe5aNM93+C8811nVyMaafUAFqmaspQy0Ee5LK8F36KUTYCfjTdLu33yJ1P6f3HIM3QZishl1K26ANkvR6y3sE6P2hajhL/3Lhxl8tODJQG7sWB35QDnyYrUCDa7DsAS4OTcBOg5XBfGDeMqNI6ZYGDguWYtN5Fx+TIk/RNtJ1zeME4RgfQ59o2rW/h94MbGBsXo/52iCQxUBQ9J6X3E6yig/oqoqQAuClqf5BUm0z3caadDlJwdYEwLakWJo0OfpZLxXD36YncDiqIqaiiuEOvTl4ryca4IKbseqxhL40K/GbcFGueBsAdRzQ6dYPWFUG15aFaACuth1hv13Io4OfQIVRs7mWqu/UIh4jFCn4XRgUWHj1Bf9Ar0GABvU21Ssf9rJGjxgu3mAS9geSWp6lVJnDD9nyMxtYJaG3ciIG3pO8VmbzKWMGWDCqcFHPS0Hvcj6LoO0toDT28y4ixIJS24MLaQ02NXmBP4BZPXGVcZQPmB1y2HFGeWymd2RhlVGUYYriYvY9Rj9nWHsIBh7jvNbnwnwzcRs+qvT9muQoA77F1C3iC0zx4hkM4KIDsnodZkYzfsm/W6DnmKG+8yHILa5UF/gSlV6N2XMAowTFkevwiLQ0OfMFwkVMvoyqDgoY9hwJBQGMrMXCAsOD6/8pb/yBnnyU97/yznP+RTA+uzLDhXmCE1nUHrD24qeVeiosTI+/Ir/+VhQkXfsSdRy/8UK7+nOuSnYBGhc8CbeZq6PtEGYlh/F9TvLHP0jwNu/a4gLzyjKc5VBHN6KyMinvoLwXaWxpzCGWh97EwqfdRsgC1NtXHBSROoBuUeMd2MiEgzIK/omYYppE0EV0VIGdmF8181kwk+QbrnWbezGXM/JJ+C2Ak2OyvCqSxP/ha/JwD+Zz66bx6j+pqDt3Lqb8tQ3/Qf3/coIwSA2+HYXPhpjJQa21HmJupVGv+MYprO7mRTkFe3eQQdnoEgYDplkkmxJyo7+Fjki2rA8mA67jrvoLNYwAEvIvTFKYwUU5ilngjmKB0VGhAX+NeILjrfYJ+wR0f5XYACHRADy2KYgZ8zKktjYtuYolAT2b6i+9v037pfVwlik7Jvt9gf3Y9WOBDwp/GR2YH1Ab5+lwYMHLfLlT64YFRdJLPumcVYKd+ABOsCO473Ju5IR3B1HWRFeY0HQ5C36ty5edy/gce9zlYFx33sh7h7i+x5t0GbjpsG34FThczMS1Ma2L0WJ1hb7Ny7RfyytNMoBXZHtdIuFilBXd5ndg7aGC44VIRY6ea6dVQXSiNYWXGqpv5OJa6XWqV0PI8NK4BYxNu282X1Z5g/uPtVYB5yUvTQbp8UKGW+w7fBDQw3dDKmUrOHkHHLncmt8CMav+v5Pov11iE7RpusstlVGUWxj6UD3/KlIY19WQBV24lxyArRakRWCYM3sF3We4MHRggEN4jakFEMtvHX7GBsQLLBzPDZ/UVdgY+5BB6coYlvvlwZzAhMRgOUOVla9DR80ozqDwYhiduxAocx5AVaLabr/Jpkv2v0R7oiSn7q0ps+AdCo+pDET9iZEBwCzrjAIYR9NvQGbn83zLwBvfBYmec3+ahuUz7l1GVASzPnFLzHEtKraVJFaUHPVaAmFuUILgBGRCvi//FSdwMYougrS3dilG6WFZPODlmKxn0R9k/CBMMD/zJobepTq+9wIyACyOxDiJJDKEeYo47wpzxIK8cHeUcu/oT9BX4gGm9/gs5/2PKyrS1QWugvrINMIH7Pt3PznB9xYIOOaHB8vDv4bn1MVd09Xm5+jO5+QqXWRft7+kdboiBV7ZJS+5gZmH/4Z523s84ho+ZgSapoFMED23imoy8x8U0eFnyjdgAdECSfHhKxzGmvdElS4DyOQrT/DBzmqNnWeEX0LrLhAv7tHnE4HbQ5qdoaaBDYHVoZpXShwxB41meK0a0Cx+mVKAz6ABMfWVKlchUKLlRC2IgN5BvuOz4N6BAyhUx2c0iZgcj6YKYsrvLMdxBaY+4lbttjFhiIgoj+52tto/71kcyt3FiKZaYiCImJqKIjf+mtI1RxqnluC03N4hVWUQRq7JNaRsjlpiIwlh6OgKPPd5hqMhuvA7dCPGx8TFKQKzKIoqYmIgiJiaiiImJKGJiIoqYmIgiJiaSEPl/Cok413rspAkAAAAASUVORK5CYII=",alt:"carrito blanco con signo sumar"}),"Agregar al carrito"]})})]})},nt=function(e){var n=e.id,r=e.name,i=e.img,a=e.description,o=e.price,u=e.stock,c=s((0,t.useState)(0),2),l=c[0],f=c[1],h=(0,t.useContext)($e).addItem;return(0,Ze.jsxs)("article",{className:"CardItemDetailContainer",children:[(0,Ze.jsx)("header",{className:"CardItemDetailHeader",children:(0,Ze.jsx)("h2",{className:"CardItemDetailHeader",children:r})}),(0,Ze.jsx)("picture",{children:(0,Ze.jsx)("img",{src:i,alt:r,className:"CardItemDetailImg"})}),(0,Ze.jsxs)("section",{children:[(0,Ze.jsxs)("p",{className:"InfoDescriptionDetail",children:[(0,Ze.jsx)("b",{children:"Descripci\xf3n:"})," ",a]}),(0,Ze.jsxs)("p",{className:"InfoPriceDetail",children:[(0,Ze.jsx)("b",{children:"Precio: "}),"$",o]})]}),(0,Ze.jsx)("footer",{className:"CardItemFooter",children:u>0?(0,Ze.jsx)(Ze.Fragment,{children:l>0?(0,Ze.jsx)(qe,{to:"/cart",className:"Option",children:"Continuar con la compra"}):(0,Ze.jsx)(tt,{initial:1,stock:u,onAdd:function(e){f(e),h({id:n,name:r,price:o,img:i},e)}})}):(0,Ze.jsxs)(Ze.Fragment,{children:[(0,Ze.jsx)("h2",{children:"Producto sin stock"}),(0,Ze.jsx)(qe,{to:"/",children:(0,Ze.jsx)("button",{children:"Ir al Inicio"})})]})})]})};function rt(){return rt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},rt.apply(this,arguments)}function it(){it=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(_){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new I(i||[]);return r(o,"_invoke",{value:A(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=c;var f={};function d(){}function p(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==h(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function A(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},w(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function at(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ot(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){at(a,r,i,o,u,"next",e)}function u(e){at(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ut=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},st={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ut(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new ct;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ct=function(e){y(n,e);var t=b(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return v(n)}(E(Error)),lt=function(e){return function(e){var t=ut(e);return st.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ft=function(e){try{return st.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var ht=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},dt=function(){try{return ht()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/nuevamedicina_full",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&ft(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},pt=function(e){var t,n;return null===(n=null===(t=dt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},vt=function(){var e;return null===(e=dt())||void 0===e?void 0:e.config},mt=function(e){var t;return null===(t=dt())||void 0===t?void 0:t["_".concat(e)]},yt=function(){function e(){var t=this;f(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return v(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function gt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function kt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var wt=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(w(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w(a),bt.prototype.create),a}return v(n)}(E(Error)),bt=function(){function e(t,n,r){f(this,e),this.service=t,this.serviceName=n,this.errors=r}return v(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(At,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new wt(n,a,t)}}]),e}();var At=/\{\$([^}]+)}/g;function Et(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(St(u)&&St(s)){if(!xt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function St(e){return null!==e&&"object"===typeof e}function It(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ct(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Tt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var _t=function(){function e(t,n){var r=this;f(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return v(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=x(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Nt),void 0===r.error&&(r.error=Nt),void 0===r.complete&&(r.complete=Nt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Nt(){}function Dt(e){return e&&e._delegate?e._delegate:e}var Rt=function(){function e(t,n,r){f(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return v(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Pt="[DEFAULT]",Ot=function(){function e(t,n){f(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return v(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new yt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pt})}catch(c){}var t,n=x(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ot(it().mark((function e(){var t;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(l(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),l(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=x(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Pt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;return this.component?this.component.multipleInstances?e:Pt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Lt,Mt,Ft=function(){function e(t){f(this,e),this.name=t,this.providers=new Map}return v(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ot(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ut=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Mt||(Mt={}));var jt={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},Bt=Mt.INFO,Vt=(Ye(Lt={},Mt.DEBUG,"log"),Ye(Lt,Mt.VERBOSE,"log"),Ye(Lt,Mt.INFO,"info"),Ye(Lt,Mt.WARN,"warn"),Ye(Lt,Mt.ERROR,"error"),Lt),zt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Vt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ht=function(){function e(t){f(this,e),this.name=t,this._logLevel=Bt,this._logHandler=zt,this._userLogHandler=null,Ut.push(this)}return v(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Mt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?jt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Mt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Mt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mt.INFO].concat(t)),this._logHandler.apply(this,[this,Mt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mt.WARN].concat(t)),this._logHandler.apply(this,[this,Mt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Mt.ERROR].concat(t)),this._logHandler.apply(this,[this,Mt.ERROR].concat(t))}}]),e}();var Qt,qt,Kt=function(e,t){return t.some((function(t){return e instanceof t}))};var Wt=new WeakMap,Gt=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,Xt=new WeakMap;var Zt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Gt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Yt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function $t(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qt||(qt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(nn(this),n),tn(Wt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tn(e.apply(nn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[nn(this),t].concat(r));return Yt.set(a,t.sort?t.sort():[t]),tn(a)}}function en(e){return"function"===typeof e?$t(e):(e instanceof IDBTransaction&&function(e){if(!Gt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Gt.set(e,t)}}(e),Kt(e,Qt||(Qt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Zt):e)}function tn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(tn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Wt.set(t,e)})).catch((function(){})),Xt.set(t,e),t}(e);if(Jt.has(e))return Jt.get(e);var t=en(e);return t!==e&&(Jt.set(e,t),Xt.set(t,e)),t}var nn=function(e){return Xt.get(e)};var rn,an,on=["get","getKey","getAll","getAllKeys","count"],un=["put","add","delete","clear"],sn=new Map;function cn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(sn.get(t))return sn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=un.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||on.includes(n))){var a=function(){var e=ot(it().mark((function e(t){var a,o,u,s,c,l,f=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return sn.set(t,a),a}}}Zt=function(e){return Xe(Xe({},e),{},{get:function(t,n,r){return cn(t,n)||e.get(t,n,r)},has:function(t,n){return!!cn(t,n)||e.has(t,n)}})}(Zt);var ln=function(){function e(t){f(this,e),this.container=t}return v(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var fn="@firebase/app",hn="0.9.13",dn=new Ht("@firebase/app"),pn="[DEFAULT]",vn=(Ye(rn={},fn,"fire-core"),Ye(rn,"@firebase/app-compat","fire-core-compat"),Ye(rn,"@firebase/analytics","fire-analytics"),Ye(rn,"@firebase/analytics-compat","fire-analytics-compat"),Ye(rn,"@firebase/app-check","fire-app-check"),Ye(rn,"@firebase/app-check-compat","fire-app-check-compat"),Ye(rn,"@firebase/auth","fire-auth"),Ye(rn,"@firebase/auth-compat","fire-auth-compat"),Ye(rn,"@firebase/database","fire-rtdb"),Ye(rn,"@firebase/database-compat","fire-rtdb-compat"),Ye(rn,"@firebase/functions","fire-fn"),Ye(rn,"@firebase/functions-compat","fire-fn-compat"),Ye(rn,"@firebase/installations","fire-iid"),Ye(rn,"@firebase/installations-compat","fire-iid-compat"),Ye(rn,"@firebase/messaging","fire-fcm"),Ye(rn,"@firebase/messaging-compat","fire-fcm-compat"),Ye(rn,"@firebase/performance","fire-perf"),Ye(rn,"@firebase/performance-compat","fire-perf-compat"),Ye(rn,"@firebase/remote-config","fire-rc"),Ye(rn,"@firebase/remote-config-compat","fire-rc-compat"),Ye(rn,"@firebase/storage","fire-gcs"),Ye(rn,"@firebase/storage-compat","fire-gcs-compat"),Ye(rn,"@firebase/firestore","fire-fst"),Ye(rn,"@firebase/firestore-compat","fire-fst-compat"),Ye(rn,"fire-js","fire-js"),Ye(rn,"firebase","fire-js-all"),rn),mn=new Map,yn=new Map;function gn(e,t){try{e.container.addComponent(t)}catch(n){dn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function kn(e){var t=e.name;if(yn.has(t))return dn.debug("There were multiple attempts to register component ".concat(t,".")),!1;yn.set(t,e);var n,r=x(mn.values());try{for(r.s();!(n=r.n()).done;){gn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function wn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var bn=(Ye(an={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Ye(an,"bad-app-name","Illegal App name: '{$appName}"),Ye(an,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ye(an,"app-deleted","Firebase App named '{$appName}' already deleted"),Ye(an,"no-options","Need to provide options, when not being deployed to hosting via source."),Ye(an,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ye(an,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ye(an,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ye(an,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ye(an,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ye(an,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),an),An=new bt("app","Firebase",bn),En=function(){function e(t,n,r){var i=this;f(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rt("app",(function(){return i}),"PUBLIC"))}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}]),e}(),xn="9.23.0";function Sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:pn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=vt()),!n)throw An.create("no-options");var a=mn.get(i);if(a){if(xt(n,a.options)&&xt(r,a.config))return a;throw An.create("duplicate-app",{appName:i})}var o,u=new Ft(i),s=x(yn.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new En(n,r,u);return mn.set(i,l),l}function In(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=mn.get(e);if(!t&&e===pn&&vt())return Sn();if(!t)throw An.create("no-app",{appName:e});return t}function Cn(e,t,n){var r,i=null!==(r=vn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void dn.warn(u.join(" "))}kn(new Rt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Tn="firebase-heartbeat-database",_n=1,Nn="firebase-heartbeat-store",Dn=null;function Rn(){return Dn||(Dn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=tn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(tn(u.result),e.oldVersion,e.newVersion,tn(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(Tn,_n,{upgrade:function(e,t){if(0===t)e.createObjectStore(Nn)}}).catch((function(e){throw An.create("idb-open",{originalErrorMessage:e.message})}))),Dn}function Pn(e){return On.apply(this,arguments)}function On(){return On=ot(it().mark((function e(t){var n,r,i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rn();case 3:return n=e.sent,e.next=6,n.transaction(Nn).objectStore(Nn).get(Fn(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof wt?dn.warn(e.t0.message):(i=An.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),dn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),On.apply(this,arguments)}function Ln(e,t){return Mn.apply(this,arguments)}function Mn(){return Mn=ot(it().mark((function e(t,n){var r,i,a,o;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rn();case 3:return r=e.sent,i=r.transaction(Nn,"readwrite"),a=i.objectStore(Nn),e.next=8,a.put(n,Fn(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof wt?dn.warn(e.t0.message):(o=An.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),dn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Mn.apply(this,arguments)}function Fn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Un=function(){function e(t){var n=this;f(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new zn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return v(e,[{key:"triggerHeartbeat",value:function(){var e=ot(it().mark((function e(){var t,n,r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=jn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ot(it().mark((function e(){var t,n,r,i,a;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=jn(),n=Bn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=lt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jn(){return(new Date).toISOString().substring(0,10)}function Bn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=x(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Hn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Hn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Vn,zn=function(){function e(t){f(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return v(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ot(it().mark((function e(){var t;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Pn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ot(it().mark((function e(t){var n,r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ln(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ot(it().mark((function e(t){var n,r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ln(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(l(r.heartbeats),l(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Hn(e){return lt(JSON.stringify({version:2,heartbeats:e})).length}Vn="",kn(new Rt("platform-logger",(function(e){return new ln(e)}),"PRIVATE")),kn(new Rt("heartbeat",(function(e){return new Un(e)}),"PRIVATE")),Cn(fn,hn,Vn),Cn(fn,hn,"esm2017"),Cn("fire-js","");var Qn,qn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Kn={},Wn=Wn||{},Gn=qn||self;function Yn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Jn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Xn="closure_uid_"+(1e9*Math.random()>>>0),Zn=0;function $n(e,t,n){return e.call.apply(e.bind,arguments)}function er(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function tr(e,t,n){return(tr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$n:er).apply(null,arguments)}function nr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function rr(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ir(){this.s=this.s,this.o=this.o}ir.prototype.s=!1,ir.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Xn)&&e[Xn]||(e[Xn]=++Zn))},ir.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ar=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function or(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ur(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Yn(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function sr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}sr.prototype.h=function(){this.defaultPrevented=!0};var cr=function(){if(!Gn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Gn.addEventListener("test",(function(){}),t),Gn.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function lr(e){return/^[\s\xa0]*$/.test(e)}function fr(){var e=Gn.navigator;return e&&(e=e.userAgent)?e:""}function hr(e){return-1!=fr().indexOf(e)}function dr(e){return dr[" "](e),e}dr[" "]=function(){};var pr,vr,mr=hr("Opera"),yr=hr("Trident")||hr("MSIE"),gr=hr("Edge"),kr=gr||yr,wr=hr("Gecko")&&!(-1!=fr().toLowerCase().indexOf("webkit")&&!hr("Edge"))&&!(hr("Trident")||hr("MSIE"))&&!hr("Edge"),br=-1!=fr().toLowerCase().indexOf("webkit")&&!hr("Edge");function Ar(){var e=Gn.document;return e?e.documentMode:void 0}e:{var Er="",xr=function(){var e=fr();return wr?/rv:([^\);]+)(\)|;)/.exec(e):gr?/Edge\/([\d\.]+)/.exec(e):yr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):br?/WebKit\/(\S+)/.exec(e):mr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(xr&&(Er=xr?xr[1]:""),yr){var Sr=Ar();if(null!=Sr&&Sr>parseFloat(Er)){pr=String(Sr);break e}}pr=Er}if(Gn.document&&yr){var Ir=Ar();vr=Ir||(parseInt(pr,10)||void 0)}else vr=void 0;var Cr=vr;function Tr(e,t){if(sr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(wr){e:{try{dr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_r[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Tr.$.h.call(this)}}rr(Tr,sr);var _r={2:"touch",3:"pen",4:"mouse"};Tr.prototype.h=function(){Tr.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Nr="closure_listenable_"+(1e6*Math.random()|0),Dr=0;function Rr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Dr,this.fa=this.ia=!1}function Pr(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Or(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Lr(e){var t={};for(var n in e)t[n]=e[n];return t}var Mr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fr(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Mr.length;a++)n=Mr[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ur(e){this.src=e,this.g={},this.h=0}function jr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ar(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Pr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Br(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Ur.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Br(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Rr(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Vr="closure_lm_"+(1e6*Math.random()|0),zr={};function Hr(e,t,n,r,i){if(r&&r.once)return qr(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Hr(e,t[a],n,r,i);return null}return n=Zr(n),e&&e[Nr]?e.O(t,n,Jn(r)?!!r.capture:!!r,i):Qr(e,t,n,!1,r,i)}function Qr(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Jn(i)?!!i.capture:!!i,u=Jr(e);if(u||(e[Vr]=u=new Ur(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Yr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)cr||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Gr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function qr(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)qr(e,t[a],n,r,i);return null}return n=Zr(n),e&&e[Nr]?e.P(t,n,Jn(r)?!!r.capture:!!r,i):Qr(e,t,n,!0,r,i)}function Kr(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Kr(e,t[a],n,r,i);else r=Jn(r)?!!r.capture:!!r,n=Zr(n),e&&e[Nr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Br(a=e.g[t],n,r,i))&&(Pr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Jr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Br(t,n,r,i)),(n=-1<e?t[e]:null)&&Wr(n))}function Wr(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Nr])jr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Gr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Jr(t))?(jr(n,e),0==n.h&&(n.src=null,t[Vr]=null)):Pr(e)}}}function Gr(e){return e in zr?zr[e]:zr[e]="on"+e}function Yr(e,t){if(e.fa)e=!0;else{t=new Tr(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Wr(e),e=n.call(r,t)}return e}function Jr(e){return(e=e[Vr])instanceof Ur?e:null}var Xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zr(e){return"function"===typeof e?e:(e[Xr]||(e[Xr]=function(t){return e.handleEvent(t)}),e[Xr])}function $r(){ir.call(this),this.i=new Ur(this),this.S=this,this.J=null}function ei(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new sr(t,e);else if(t instanceof sr)t.target=t.target||e;else{var i=t;Fr(t=new sr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ti(o,r,!0,t)&&i}if(i=ti(o=t.g=e,r,!0,t)&&i,i=ti(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ti(o=t.g=n[a],r,!1,t)&&i}function ti(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&jr(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}rr($r,ir),$r.prototype[Nr]=!0,$r.prototype.removeEventListener=function(e,t,n,r){Kr(this,e,t,n,r)},$r.prototype.N=function(){if($r.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pr(n[r]);delete t.g[e],t.h--}}this.J=null},$r.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$r.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ni=Gn.JSON.stringify,ri=function(){function e(t,n){f(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return v(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function ii(){var e=hi,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ai=function(){function e(){f(this,e),this.h=this.g=null}return v(e,[{key:"add",value:function(e,t){var n=oi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),oi=new ri((function(){return new ui}),(function(e){return e.reset()})),ui=function(){function e(){f(this,e),this.next=this.g=this.h=null}return v(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function si(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ci(e){Gn.setTimeout((function(){throw e}),0)}var li,fi=!1,hi=new ai,di=function(){var e=Gn.Promise.resolve(void 0);li=function(){e.then(pi)}},pi=function(){for(var e;e=ii();){try{e.h.call(e.g)}catch(n){ci(n)}var t=oi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}fi=!1};function vi(e,t){$r.call(this),this.h=e||1,this.g=t||Gn,this.j=tr(this.qb,this),this.l=Date.now()}function mi(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function yi(e,t,n){if("function"===typeof e)n&&(e=tr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=tr(e.handleEvent,e)}return 2147483647<Number(t)?-1:Gn.setTimeout(e,t||0)}function gi(e){e.g=yi((function(){e.g=null,e.i&&(e.i=!1,gi(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}rr(vi,$r),(Qn=vi.prototype).ga=!1,Qn.T=null,Qn.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ei(this,"tick"),this.ga&&(mi(this),this.start()))}},Qn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qn.N=function(){vi.$.N.call(this),mi(this),delete this.g};var ki=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return v(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:gi(this)}},{key:"N",value:function(){rt(g(n.prototype),"N",this).call(this),this.g&&(Gn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ir);function wi(e){ir.call(this),this.h=e,this.g={}}rr(wi,ir);var bi=[];function Ai(e,t,n,r){Array.isArray(n)||(n&&(bi[0]=n.toString()),n=bi);for(var i=0;i<n.length;i++){var a=Hr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ei(e){Or(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Wr(e)}),e),e.g={}}function xi(){this.g=!0}function Si(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ni(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}wi.prototype.N=function(){wi.$.N.call(this),Ei(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xi.prototype.Ea=function(){this.g=!1},xi.prototype.info=function(){};var Ii={},Ci=null;function Ti(){return Ci=Ci||new $r}function _i(e){sr.call(this,Ii.Ta,e)}function Ni(e){var t=Ti();ei(t,new _i(t))}function Di(e,t){sr.call(this,Ii.STAT_EVENT,e),this.stat=t}function Ri(e){var t=Ti();ei(t,new Di(t,e))}function Pi(e,t){sr.call(this,Ii.Ua,e),this.size=t}function Oi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Gn.setTimeout((function(){e()}),t)}Ii.Ta="serverreachability",rr(_i,sr),Ii.STAT_EVENT="statevent",rr(Di,sr),Ii.Ua="timingevent",rr(Pi,sr);var Li={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Mi={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Fi(){}function Ui(e){return e.h||(e.h=e.i())}function ji(){}Fi.prototype.h=null;var Bi,Vi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zi(){sr.call(this,"d")}function Hi(){sr.call(this,"c")}function Qi(){}function qi(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new wi(this),this.P=Wi,e=kr?125:void 0,this.V=new vi(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ki}function Ki(){this.i=null,this.g="",this.h=!1}rr(zi,sr),rr(Hi,sr),rr(Qi,Fi),Qi.prototype.g=function(){return new XMLHttpRequest},Qi.prototype.i=function(){return{}},Bi=new Qi;var Wi=45e3,Gi={},Yi={};function Ji(e,t,n){e.L=1,e.v=va(la(t)),e.s=n,e.S=!0,Xi(e,null)}function Xi(e,t){e.G=Date.now(),ta(e),e.A=la(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Ta(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ki,e.g=No(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ki(tr(e.Pa,e,e.g),e.O)),Ai(e.U,e.g,"readystatechange",e.nb),t=e.I?Lr(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ni(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Zi(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function $i(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=ea(e,n))==Yi){4==t&&(e.o=4,Ri(14),i=!1),Si(e.j,e.m,null,"[Incomplete Response]");break}if(r==Gi){e.o=4,Ri(15),Si(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Si(e.j,e.m,r,null),oa(e,r)}Zi(e)&&r!=Yi&&r!=Gi&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ri(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ao(t),t.M=!0,Ri(11))):(Si(e.j,e.m,n,"[Invalid Chunked Response]"),aa(e),ia(e))}function ea(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Yi:(n=Number(t.substring(n,r)),isNaN(n)?Gi:(r+=1)+n>t.length?Yi:(t=t.slice(r,r+n),e.C=r+n,t))}function ta(e){e.Y=Date.now()+e.P,na(e,e.P)}function na(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Oi(tr(e.lb,e),t)}function ra(e){e.B&&(Gn.clearTimeout(e.B),e.B=null)}function ia(e){0==e.l.H||e.J||So(e.l,e)}function aa(e){ra(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,mi(e.V),Ei(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function oa(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||La(n.i,e)))if(!e.K&&La(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;xo(n),po(n)}bo(n),Ri(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Oi(tr(n.ib,n),6e3));if(1>=Oa(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Co(n,11)}else if((e.K||n.g==e)&&xo(n),!lr(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ma(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,pa(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=_o(r,r.J?r.pa:null,r.Y),d.K){Fa(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(ra(p),ta(p)),r.g=d}else wo(r);0<n.j.length&&mo(n)}else"stop"!=a[0]&&"close"!=a[0]||Co(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Co(n,7):ho(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Ni()}catch(a){}}function ua(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Yn(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Yn(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Yn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Qn=qi.prototype).setTimeout=function(e){this.P=e},Qn.nb=function(e){e=e.target;var t=this.M;t&&3==oo(e)?t.l():this.Pa(e)},Qn.Pa=function(e){try{if(e==this.g)e:{var t=oo(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||kr||this.g&&(this.h.h||this.g.ja()||uo(this.g)))){this.J||4!=t||7==n||Ni(),ra(this);var r=this.g.da();this.ca=r;t:if(Zi(this)){var i=uo(this.g);e="";var a=i.length,o=4==oo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){aa(this),ia(this);var u="";break t}this.h.i=new Gn.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lr(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Ri(12),aa(this),ia(this);break e}Si(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oa(this,r)}this.S?($i(this,t,u),kr&&this.i&&3==t&&(Ai(this.U,this.V,"tick",this.mb),this.V.start())):(Si(this.j,this.m,u,null),oa(this,u)),4==t&&aa(this),this.i&&!this.J&&(4==t?So(this.l,this):(this.i=!1,ta(this)))}else(function(e){var t={};e=(e.g&&2<=oo(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!lr(e[n])){var r=si(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Ri(12)):(this.o=0,Ri(13)),aa(this),ia(this)}}}catch(t){}},Qn.mb=function(){if(this.g){var e=oo(this.g),t=this.g.ja();this.C<t.length&&(ra(this),$i(this,e,t),this.i&&4!=e&&ta(this))}},Qn.cancel=function(){this.J=!0,aa(this)},Qn.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Ni(),Ri(17)),aa(this),this.o=2,ia(this)):na(this,this.Y-e)};var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ca){this.h=e.h,fa(this,e.j),this.s=e.s,this.g=e.g,ha(this,e.m),this.l=e.l;var t=e.i,n=new xa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),da(this,n),this.o=e.o}else e&&(t=String(e).match(sa))?(this.h=!1,fa(this,t[1]||"",!0),this.s=ma(t[2]||""),this.g=ma(t[3]||"",!0),ha(this,t[4]),this.l=ma(t[5]||"",!0),da(this,t[6]||"",!0),this.o=ma(t[7]||"")):(this.h=!1,this.i=new xa(null,this.h))}function la(e){return new ca(e)}function fa(e,t,n){e.j=n?ma(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ha(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function da(e,t,n){t instanceof xa?(e.i=t,function(e,t){t&&!e.j&&(Sa(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ia(this,t),Ta(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ya(t,Aa)),e.i=new xa(t,e.h))}function pa(e,t,n){e.i.set(t,n)}function va(e){return pa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ma(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ya(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ga),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ga(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ca.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ya(t,ka,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ya(t,ka,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ya(n,"/"==n.charAt(0)?ba:wa,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ya(n,Ea)),e.join("")};var ka=/[#\/\?@]/g,wa=/[#\?:]/g,ba=/[#\?]/g,Aa=/[#\?@]/g,Ea=/#/g;function xa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Sa(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ia(e,t){Sa(e),t=_a(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ca(e,t){return Sa(e),t=_a(e,t),e.g.has(t)}function Ta(e,t,n){Ia(e,t),0<n.length&&(e.i=null,e.g.set(_a(e,t),or(n)),e.h+=n.length)}function _a(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Qn=xa.prototype).add=function(e,t){Sa(this),this.i=null,e=_a(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Qn.forEach=function(e,t){Sa(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Qn.ta=function(){Sa(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Qn.Z=function(e){Sa(this);var t=[];if("string"===typeof e)Ca(this,e)&&(t=t.concat(this.g.get(_a(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Qn.set=function(e,t){return Sa(this),this.i=null,Ca(this,e=_a(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Qn.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Qn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Na=v((function e(t,n){f(this,e),this.g=t,this.map=n}));function Da(e){this.l=e||Ra,Gn.PerformanceNavigationTiming?e=0<(e=Gn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Gn.g&&Gn.g.Ka&&Gn.g.Ka()&&Gn.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ra=10;function Pa(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Oa(e){return e.h?1:e.g?e.g.size:0}function La(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ma(e,t){e.g?e.g.add(t):e.h=t}function Fa(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ua(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=x(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return or(e.i)}Da.prototype.cancel=function(){if(this.i=Ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=x(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var ja,Ba=function(){function e(){f(this,e)}return v(e,[{key:"stringify",value:function(e){return Gn.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Gn.JSON.parse(e,void 0)}}]),e}();function Va(){this.g=new Ba}function za(e,t,n){var r=n||"";try{ua(e,(function(e,n){var i=e;Jn(e)&&(i=ni(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ha(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Qa(e){this.l=e.fc||null,this.j=e.ob||!1}function qa(e,t){$r.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ka,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rr(Qa,Fi),Qa.prototype.g=function(){return new qa(this.l,this.j)},Qa.prototype.i=(ja={},function(){return ja}),rr(qa,$r);var Ka=0;function Wa(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ga(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ya(e)}function Ya(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Qn=qa.prototype).open=function(e,t){if(this.readyState!=Ka)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ya(this)},Qn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Gn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Qn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ga(this)),this.readyState=Ka},Qn.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ya(this)),this.g&&(this.readyState=3,Ya(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Gn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wa(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Qn.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ga(this):Ya(this),3==this.readyState&&Wa(this)}},Qn.Za=function(e){this.g&&(this.response=this.responseText=e,Ga(this))},Qn.Ya=function(e){this.g&&(this.response=e,Ga(this))},Qn.ka=function(){this.g&&Ga(this)},Qn.setRequestHeader=function(e,t){this.v.append(e,t)},Qn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Qn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(qa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ja=Gn.JSON.parse;function Xa(e){$r.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Za,this.L=this.M=!1}rr(Xa,$r);var Za="",$a=/^https?$/i,eo=["POST","PUT"];function to(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,no(e),io(e)}function no(e){e.F||(e.F=!0,ei(e,"complete"),ei(e,"error"))}function ro(e){if(e.h&&"undefined"!=typeof Wn&&(!e.C[1]||4!=oo(e)||2!=e.da()))if(e.v&&4==oo(e))yi(e.La,0,e);else if(ei(e,"readystatechange"),4==oo(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(sa)[1]||null;!a&&Gn.self&&Gn.self.location&&(a=Gn.self.location.protocol.slice(0,-1)),i=!$a.test(a?a.toLowerCase():"")}t=i}if(t)ei(e,"complete"),ei(e,"success");else{e.m=6;try{var o=2<oo(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",no(e)}}finally{io(e)}}}function io(e,t){if(e.g){ao(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||ei(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ao(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Gn.clearTimeout(e.A),e.A=null)}function oo(e){return e.g?e.g.readyState:0}function uo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Za:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(du){return null}}function so(e){var t="";return Or(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function co(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=so(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):pa(e,t,n))}function lo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function fo(e){this.Ga=0,this.j=[],this.l=new xi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lo("baseRetryDelayMs",5e3,e),this.hb=lo("retryDelaySeedMs",1e4,e),this.eb=lo("forwardChannelMaxRetries",2,e),this.xa=lo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Da(e&&e.concurrentRequestLimit),this.Ja=new Va,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ho(e){if(vo(e),3==e.H){var t=e.W++,n=la(e.I);if(pa(n,"SID",e.K),pa(n,"RID",t),pa(n,"TYPE","terminate"),go(e,n),(t=new qi(e,e.l,t)).L=2,t.v=va(la(n)),n=!1,Gn.navigator&&Gn.navigator.sendBeacon)try{n=Gn.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Gn.Image&&((new Image).src=t.v,n=!0),n||(t.g=No(t.l,null),t.g.ha(t.v)),t.G=Date.now(),ta(t)}To(e)}function po(e){e.g&&(Ao(e),e.g.cancel(),e.g=null)}function vo(e){po(e),e.u&&(Gn.clearTimeout(e.u),e.u=null),xo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Gn.clearTimeout(e.m),e.m=null)}function mo(e){if(!Pa(e.i)&&!e.m){e.m=!0;var t=e.Na;li||di(),fi||(li(),fi=!0),hi.add(t,e),e.C=0}}function yo(e,t){var n;n=t?t.m:e.W++;var r=la(e.I);pa(r,"SID",e.K),pa(r,"RID",n),pa(r,"AID",e.V),go(e,r),e.o&&e.s&&co(r,e.o,e.s),n=new qi(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ko(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ma(e.i,n),Ji(n,r,t)}function go(e,t){e.na&&Or(e.na,(function(e,n){pa(t,n,e)})),e.h&&ua({},(function(e,n){pa(t,n,e)}))}function ko(e,t,n){n=Math.min(e.j.length,n);var r=e.h?tr(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{za(l,o,"req"+c+"_")}catch(xu){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function wo(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;li||di(),fi||(li(),fi=!0),hi.add(t,e),e.A=0}}function bo(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Oi(tr(e.Ma,e),Io(e,e.A)),e.A++,!0)}function Ao(e){null!=e.B&&(Gn.clearTimeout(e.B),e.B=null)}function Eo(e){e.g=new qi(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=la(e.wa);pa(t,"RID","rpc"),pa(t,"SID",e.K),pa(t,"AID",e.V),pa(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&pa(t,"TO",e.qa),pa(t,"TYPE","xmlhttp"),go(e,t),e.o&&e.s&&co(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=va(la(t)),n.s=null,n.S=!0,Xi(n,e)}function xo(e){null!=e.v&&(Gn.clearTimeout(e.v),e.v=null)}function So(e,t){var n=null;if(e.g==t){xo(e),Ao(e),e.g=null;var r=2}else{if(!La(e.i,t))return;n=t.F,Fa(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ei(r=Ti(),new Pi(r,n)),mo(e)}else wo(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Oa(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Oi(tr(e.Na,e,t),Io(e,e.C)),e.C++,!0))}(e,t)||2==r&&bo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Co(e,5);break;case 4:Co(e,10);break;case 3:Co(e,6);break;default:Co(e,2)}}function Io(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Co(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=tr(e.pb,e);n||(n=new ca("//www.google.com/images/cleardot.gif"),Gn.location&&"http"==Gn.location.protocol||fa(n,"https"),va(n)),function(e,t){var n=new xi;if(Gn.Image){var r=new Image;r.onload=nr(Ha,n,r,"TestLoadImage: loaded",!0,t),r.onerror=nr(Ha,n,r,"TestLoadImage: error",!1,t),r.onabort=nr(Ha,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=nr(Ha,n,r,"TestLoadImage: timeout",!1,t),Gn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ri(2);e.H=0,e.h&&e.h.za(t),To(e),vo(e)}function To(e){if(e.H=0,e.ma=[],e.h){var t=Ua(e.i);0==t.length&&0==e.j.length||(ur(e.ma,t),ur(e.ma,e.j),e.i.i.length=0,or(e.j),e.j.length=0),e.h.ya()}}function _o(e,t,n){var r=n instanceof ca?la(n):new ca(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ha(r,r.m);else{var i=Gn.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ca(null);r&&fa(a,r),t&&(a.g=t),i&&ha(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&pa(r,n,t),pa(r,"VER",e.ra),go(e,r),r}function No(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Xa(new Qa({ob:!0})):new Xa(e.va)).Oa(e.J),t}function Do(){}function Ro(){if(yr&&!(10<=Number(Cr)))throw Error("Environmental error: no available transport.")}function Po(e,t){$r.call(this),this.g=new fo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!lr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!lr(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Mo(this)}function Oo(e){zi.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Lo(){Hi.call(this),this.status=1}function Mo(e){this.g=e}function Fo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Uo(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function jo(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Qn=Xa.prototype).Oa=function(e){this.M=e},Qn.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Bi.g(),this.C=this.u?Ui(this.u):Ui(Bi),this.g.onreadystatechange=tr(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void to(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=x(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Gn.FormData&&e instanceof Gn.FormData,!(0<=ar(eo,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=x(n);try{for(l.s();!(c=l.n()).done;){var f=s(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ao(this),0<this.B&&((this.L=function(e){return yr&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tr(this.ua,this)):this.A=yi(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){to(this,u)}},Qn.ua=function(){"undefined"!=typeof Wn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ei(this,"timeout"),this.abort(8))},Qn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ei(this,"complete"),ei(this,"abort"),io(this))},Qn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),io(this,!0)),Xa.$.N.call(this)},Qn.La=function(){this.s||(this.G||this.v||this.l?ro(this):this.kb())},Qn.kb=function(){ro(this)},Qn.isActive=function(){return!!this.g},Qn.da=function(){try{return 2<oo(this)?this.g.status:-1}catch(ja){return-1}},Qn.ja=function(){try{return this.g?this.g.responseText:""}catch(ja){return""}},Qn.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ja(t)}},Qn.Ia=function(){return this.m},Qn.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Qn=fo.prototype).ra=8,Qn.H=1,Qn.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new qi(this,this.l,e),n=this.s;if(this.U&&(n?Fr(n=Lr(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ko(this,t,r),pa(i=la(this.I),"RID",e),pa(i,"CVER",22),this.F&&pa(i,"X-HTTP-Session-Id",this.F),go(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(so(n)))+"&"+r:this.o&&co(i,this.o,n)),Ma(this.i,t),this.bb&&pa(i,"TYPE","init"),this.P?(pa(i,"$req",r),pa(i,"SID","null"),t.aa=!0,Ji(t,i,null)):Ji(t,i,r),this.H=2}}else 3==this.H&&(e?yo(this,e):0==this.j.length||Pa(this.i)||yo(this))},Qn.Ma=function(){if(this.u=null,Eo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Oi(tr(this.jb,this),e)}},Qn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ri(10),po(this),Eo(this))},Qn.ib=function(){null!=this.v&&(this.v=null,po(this),bo(this),Ri(19))},Qn.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ri(2)):(this.l.info("Failed to ping google.com"),Ri(1))},Qn.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qn=Do.prototype).Ba=function(){},Qn.Aa=function(){},Qn.za=function(){},Qn.ya=function(){},Qn.isActive=function(){return!0},Qn.Va=function(){},Ro.prototype.g=function(e,t){return new Po(e,t)},rr(Po,$r),Po.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ri(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=_o(e,null,e.Y),mo(e)},Po.prototype.close=function(){ho(this.g)},Po.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ni(e),e=n);t.j.push(new Na(t.fb++,e)),3==t.H&&mo(t)},Po.prototype.N=function(){this.g.h=null,delete this.j,ho(this.g),delete this.g,Po.$.N.call(this)},rr(Oo,zi),rr(Lo,Hi),rr(Mo,Do),Mo.prototype.Ba=function(){ei(this.g,"a")},Mo.prototype.Aa=function(e){ei(this.g,new Oo(e))},Mo.prototype.za=function(e){ei(this.g,new Lo)},Mo.prototype.ya=function(){ei(this.g,"b")},rr(Fo,(function(){this.blockSize=-1})),Fo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fo.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Uo(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Uo(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Uo(this,r),i=0;break}}this.h=i,this.i+=t},Fo.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Bo={};function Vo(e){return-128<=e&&128>e?function(e,t){var n=Bo;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new jo([0|e],0>e?-1:0)})):new jo([0|e],0>e?-1:0)}function zo(e){if(isNaN(e)||!isFinite(e))return Qo;if(0>e)return Yo(zo(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ho;return new jo(t,0)}var Ho=4294967296,Qo=Vo(0),qo=Vo(1),Ko=Vo(16777216);function Wo(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Go(e){return-1==e.h}function Yo(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new jo(n,~e.h).add(qo)}function Jo(e,t){return e.add(Yo(t))}function Xo(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Zo(e,t){this.g=e,this.h=t}function $o(e,t){if(Wo(t))throw Error("division by zero");if(Wo(e))return new Zo(Qo,Qo);if(Go(e))return t=$o(Yo(e),t),new Zo(Yo(t.g),Yo(t.h));if(Go(t))return t=$o(e,Yo(t)),new Zo(Yo(t.g),t.h);if(30<e.g.length){if(Go(e)||Go(t))throw Error("slowDivide_ only works with positive integers.");for(var n=qo,r=t;0>=r.X(e);)n=eu(n),r=eu(r);var i=tu(n,1),a=tu(r,1);for(r=tu(r,2),n=tu(n,2);!Wo(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=tu(r,1),n=tu(n,1)}return t=Jo(e,i.R(t)),new Zo(i,t)}for(i=Qo;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=zo(n)).R(t);Go(o)||0<o.X(e);)o=(a=zo(n-=r)).R(t);Wo(a)&&(a=qo),i=i.add(a),e=Jo(e,o)}return new Zo(i,e)}function eu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new jo(n,e.h)}function tu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new jo(i,e.h)}(Qn=jo.prototype).ea=function(){if(Go(this))return-Yo(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ho+r)*t,t*=Ho}return e},Qn.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Wo(this))return"0";if(Go(this))return"-"+Yo(this).toString(e);for(var t=zo(Math.pow(e,6)),n=this,r="";;){var i=$o(n,t).g,a=((0<(n=Jo(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Wo(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Qn.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Qn.X=function(e){return Go(e=Jo(this,e))?-1:Wo(e)?0:1},Qn.abs=function(){return Go(this)?Yo(this):this},Qn.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new jo(n,-2147483648&n[n.length-1]?-1:0)},Qn.R=function(e){if(Wo(this)||Wo(e))return Qo;if(Go(this))return Go(e)?Yo(this).R(Yo(e)):Yo(Yo(this).R(e));if(Go(e))return Yo(this.R(Yo(e)));if(0>this.X(Ko)&&0>e.X(Ko))return zo(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Xo(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Xo(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Xo(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Xo(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new jo(n,0)},Qn.gb=function(e){return $o(this,e).h},Qn.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new jo(n,this.h&e.h)},Qn.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new jo(n,this.h|e.h)},Qn.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new jo(n,this.h^e.h)},Ro.prototype.createWebChannel=Ro.prototype.g,Po.prototype.send=Po.prototype.u,Po.prototype.open=Po.prototype.m,Po.prototype.close=Po.prototype.close,Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,Mi.COMPLETE="complete",ji.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",$r.prototype.listen=$r.prototype.O,Xa.prototype.listenOnce=Xa.prototype.P,Xa.prototype.getLastError=Xa.prototype.Sa,Xa.prototype.getLastErrorCode=Xa.prototype.Ia,Xa.prototype.getStatus=Xa.prototype.da,Xa.prototype.getResponseJson=Xa.prototype.Wa,Xa.prototype.getResponseText=Xa.prototype.ja,Xa.prototype.send=Xa.prototype.ha,Xa.prototype.setWithCredentials=Xa.prototype.Oa,Fo.prototype.digest=Fo.prototype.l,Fo.prototype.reset=Fo.prototype.reset,Fo.prototype.update=Fo.prototype.j,jo.prototype.add=jo.prototype.add,jo.prototype.multiply=jo.prototype.R,jo.prototype.modulo=jo.prototype.gb,jo.prototype.compare=jo.prototype.X,jo.prototype.toNumber=jo.prototype.ea,jo.prototype.toString=jo.prototype.toString,jo.prototype.getBits=jo.prototype.D,jo.fromNumber=zo,jo.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Yo(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=zo(Math.pow(n,8)),i=Qo,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=zo(Math.pow(n,o)),i=i.R(o).add(zo(u))):i=(i=i.R(r)).add(zo(u))}return i};var nu=Kn.createWebChannelTransport=function(){return new Ro},ru=Kn.getStatEventTarget=function(){return Ti()},iu=Kn.ErrorCode=Li,au=Kn.EventType=Mi,ou=Kn.Event=Ii,uu=Kn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},su=Kn.FetchXmlHttpFactory=Qa,cu=Kn.WebChannel=ji,lu=Kn.XhrIo=Xa,fu=Kn.Md5=Fo,hu=Kn.Integer=jo,du="@firebase/firestore",pu=function(){function e(t){f(this,e),this.uid=t}return v(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();pu.UNAUTHENTICATED=new pu(null),pu.GOOGLE_CREDENTIALS=new pu("google-credentials-uid"),pu.FIRST_PARTY=new pu("first-party-uid"),pu.MOCK_USER=new pu("mock-user");var vu="9.23.0",mu=new Ht("@firebase/firestore");function yu(){return mu.logLevel}function gu(e){if(mu.logLevel<=Mt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bu);mu.debug.apply(mu,["Firestore (".concat(vu,"): ").concat(e)].concat(l(i)))}}function ku(e){if(mu.logLevel<=Mt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bu);mu.error.apply(mu,["Firestore (".concat(vu,"): ").concat(e)].concat(l(i)))}}function wu(e){if(mu.logLevel<=Mt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bu);mu.warn.apply(mu,["Firestore (".concat(vu,"): ").concat(e)].concat(l(i)))}}function bu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Au(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(vu,") INTERNAL ASSERTION FAILED: ")+e;throw ku(t),new Error(t)}function Eu(e,t){e||Au()}function xu(e,t){return e}var Su={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Iu=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return v(n)}(wt),Cu=v((function e(){var t=this;f(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Tu=v((function e(t,n){f(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),_u=function(){function e(){f(this,e)}return v(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(pu.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Nu=function(){function e(t){f(this,e),this.token=t,this.changeListener=null}return v(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Du=function(){function e(t){f(this,e),this.t=t,this.currentUser=pu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Cu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Cu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){gu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(gu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Cu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(gu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Eu("string"==typeof n.accessToken),new Tu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Eu(null===e||"string"==typeof e),new pu(e)}}]),e}(),Ru=function(){function e(t,n,r){f(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=pu.FIRST_PARTY,this.g=new Map}return v(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Pu=function(){function e(t,n,r){f(this,e),this.h=t,this.l=n,this.m=r}return v(e,[{key:"getToken",value:function(){return Promise.resolve(new Ru(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(pu.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ou=v((function e(t){f(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Lu=function(){function e(t){f(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&gu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,gu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){gu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):gu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Eu("string"==typeof t.token),e.T=t.token,new Ou(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Mu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Fu=function(){function e(){f(this,e)}return v(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Mu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Uu(e,t){return e<t?-1:e>t?1:0}function ju(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Bu=function(){function e(t,n){if(f(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Iu(Su.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Iu(Su.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Iu(Su.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Iu(Su.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return v(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Uu(this.nanoseconds,e.nanoseconds):Uu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Vu=function(){function e(t){f(this,e),this.timestamp=t}return v(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Bu(0,0))}},{key:"max",value:function(){return new e(new Bu(253402300799,999999999))}}]),e}(),zu=function(){function e(t,n,r){f(this,e),void 0===n?n=0:n>t.length&&Au(),void 0===r?r=t.length-n:r>t.length-n&&Au(),this.segments=t,this.offset=n,this.len=r}return v(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Hu=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Iu(Su.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,l(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zu),Qu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qu=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Qu.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Iu(Su.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Iu(Su.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Iu(Su.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Iu(Su.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zu),Ku=function(){function e(t){f(this,e),this.path=t}return v(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Hu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Hu.fromString(t))}},{key:"fromName",value:function(t){return new e(Hu.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Hu.emptyPath())}},{key:"comparator",value:function(e,t){return Hu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Hu(t.slice()))}}]),e}(),Wu=v((function e(t,n,r,i){f(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Wu.UNKNOWN_ID=-1;function Gu(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Vu.fromTimestamp(1e9===r?new Bu(n+1,0):new Bu(n,r));return new Ju(i,Ku.empty(),t)}function Yu(e){return new Ju(e.readTime,e.key,-1)}var Ju=function(){function e(t,n,r){f(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return v(e,null,[{key:"min",value:function(){return new e(Vu.min(),Ku.empty(),-1)}},{key:"max",value:function(){return new e(Vu.max(),Ku.empty(),-1)}}]),e}();function Xu(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ku.comparator(e.documentKey,t.documentKey))?n:Uu(e.largestBatchId,t.largestBatchId)}var Zu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$u=function(){function e(){f(this,e),this.onCommittedListeners=[]}return v(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function es(e){return ts.apply(this,arguments)}function ts(){return(ts=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Su.FAILED_PRECONDITION&&t.message===Zu){e.next=2;break}throw t;case 2:gu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ns=function(){function e(t){var n=this;f(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return v(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Au(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=x(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function rs(e){return"IndexedDbTransactionError"===e.name}var is=function(){function e(t,n){var r=this;f(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return v(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function as(e){return null==e}function os(e){return 0===e&&1/e==-1/0}function us(e){return"number"==typeof e&&Number.isInteger(e)&&!os(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}is.ct=-1;var ss=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),cs=([].concat(l(ss),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),ls=cs;[].concat(ls,["indexConfiguration","indexState","indexEntries"]);function fs(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hs(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ds(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ps=function(){function e(t,n){f(this,e),this.comparator=t,this.root=n||ms.EMPTY}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ms.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ms.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new vs(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new vs(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new vs(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new vs(this.root,e,this.comparator,!0)}}]),e}(),vs=function(){function e(t,n,r,i){f(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return v(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ms=function(){function e(t,n,r,i,a){f(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return v(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Au();if(this.right.isRed())throw Au();var e=this.left.check();if(e!==this.right.check())throw Au();return e+(this.isRed()?0:1)}}]),e}();ms.EMPTY=null,ms.RED=!0,ms.BLACK=!1,ms.EMPTY=new(function(){function e(){f(this,e),this.size=0}return v(e,[{key:"key",get:function(){throw Au()}},{key:"value",get:function(){throw Au()}},{key:"color",get:function(){throw Au()}},{key:"left",get:function(){throw Au()}},{key:"right",get:function(){throw Au()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ms(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ys=function(){function e(t){f(this,e),this.comparator=t,this.data=new ps(this.comparator)}return v(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new gs(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new gs(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),gs=function(){function e(t){f(this,e),this.iter=t}return v(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var ks=function(){function e(t){f(this,e),this.fields=t,t.sort(qu.comparator)}return v(e,[{key:"unionWith",value:function(t){var n,r=new ys(qu.comparator),i=x(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=x(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=x(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ju(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),ws=function(e){y(n,e);var t=b(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return v(n)}(E(Error));var bs=function(e){function t(e){f(this,t),this.binaryString=e}return v(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Uu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ws("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();bs.EMPTY_BYTE_STRING=new bs("");var As=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(e){if(Eu(!!e),"string"==typeof e){var t=0,n=As.exec(e);if(Eu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xs(e.seconds),nanos:xs(e.nanos)}}function xs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ss(e){return"string"==typeof e?bs.fromBase64String(e):bs.fromUint8Array(e)}function Is(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cs(e){var t=e.mapValue.fields.__previous_value__;return Is(t)?Cs(t):t}function Ts(e){var t=Es(e.mapValue.fields.__local_write_time__.timestampValue);return new Bu(t.seconds,t.nanos)}var _s=v((function e(t,n,r,i,a,o,u,s,c){f(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),Ns=function(){function e(t,n){f(this,e),this.projectId=t,this.database=n||"(default)"}return v(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Ds={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Rs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Is(e)?4:Ks(e)?9007199254740991:10:Au()}function Ps(e,t){if(e===t)return!0;var n=Rs(e);if(n!==Rs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ts(e).isEqual(Ts(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Es(e.timestampValue),r=Es(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ss(e.bytesValue).isEqual(Ss(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xs(e.geoPointValue.latitude)===xs(t.geoPointValue.latitude)&&xs(e.geoPointValue.longitude)===xs(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xs(e.integerValue)===xs(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=xs(e.doubleValue),r=xs(t.doubleValue);return n===r?os(n)===os(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ju(e.arrayValue.values||[],t.arrayValue.values||[],Ps);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(fs(n)!==fs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ps(n[i],r[i])))return!1;return!0}(e,t);default:return Au()}}function Os(e,t){return void 0!==(e.values||[]).find((function(e){return Ps(e,t)}))}function Ls(e,t){if(e===t)return 0;var n=Rs(e),r=Rs(t);if(n!==r)return Uu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Uu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=xs(e.integerValue||e.doubleValue),r=xs(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ms(e.timestampValue,t.timestampValue);case 4:return Ms(Ts(e),Ts(t));case 5:return Uu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ss(e),r=Ss(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Uu(n[i],r[i]);if(0!==a)return a}return Uu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Uu(xs(e.latitude),xs(t.latitude));return 0!==n?n:Uu(xs(e.longitude),xs(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ls(n[i],r[i]);if(a)return a}return Uu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ds.mapValue&&t===Ds.mapValue)return 0;if(e===Ds.mapValue)return 1;if(t===Ds.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Uu(r[o],a[o]);if(0!==u)return u;var s=Ls(n[r[o]],i[a[o]]);if(0!==s)return s}return Uu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Au()}}function Ms(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Uu(e,t);var n=Es(e),r=Es(t),i=Uu(n.seconds,r.seconds);return 0!==i?i:Uu(n.nanos,r.nanos)}function Fs(e){return Us(e)}function Us(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Es(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ss(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ku.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=x(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Us(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=x(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Us(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Au();var t,n}function js(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Bs(e){return!!e&&"integerValue"in e}function Vs(e){return!!e&&"arrayValue"in e}function zs(e){return!!e&&"nullValue"in e}function Hs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qs(e){return!!e&&"mapValue"in e}function qs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return hs(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=qs(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=qs(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ks(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Ws=function(){function e(t){f(this,e),this.value=t}return v(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Qs(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qs(t)}},{key:"setAll",value:function(e){var t=this,n=qu.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=qs(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Qs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ps(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Qs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){hs(t,(function(t,n){return e[t]=n}));var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(qs(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Gs(e){var t=[];return hs(e.fields,(function(e,n){var r=new qu([e]);if(Qs(n)){var i=Gs(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=x(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ks(t)}var Ys=function(){function e(t,n,r,i,a,o,u){f(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return v(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Vu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ws.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ws.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Vu.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Vu.min(),Vu.min(),Vu.min(),Ws.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Vu.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Vu.min(),Vu.min(),Ws.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Vu.min(),Vu.min(),Ws.empty(),2)}}]),e}(),Js=v((function e(t,n){f(this,e),this.position=t,this.inclusive=n}));function Xs(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ku.comparator(Ku.fromName(o.referenceValue),n.key):Ls(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Zs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ps(e.position[n],t.position[n]))return!1;return!0}var $s=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";f(this,e),this.field=t,this.dir=n}));function ec(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var tc=v((function e(){f(this,e)})),nc=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ls(t,this.value)):null!==t&&Rs(this.value)===Rs(t)&&this.matchesComparison(Ls(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Au()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new lc(e,t,r):"array-contains"===t?new pc(e,r):"in"===t?new vc(e,r):"not-in"===t?new mc(e,r):"array-contains-any"===t?new yc(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new fc(e,n):new hc(e,n)}}]),n}(tc),rc=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return v(n,[{key:"matches",value:function(e){return ic(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=x(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(tc);function ic(e){return"and"===e.op}function ac(e){return oc(e)&&ic(e)}function oc(e){var t,n=x(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof rc)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function uc(e){if(e instanceof nc)return e.field.canonicalString()+e.op.toString()+Fs(e.value);if(ac(e))return e.filters.map((function(e){return uc(e)})).join(",");var t=e.filters.map((function(e){return uc(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function sc(e,t){return e instanceof nc?function(e,t){return t instanceof nc&&e.op===t.op&&e.field.isEqual(t.field)&&Ps(e.value,t.value)}(e,t):e instanceof rc?function(e,t){return t instanceof rc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&sc(n,t.filters[r])}),!0)}(e,t):void Au()}function cc(e){return e instanceof nc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Fs(e.value))}(e):e instanceof rc?function(e){return e.op.toString()+" {"+e.getFilters().map(cc).join(" ,")+"}"}(e):"Filter"}var lc=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,i)).key=Ku.fromName(i.referenceValue),a}return v(n,[{key:"matches",value:function(e){var t=Ku.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(nc),fc=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,"in",r)).keys=dc("in",r),i}return v(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(nc),hc=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,"not-in",r)).keys=dc("not-in",r),i}return v(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(nc);function dc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ku.fromName(e.referenceValue)}))}var pc=function(e){y(n,e);var t=b(n);function n(e,r){return f(this,n),t.call(this,e,"array-contains",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Vs(t)&&Os(t.arrayValue,this.value)}}]),n}(nc),vc=function(e){y(n,e);var t=b(n);function n(e,r){return f(this,n),t.call(this,e,"in",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Os(this.value.arrayValue,t)}}]),n}(nc),mc=function(e){y(n,e);var t=b(n);function n(e,r){return f(this,n),t.call(this,e,"not-in",r)}return v(n,[{key:"matches",value:function(e){if(Os(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Os(this.value.arrayValue,t)}}]),n}(nc),yc=function(e){y(n,e);var t=b(n);function n(e,r){return f(this,n),t.call(this,e,"array-contains-any",r)}return v(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Vs(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Os(t.value.arrayValue,e)}))}}]),n}(nc),gc=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;f(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.dt=null}));function kc(e){return new gc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function wc(e){var t=xu(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return uc(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),as(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Fs(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Fs(e)})).join(",")),t.dt=n}return t.dt}function bc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ec(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!sc(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zs(e.startAt,t.startAt)&&Zs(e.endAt,t.endAt)}function Ac(e){return Ku.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ec=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;f(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}));function xc(e,t,n,r,i,a,o,u){return new Ec(e,t,n,r,i,a,o,u)}function Sc(e){return new Ec(e)}function Ic(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Cc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Tc(e){var t,n=x(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function _c(e){return null!==e.collectionGroup}function Nc(e){var t=xu(e);if(null===t.wt){t.wt=[];var n=Tc(t),r=Cc(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new $s(n)),t.wt.push(new $s(qu.keyField(),"asc"));else{var i,a=!1,o=x(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new $s(qu.keyField(),s))}}}return t.wt}function Dc(e){var t=xu(e);if(!t._t)if("F"===t.limitType)t._t=kc(t.path,t.collectionGroup,Nc(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=x(Nc(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new $s(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Js(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Js(t.startAt.position,t.startAt.inclusive):null;t._t=kc(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function Rc(e,t){t.getFirstInequalityField(),Tc(e);var n=e.filters.concat([t]);return new Ec(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Pc(e,t,n){return new Ec(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Oc(e,t){return bc(Dc(e),Dc(t))&&e.limitType===t.limitType}function Lc(e){return"".concat(wc(Dc(e)),"|lt:").concat(e.limitType)}function Mc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return cc(e)})).join(", "),"]")),as(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Fs(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Fs(e)})).join(",")),"Target(".concat(t,")")}(Dc(e)),"; limitType=").concat(e.limitType,")")}function Fc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ku.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=x(Nc(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=x(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Xs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Nc(e),t))&&!(e.endAt&&!function(e,t,n){var r=Xs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Nc(e),t))}(e,t)}function Uc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jc(e){return function(t,n){var r,i=!1,a=x(Nc(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Bc(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Bc(e,t,n){var r=e.field.isKeyField()?Ku.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ls(r,i):Au()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Au()}}var Vc=function(){function e(t,n){f(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return v(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){hs(this.inner,(function(t,n){var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ds(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),zc=new ps(Ku.comparator);function Hc(){return zc}var Qc=new ps(Ku.comparator);function qc(){for(var e=Qc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Kc(e){var t=Qc;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Wc(){return Yc()}function Gc(){return Yc()}function Yc(){return new Vc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Jc=new ps(Ku.comparator),Xc=new ys(Ku.comparator);function Zc(){for(var e=Xc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var $c=new ys(Uu);function el(){return $c}function tl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:os(t)?"-0":t}}function nl(e){return{integerValue:""+e}}function rl(e,t){return us(t)?nl(t):tl(e,t)}var il=v((function e(){f(this,e),this._=void 0}));function al(e,t,n){return e instanceof sl?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Is(t)&&(t=Cs(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof cl?ll(e,t):e instanceof fl?hl(e,t):function(e,t){var n=ul(e,t),r=pl(n)+pl(e.gt);return Bs(n)&&Bs(e.gt)?nl(r):tl(e.serializer,r)}(e,t)}function ol(e,t,n){return e instanceof cl?ll(e,t):e instanceof fl?hl(e,t):n}function ul(e,t){return e instanceof dl?Bs(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var sl=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n)}(il),cl=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this)).elements=e,r}return v(n)}(il);function ll(e,t){var n,r=vl(t),i=x(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ps(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var fl=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this)).elements=e,r}return v(n)}(il);function hl(e,t){var n,r=vl(t),i=x(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ps(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var dl=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return v(n)}(il);function pl(e){return xs(e.integerValue||e.doubleValue)}function vl(e){return Vs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ml=v((function e(t,n){f(this,e),this.version=t,this.transformResults=n})),yl=function(){function e(t,n){f(this,e),this.updateTime=t,this.exists=n}return v(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function gl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var kl=v((function e(){f(this,e)}));function wl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Rl(e.key,yl.none()):new Sl(e.key,e.data,yl.none());var n,r=e.data,i=Ws.empty(),a=new ys(qu.comparator),o=x(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Il(e.key,i,new ks(a.toArray()),yl.none())}function bl(e,t,n){e instanceof Sl?function(e,t,n){var r=e.value.clone(),i=Tl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Il?function(e,t,n){if(gl(e.precondition,t)){var r=Tl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Cl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Al(e,t,n,r){return e instanceof Sl?function(e,t,n,r){if(!gl(e.precondition,t))return n;var i=e.value.clone(),a=_l(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Il?function(e,t,n,r){if(!gl(e.precondition,t))return n;var i=_l(e.fieldTransforms,r,t),a=t.data;return a.setAll(Cl(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return gl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function El(e,t){var n,r=null,i=x(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=ul(a.transform,o||null);null!=u&&(null===r&&(r=Ws.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function xl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ju(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof cl&&t instanceof cl||e instanceof fl&&t instanceof fl?ju(e.elements,t.elements,Ps):e instanceof dl&&t instanceof dl?Ps(e.gt,t.gt):e instanceof sl&&t instanceof sl}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Sl=function(e){y(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return f(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kl),Il=function(e){y(n,e);var t=b(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return f(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return v(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(kl);function Cl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Tl(e,t,n){var r=new Map;Eu(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,ol(o,u,n[i]))}return r}function _l(e,t,n){var r,i=new Map,a=x(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,al(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Nl,Dl,Rl=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kl),Pl=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kl),Ol=function(){function e(t,n,r,i){f(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return v(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&bl(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=x(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Al(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=x(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Al(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Gc();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=wl(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Vu.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Zc())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ju(this.mutations,e.mutations,(function(e,t){return xl(e,t)}))&&ju(this.baseMutations,e.baseMutations,(function(e,t){return xl(e,t)}))}}]),e}(),Ll=function(){function e(t,n,r,i){f(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return v(e,null,[{key:"from",value:function(t,n,r){Eu(t.mutations.length===r.length);for(var i=Jc,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Ml=function(){function e(t,n){f(this,e),this.largestBatchId=t,this.mutation=n}return v(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Fl=v((function e(t,n){f(this,e),this.count=t,this.unchangedNames=n}));function Ul(e){switch(e){default:return Au();case Su.CANCELLED:case Su.UNKNOWN:case Su.DEADLINE_EXCEEDED:case Su.RESOURCE_EXHAUSTED:case Su.INTERNAL:case Su.UNAVAILABLE:case Su.UNAUTHENTICATED:return!1;case Su.INVALID_ARGUMENT:case Su.NOT_FOUND:case Su.ALREADY_EXISTS:case Su.PERMISSION_DENIED:case Su.FAILED_PRECONDITION:case Su.ABORTED:case Su.OUT_OF_RANGE:case Su.UNIMPLEMENTED:case Su.DATA_LOSS:return!0}}function jl(e){if(void 0===e)return ku("GRPC error has no .code"),Su.UNKNOWN;switch(e){case Nl.OK:return Su.OK;case Nl.CANCELLED:return Su.CANCELLED;case Nl.UNKNOWN:return Su.UNKNOWN;case Nl.DEADLINE_EXCEEDED:return Su.DEADLINE_EXCEEDED;case Nl.RESOURCE_EXHAUSTED:return Su.RESOURCE_EXHAUSTED;case Nl.INTERNAL:return Su.INTERNAL;case Nl.UNAVAILABLE:return Su.UNAVAILABLE;case Nl.UNAUTHENTICATED:return Su.UNAUTHENTICATED;case Nl.INVALID_ARGUMENT:return Su.INVALID_ARGUMENT;case Nl.NOT_FOUND:return Su.NOT_FOUND;case Nl.ALREADY_EXISTS:return Su.ALREADY_EXISTS;case Nl.PERMISSION_DENIED:return Su.PERMISSION_DENIED;case Nl.FAILED_PRECONDITION:return Su.FAILED_PRECONDITION;case Nl.ABORTED:return Su.ABORTED;case Nl.OUT_OF_RANGE:return Su.OUT_OF_RANGE;case Nl.UNIMPLEMENTED:return Su.UNIMPLEMENTED;case Nl.DATA_LOSS:return Su.DATA_LOSS;default:return Au()}}(Dl=Nl||(Nl={}))[Dl.OK=0]="OK",Dl[Dl.CANCELLED=1]="CANCELLED",Dl[Dl.UNKNOWN=2]="UNKNOWN",Dl[Dl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dl[Dl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dl[Dl.NOT_FOUND=5]="NOT_FOUND",Dl[Dl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dl[Dl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dl[Dl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dl[Dl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dl[Dl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dl[Dl.ABORTED=10]="ABORTED",Dl[Dl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dl[Dl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dl[Dl.INTERNAL=13]="INTERNAL",Dl[Dl.UNAVAILABLE=14]="UNAVAILABLE",Dl[Dl.DATA_LOSS=15]="DATA_LOSS";var Bl=function(){function e(){f(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return v(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Vl}},{key:"getOrCreateInstance",value:function(){return null===Vl&&(Vl=new e),Vl}}]),e}(),Vl=null;function zl(){return new TextEncoder}var Hl=new hu([4294967295,4294967295],0);function Ql(e){var t=zl().encode(e),n=new fu;return n.update(t),new Uint8Array(n.digest())}function ql(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new hu([n,r],0),new hu([i,a],0)]}var Kl=function(){function e(t,n,r){if(f(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wl("Invalid padding: ".concat(n));if(r<0)throw new Wl("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Wl("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Wl("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=hu.fromNumber(this.It)}return v(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(hu.fromNumber(n)));return 1===r.compare(Hl)&&(r=new hu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=s(ql(Ql(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=s(ql(Ql(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Wl=function(e){y(n,e);var t=b(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return v(n)}(E(Error)),Gl=function(){function e(t,n,r,i,a){f(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return v(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Vu.min(),i,new ps(Uu),Hc(),Zc())}}]),e}(),Yl=function(){function e(t,n,r,i,a){f(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return v(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Zc(),Zc(),Zc())}}]),e}(),Jl=v((function e(t,n,r,i){f(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),Xl=v((function e(t,n){f(this,e),this.targetId=t,this.Vt=n})),Zl=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bs.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),$l=function(){function e(){f(this,e),this.St=0,this.Dt=nf(),this.Ct=bs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return v(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=Zc(),t=Zc(),n=Zc();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Au()}})),new Yl(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=nf()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),ef=function(){function e(t){f(this,e),this.Gt=t,this.Qt=new Map,this.jt=Hc(),this.zt=tf(),this.Wt=new ps(Uu)}return v(e,[{key:"Ht",value:function(e){var t,n=x(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(u){n.e(u)}finally{n.f()}var i,a=x(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:Au()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(Ac(a))if(0===r){var o=new Ku(a.path);this.Yt(n,o,Ys.newNoDocument(o,Vu.min()))}else Eu(1===r);else{var u=this.ie(n);if(u!==r){var s=this.re(e,u);if(0!==s){this.ee(n);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=Bl.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,u,s,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(s=null===(u=null==l?void 0:l.bits)||void 0===u?void 0:u.padding)&&void 0!==s?s:0}),c}(s,u,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,u=r.bits,s=u.bitmap,c=void 0===s?"":s,l=u.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=Ss(c).toUint8Array()}catch(e){if(e instanceof ws)return wu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new Kl(a,f,d)}catch(e){return wu(e instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&Ac(a.target)){var o=new Ku(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,Ys.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=Zc();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Gl(e,n,this.Wt,this.jt,r);return this.jt=Hc(),this.zt=tf(),this.Wt=new ps(Uu),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new $l,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new ys(Uu),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||gu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new $l),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function tf(){return new ps(Ku.comparator)}function nf(){return new ps(Ku.comparator)}var rf={asc:"ASCENDING",desc:"DESCENDING"},af={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},of={and:"AND",or:"OR"},uf=v((function e(t,n){f(this,e),this.databaseId=t,this.useProto3Json=n}));function sf(e,t){return e.useProto3Json||as(t)?t:{value:t}}function cf(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function lf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ff(e,t){return cf(e,t.toTimestamp())}function hf(e){return Eu(!!e),Vu.fromTimestamp(function(e){var t=Es(e);return new Bu(t.seconds,t.nanos)}(e))}function df(e,t){return function(e){return new Hu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function pf(e){var t=Hu.fromString(e);return Eu(Of(t)),t}function vf(e,t){return df(e.databaseId,t.path)}function mf(e,t){var n=pf(t);if(n.get(1)!==e.databaseId.projectId)throw new Iu(Su.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Iu(Su.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ku(wf(n))}function yf(e,t){return df(e.databaseId,t)}function gf(e){var t=pf(e);return 4===t.length?Hu.emptyPath():wf(t)}function kf(e){return new Hu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wf(e){return Eu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function bf(e,t,n){return{name:vf(e,t),fields:n.value.mapValue.fields}}function Af(e,t){var n;if(t instanceof Sl)n={update:bf(e,t.key,t.value)};else if(t instanceof Rl)n={delete:vf(e,t.key)};else if(t instanceof Il)n={update:bf(e,t.key,t.data),updateMask:Pf(t.fieldMask)};else{if(!(t instanceof Pl))return Au();n={verify:vf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof sl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof cl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof dl)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Au()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ff(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Au()}(e,t.precondition)),n}function Ef(e,t){return{documents:[yf(e,t.path)]}}function xf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=yf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=yf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Rf(rc.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Nf(e.field),direction:Cf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=sf(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Sf(e){var t=gf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Eu(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=If(e);return t instanceof rc&&ac(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new $s(Df(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return as(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Js(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Js(n,t)}(n.endAt)),xc(t,i,u,o,s,"F",c,l)}function If(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Df(e.unaryFilter.field);return nc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Df(e.unaryFilter.field);return nc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Df(e.unaryFilter.field);return nc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Df(e.unaryFilter.field);return nc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Au()}}(e):void 0!==e.fieldFilter?function(e){return nc.create(Df(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Au()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return rc.create(e.compositeFilter.filters.map((function(e){return If(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Au()}}(e.compositeFilter.op))}(e):Au()}function Cf(e){return rf[e]}function Tf(e){return af[e]}function _f(e){return of[e]}function Nf(e){return{fieldPath:e.canonicalString()}}function Df(e){return qu.fromServerFormat(e.fieldPath)}function Rf(e){return e instanceof nc?function(e){if("=="===e.op){if(Hs(e.value))return{unaryFilter:{field:Nf(e.field),op:"IS_NAN"}};if(zs(e.value))return{unaryFilter:{field:Nf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Hs(e.value))return{unaryFilter:{field:Nf(e.field),op:"IS_NOT_NAN"}};if(zs(e.value))return{unaryFilter:{field:Nf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nf(e.field),op:Tf(e.op),value:e.value}}}(e):e instanceof rc?function(e){var t=e.getFilters().map((function(e){return Rf(e)}));return 1===t.length?t[0]:{compositeFilter:{op:_f(e.op),filters:t}}}(e):Au()}function Pf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Of(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Lf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vu.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:bs.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;f(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return v(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Mf=v((function e(t){f(this,e),this.fe=t}));function Ff(e){var t=Sf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Pc(t,t.limit,"L"):t}var Uf=function(){function e(){f(this,e)}return v(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(xs(e.integerValue));else if("doubleValue"in e){var n=xs(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),os(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ss(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Ks(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Au()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),Ku.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();Uf.Ve=new Uf;var jf=function(){function e(){f(this,e),this.rn=new Bf}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),ns.resolve()}},{key:"getCollectionParents",value:function(e,t){return ns.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ns.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ns.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ns.resolve(null)}},{key:"getIndexType",value:function(e,t){return ns.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ns.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ns.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ns.resolve(Ju.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ns.resolve(Ju.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ns.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ns.resolve()}}]),e}(),Bf=function(){function e(){f(this,e),this.index={}}return v(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ys(Hu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ys(Hu.comparator)).toArray()}}]),e}();new Uint8Array(0);var Vf=function(){function e(t,n,r){f(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return v(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Vf.DEFAULT_COLLECTION_PERCENTILE=10,Vf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vf.DEFAULT=new Vf(41943040,Vf.DEFAULT_COLLECTION_PERCENTILE,Vf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vf.DISABLED=new Vf(-1,0,0);var zf=function(){function e(t){f(this,e),this.Nn=t}return v(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}();var Hf=function(){function e(){f(this,e),this.changes=new Vc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return v(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ys.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ns.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Qf=v((function e(t,n){f(this,e),this.overlayedDocument=t,this.mutatedFields=n})),qf=function(){function e(t,n,r,i){f(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return v(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Al(r.mutation,e,ks.empty(),Bu.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Zc()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zc(),i=Wc();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=qc();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Wc();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Zc())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Hc(),a=Yc(),o=Yc();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Il)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Al(o.mutation,t,o.mutation.getFieldMask(),Bu.now())):a.set(t.key,ks.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Qf(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Yc(),i=new ps((function(e,t){return e-t})),a=Zc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=x(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ks.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Zc()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Gc();c.forEach((function(e){if(!a.has(e)){var n=wl(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ns.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ku.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_c(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ns.resolve(Wc()),u=-1,s=a;return o.next((function(t){return ns.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ns.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Zc())})).next((function(e){return{batchId:u,changes:Kc(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ku(t)).next((function(e){var t=qc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=qc();return this.indexManager.getCollectionParents(e,i).next((function(o){return ns.forEach(o,(function(o){var u=function(e,t){return new Ec(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ys.newInvalidDocument(r)))}));var n=qc();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Al(a.mutation,i,ks.empty(),Bu.now()),Fc(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Kf=function(){function e(t){f(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return v(e,[{key:"getBundleMetadata",value:function(e,t){return ns.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:hf(n.createTime)}),ns.resolve()}},{key:"getNamedQuery",value:function(e,t){return ns.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Ff(e.bundledQuery),readTime:hf(e.readTime)}}(t)),ns.resolve()}}]),e}(),Wf=function(){function e(){f(this,e),this.overlays=new ps(Ku.comparator),this.ls=new Map}return v(e,[{key:"getOverlay",value:function(e,t){return ns.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Wc();return ns.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),ns.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),ns.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Wc(),i=t.length+1,a=new Ku(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ns.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ps((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Wc(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Wc(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ns.resolve(s)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Ml(t,n));var a=this.ls.get(t);void 0===a&&(a=Zc(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),Gf=function(){function e(){f(this,e),this.fs=new ys(Yf.ds),this.ws=new ys(Yf._s)}return v(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Yf(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new Yf(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new Ku(new Hu([])),r=new Yf(n,e),i=new Yf(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new Ku(new Hu([])),n=new Yf(t,e),r=new Yf(t,e+1),i=Zc();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Yf(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Yf=function(){function e(t,n){f(this,e),this.key=t,this.As=n}return v(e,null,[{key:"ds",value:function(e,t){return Ku.comparator(e.key,t.key)||Uu(e.As,t.As)}},{key:"_s",value:function(e,t){return Uu(e.As,t.As)||Ku.comparator(e.key,t.key)}}]),e}(),Jf=function(){function e(t,n){f(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ys(Yf.ds)}return v(e,[{key:"checkEmpty",value:function(e){return ns.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Ol(i,t,n,r);this.mutationQueue.push(a);var o,u=x(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Rs=this.Rs.add(new Yf(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ns.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ns.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return ns.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ns.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return ns.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Yf(t,0),i=new Yf(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),ns.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ys(Uu);return t.forEach((function(e){var t=new Yf(e,0),i=new Yf(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),ns.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ku.isDocumentKey(i)||(i=i.child(""));var a=new Yf(new Ku(i),0),o=new ys(Uu);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),ns.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Eu(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return ns.forEach(t.mutations,(function(i){var a=new Yf(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Yf(t,0),r=this.Rs.firstAfterOrEqual(n);return ns.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ns.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Xf=function(){function e(t){f(this,e),this.Ds=t,this.docs=new ps(Ku.comparator),this.size=0}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ns.resolve(n?n.document.mutableCopy():Ys.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Hc();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ys.newInvalidDocument(e))})),ns.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Hc(),a=t.path,o=new Ku(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Xu(Yu(l),n)<=0||(r.has(l.key)||Fc(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return ns.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Au()}},{key:"Cs",value:function(e,t){return ns.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Zf(this)}},{key:"getSize",value:function(e){return ns.resolve(this.size)}}]),e}(),Zf=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this)).os=e,r}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),ns.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(Hf),$f=function(){function e(t){f(this,e),this.persistence=t,this.xs=new Vc((function(e){return wc(e)}),bc),this.lastRemoteSnapshotVersion=Vu.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Gf,this.targetCount=0,this.Ms=zf.kn()}return v(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),ns.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ns.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ns.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),ns.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),ns.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new zf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,ns.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),ns.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ns.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ns.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ns.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return ns.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),ns.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ns.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),ns.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return ns.resolve(n)}},{key:"containsKey",value:function(e,t){return ns.resolve(this.ks.containsKey(t))}}]),e}(),eh=function(){function e(t,n){var r=this;f(this,e),this.$s={},this.overlays={},this.Os=new is(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new $f(this),this.indexManager=new jf,this.remoteDocumentCache=new Xf((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new Mf(n),this.qs=new Kf(this.serializer)}return v(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Wf,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new Jf(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;gu("MemoryPersistence","Starting transaction:",e);var i=new th(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return ns.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),th=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return v(n)}($u),nh=function(){function e(t){f(this,e),this.persistence=t,this.Qs=new Gf,this.js=null}return v(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw Au()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),ns.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),ns.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),ns.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ns.forEach(this.Ws,(function(r){var i=Ku.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,Vu.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return ns.or([function(){return ns.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}();var rh=function(){function e(t,n,r,i){f(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return v(e,null,[{key:"Li",value:function(t,n){var r,i=Zc(),a=Zc(),o=x(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ih=function(){function e(){f(this,e),this.qi=!1}return v(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(Ic(t))return ns.resolve(null);var r=Dc(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Pc(t,null,"F"),r=Dc(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Zc.apply(void 0,l(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,Pc(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return Ic(t)||r.isEqual(Vu.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(yu()<=Mt.DEBUG&&gu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Mc(t)),i.Wi(e,o,t,Gu(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new ys(jc(e));return t.forEach((function(t,r){Fc(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return yu()<=Mt.DEBUG&&gu("QueryEngine","Using full collection scan to execute query:",Mc(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ju.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ah=function(){function e(t,n,r,i){f(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new ps(Uu),this.Yi=new Vc((function(e){return wc(e)}),bc),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return v(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function oh(e,t,n,r){return new ah(e,t,n,r)}function uh(e,t){return sh.apply(this,arguments)}function sh(){return sh=ot(it().mark((function e(t,n){var r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Zc(),s=x(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=x(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=x(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=x(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}function ch(e,t){var n=xu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ns.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Eu(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Zc(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function lh(e){var t=xu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function fh(e,t){var n=xu(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(bs.EMPTY_BYTE_STRING,Vu.min()).withLastLimboFreeSnapshotVersion(Vu.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var u=Hc(),s=Zc();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(hh(e,a,t.documentUpdates).next((function(e){u=e.nr,s=e.sr}))),!r.isEqual(Vu.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ns.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ji=i,e}))}function hh(e,t,n){var r=Zc(),i=Zc();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Hc();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Vu.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):gu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function dh(e,t){var n=xu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function ph(e,t){var n=xu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,ns.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new Lf(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function vh(e,t,n){return mh.apply(this,arguments)}function mh(){return mh=ot(it().mark((function e(t,n,r){var i,a,o;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xu(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),rs(e.t1)){e.next=12;break}throw e.t1;case 12:gu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),mh.apply(this,arguments)}function yh(e,t,n){var r=xu(e),i=Vu.min(),a=Zc();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=xu(e),i=r.Yi.get(n);return void 0!==i?ns.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Dc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Vu.min(),n?a:Zc())})).next((function(e){return gh(r,Uc(t),e),{documents:e,ir:a}}))}))}function gh(e,t,n){var r=e.Xi.get(t)||Vu.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}var kh=function(){function e(){f(this,e),this.activeTargetIds=el()}return v(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),wh=function(){function e(){f(this,e),this.Hr=new kh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return v(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new kh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),bh=function(){function e(){f(this,e)}return v(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ah=function(){function e(){var t=this;f(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return v(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){gu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=x(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){gu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=x(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Eh=null;function xh(){return null===Eh?Eh=268435456+Math.round(2147483648*Math.random()):Eh++,"0x"+Eh.toString(16)}var Sh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Ih=function(){function e(t){f(this,e),this.ro=t.ro,this.oo=t.oo}return v(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),Ch="WebChannelConnection",Th=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return v(n,[{key:"Ao",value:function(e,t,n,r){var i=xh();return new Promise((function(a,o){var u=new lu;u.setWithCredentials(!0),u.listenOnce(au.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case iu.NO_ERROR:var t=u.getResponseJson();gu(Ch,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case iu.TIMEOUT:gu(Ch,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Iu(Su.DEADLINE_EXCEEDED,"Request time out"));break;case iu.HTTP_ERROR:var n=u.getStatus();if(gu(Ch,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Su).indexOf(t)>=0?t:Su.UNKNOWN}(s.status);o(new Iu(c,s.message))}else o(new Iu(Su.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Iu(Su.UNAVAILABLE,"Connection failed."));break;default:Au()}}finally{gu(Ch,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);gu(Ch,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=xh(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=nu(),o=ru(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new su({})),this.Eo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");gu(Ch,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new Ih({ro:function(t){h?gu(Ch,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(gu(Ch,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),gu(Ch,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,cu.EventType.OPEN,(function(){h||gu(Ch,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,cu.EventType.CLOSE,(function(){h||(h=!0,gu(Ch,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,cu.EventType.ERROR,(function(t){h||(h=!0,wu(Ch,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new Iu(Su.UNAVAILABLE,"The operation could not be completed")))})),p(l,cu.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Eu(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){gu(Ch,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Nl[e];if(void 0!==t)return jl(t)}(u),c=o.message;void 0===s&&(s=Su.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.wo(new Iu(s,c)),l.close()}else gu(Ch,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,ou.STAT_EVENT,(function(t){t.stat===uu.PROXY?gu(Ch,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===uu.NOPROXY&&gu(Ch,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){f(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return v(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=xh(),o=this.To(e,t);gu("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.Eo(u,r,i),this.Ao(e,o,u,n).then((function(t){return gu("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw wu("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+vu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=Sh[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function _h(){return"undefined"!=typeof document?document:null}function Nh(e){return new uf(e,!0)}var Dh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;f(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return v(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&gu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),Rh=function(){function e(t,n,r,i,a,o,u,s){f(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Dh(t,n)}return v(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===Su.RESOURCE_EXHAUSTED?(ku(n.toString()),ku("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===Su.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new Iu(Su.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(ot(it().mark((function t(){return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return gu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(gu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ph=function(e){y(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return f(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return v(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Au()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Eu(void 0===t||"string"==typeof t),bs.fromBase64String(t||"")):(Eu(void 0===t||t instanceof Uint8Array),bs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Su.UNKNOWN:jl(e.code);return new Iu(t,e.message||"")}(o);n=new Zl(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=mf(e,s.document.name),l=hf(s.document.updateTime),f=s.document.createTime?hf(s.document.createTime):Vu.min(),h=new Ws({mapValue:{fields:s.document.fields}}),d=Ys.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Jl(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=mf(e,m.document),g=m.readTime?hf(m.readTime):Vu.min(),k=Ys.newNoDocument(y,g),w=m.removedTargetIds||[];n=new Jl([],w,k.key,k)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var A=mf(e,b.document),E=b.removedTargetIds||[];n=new Jl([],E,A,null)}else{if(!("filter"in t))return Au();t.filter;var x=t.filter;x.targetId;var S=x.count,I=void 0===S?0:S,C=x.unchangedNames,T=new Fl(I,C),_=x.targetId;n=new Xl(_,T)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Vu.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Vu.min():t.readTime?hf(t.readTime):Vu.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=kf(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Ac(r)?{documents:Ef(e,r)}:{query:xf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=lf(e,t.resumeToken);var i=sf(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Vu.min())>0){n.readTime=cf(e,t.snapshotVersion.toTimestamp());var a=sf(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Au()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=kf(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(Rh),Oh=function(e){y(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return f(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.ru=!1,s}return v(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,rt(g(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(Eu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(Eu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?hf(e.updateTime):hf(t);return n.isEqual(Vu.min())&&(n=hf(t)),new ml(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=hf(e.commitTime);return this.listener.cu(n,t)}return Eu(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=kf(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Af(t.serializer,e)}))};this.Wo(n)}}]),n}(Rh),Lh=function(e){y(n,e);var t=b(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return v(n,[{key:"fu",value:function(){if(this.lu)throw new Iu(Su.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.connection.Io(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Su.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Iu(Su.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=s(a,2),u=o[0],c=o[1];return i.connection.vo(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Su.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Iu(Su.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return v((function e(){f(this,e)}))}());var Mh=function(){function e(t,n){f(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return v(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(ku(t),this.mu=!1):gu("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),Fh=v((function e(t,n,r,i,a){var o=this;f(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Gh(o),!e.t0){e.next=5;break}return gu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ot(it().mark((function e(t){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xu(t)).vu.add(4),e.next=4,Bh(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,Uh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new Mh(r,i)}));function Uh(e){return jh.apply(this,arguments)}function jh(){return(jh=ot(it().mark((function e(t){var n,r,i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Gh(t)){e.next=18;break}n=x(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Bh(e){return Vh.apply(this,arguments)}function Vh(){return(Vh=ot(it().mark((function e(t){var n,r,i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=x(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function zh(e,t){var n=xu(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Wh(n)?Kh(n):Ed(n).Ko()&&Qh(n,t))}function Hh(e,t){var n=xu(e),r=Ed(n);n.Au.delete(t),r.Ko()&&qh(n,t),0===n.Au.size&&(r.Ko()?r.jo():Gh(n)&&n.bu.set("Unknown"))}function Qh(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vu.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ed(e).su(t)}function qh(e,t){e.Vu.qt(t),Ed(e).iu(t)}function Kh(e){e.Vu=new ef({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),Ed(e).start(),e.bu.gu()}function Wh(e){return Gh(e)&&!Ed(e).Uo()&&e.Au.size>0}function Gh(e){return 0===xu(e).vu.size}function Yh(e){e.Vu=void 0}function Jh(e){return Xh.apply(this,arguments)}function Xh(){return(Xh=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){Qh(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zh(e,t){return $h.apply(this,arguments)}function $h(){return($h=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yh(t),Wh(t)?(t.bu.Iu(n),Kh(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ed(e,t,n){return td.apply(this,arguments)}function td(){return td=ot(it().mark((function e(t,n,r){var i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof Zl&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ot(it().mark((function e(t,n){var r,i,a,o;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=x(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),gu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,nd(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Jl?t.Vu.Ht(n):n instanceof Xl?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(Vu.min())){e.next=29;break}return e.prev=14,e.next=17,lh(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(bs.EMPTY_BYTE_STRING,r.snapshotVersion)),qh(e,t);var i=new Lf(r.target,t,n,r.sequenceNumber);Qh(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),gu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,nd(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),td.apply(this,arguments)}function nd(e,t,n){return rd.apply(this,arguments)}function rd(){return(rd=ot(it().mark((function e(t,n,r){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rs(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,Bh(t);case 5:t.bu.set("Offline"),r||(r=function(){return lh(t.localStore)}),t.asyncQueue.enqueueRetryable(ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,Uh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function id(e,t){return t().catch((function(n){return nd(e,n,t)}))}function ad(e){return od.apply(this,arguments)}function od(){return(od=ot(it().mark((function e(t){var n,r,i,a;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xu(t),r=xd(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!ud(n)){e.next=19;break}return e.prev=3,e.next=6,dh(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,sd(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,nd(n,e.t0);case 17:e.next=2;break;case 19:cd(n)&&ld(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function ud(e){return Gh(e)&&e.Eu.length<10}function sd(e,t){e.Eu.push(t);var n=xd(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function cd(e){return Gh(e)&&!xd(e).Uo()&&e.Eu.length>0}function ld(e){xd(e).start()}function fd(e){return hd.apply(this,arguments)}function hd(){return(hd=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xd(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dd(e){return pd.apply(this,arguments)}function pd(){return(pd=ot(it().mark((function e(t){var n,r,i,a;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xd(t),r=x(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vd(e,t,n){return md.apply(this,arguments)}function md(){return(md=ot(it().mark((function e(t,n,r){var i,a;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=Ll.from(i,n,r),e.next=3,id(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ad(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yd(e,t){return gd.apply(this,arguments)}function gd(){return gd=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&xd(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=ot(it().mark((function e(t,n){var r,i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ul(i=n.code)||i===Su.ABORTED){e.next=7;break}return r=t.Eu.shift(),xd(t).Qo(),e.next=5,id(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ad(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:cd(t)&&ld(t);case 5:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}function kd(e,t){return wd.apply(this,arguments)}function wd(){return(wd=ot(it().mark((function e(t,n){var r,i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=xu(t)).asyncQueue.verifyOperationInProgress(),gu("RemoteStore","RemoteStore received new credentials"),i=Gh(r),r.vu.add(3),e.next=6,Bh(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,Uh(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bd(e,t){return Ad.apply(this,arguments)}function Ad(){return(Ad=ot(it().mark((function e(t,n){var r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xu(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,Uh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,Bh(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ed(e){return e.Su||(e.Su=function(e,t,n){var r=xu(e);return r.fu(),new Ph(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Jh.bind(null,e),ao:Zh.bind(null,e),nu:ed.bind(null,e)}),e.Ru.push(function(){var t=ot(it().mark((function t(n){return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),Wh(e)?Kh(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:Yh(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function xd(e){return e.Du||(e.Du=function(e,t,n){var r=xu(e);return r.fu(),new Oh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:fd.bind(null,e),ao:yd.bind(null,e),au:dd.bind(null,e),cu:vd.bind(null,e)}),e.Ru.push(function(){var t=ot(it().mark((function t(n){return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,ad(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(gu("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var Sd=function(){function e(t,n,r,i,a){f(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Cu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return v(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Iu(Su.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Id(e,t){if(ku("AsyncQueue","".concat(t,": ").concat(e)),rs(e))return new Iu(Su.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Cd=function(){function e(t){f(this,e),this.comparator=t?function(e,n){return t(e,n)||Ku.comparator(e.key,n.key)}:function(e,t){return Ku.comparator(e.key,t.key)},this.keyedMap=qc(),this.sortedSet=new ps(this.comparator)}return v(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Td=function(){function e(){f(this,e),this.Cu=new ps(Ku.comparator)}return v(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Au():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),_d=function(){function e(t,n,r,i,a,o,u,s,c){f(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return v(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Cd.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Nd=v((function e(){f(this,e),this.Nu=void 0,this.listeners=[]})),Dd=v((function e(){f(this,e),this.queries=new Vc((function(e){return Lc(e)}),Oc),this.onlineState="Unknown",this.ku=new Set}));function Rd(e,t){return Pd.apply(this,arguments)}function Pd(){return Pd=ot(it().mark((function e(t,n){var r,i,a,o,u;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Nd),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Id(e.t0,"Initialization of query '".concat(Mc(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&Ud(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Pd.apply(this,arguments)}function Od(e,t){return Ld.apply(this,arguments)}function Ld(){return Ld=ot(it().mark((function e(t,n){var r,i,a,o,u;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Ld.apply(this,arguments)}function Md(e,t){var n,r=xu(e),i=!1,a=x(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=x(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ud(r)}function Fd(e,t,n){var r=xu(e),i=r.queries.get(t);if(i){var a,o=x(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Ud(e){e.ku.forEach((function(e){e.next()}))}var jd=function(){function e(t,n,r){f(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return v(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=x(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new _d(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=_d.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}();var Bd=v((function e(t){f(this,e),this.key=t})),Vd=v((function e(t){f(this,e),this.key=t})),zd=function(){function e(t,n){f(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Zc(),this.mutatedKeys=Zc(),this.tc=jc(t),this.ec=new Cd(this.tc)}return v(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new Td,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Fc(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.tc(f,s)>0||c&&n.tc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:u,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Au()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],u=0===this.Zu.size&&this.current?1:0,s=u!==this.Xu;return this.Xu=u,0!==a.length||s?{snapshot:new _d(this.query,e.ec,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Td,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=Zc(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new Vd(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new Bd(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=Zc();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return _d.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),Hd=v((function e(t,n,r){f(this,e),this.query=t,this.targetId=n,this.view=r})),Qd=v((function e(t){f(this,e),this.key=t,this.fc=!1})),qd=function(){function e(t,n,r,i,a,o){f(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Vc((function(e){return Lc(e)}),Oc),this._c=new Map,this.mc=new Set,this.gc=new ps(Ku.comparator),this.yc=new Map,this.Ic=new Gf,this.Tc={},this.Ec=new Map,this.Ac=zf.Mn(),this.onlineState="Unknown",this.vc=void 0}return v(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function Kd(e,t){return Wd.apply(this,arguments)}function Wd(){return Wd=ot(it().mark((function e(t,n){var r,i,a,o,u,s;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bp(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,ph(r.localStore,Dc(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,Gd(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&zh(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}function Gd(e,t,n,r,i){return Yd.apply(this,arguments)}function Yd(){return Yd=ot(it().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=ot(it().mark((function e(t,n,r,i){var a,o,u;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,yh(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(dp(t,n.targetId,u.cc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,yh(t.localStore,n,!0);case 3:return o=e.sent,u=new zd(n,o.ir),s=u.sc(o.documents),c=Yl.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),dp(t,r,l.cc),f=new Hd(n,r,u),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Yd.apply(this,arguments)}function Jd(e,t){return Xd.apply(this,arguments)}function Xd(){return(Xd=ot(it().mark((function e(t,n){var r,i,a;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xu(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!Oc(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,vh(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Hh(r.remoteStore,i.targetId),fp(r,i.targetId)})).catch(es);case 9:e.next=14;break;case 11:return fp(r,i.targetId),e.next=14,vh(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zd(e,t,n){return $d.apply(this,arguments)}function $d(){return $d=ot(it().mark((function e(t,n,r){var i,a,o;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ap(t),e.prev=1,e.next=4,function(e,t){var n,r,i=xu(e),a=Bu.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Zc());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Hc(),s=Zc();return i.Zi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=x(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=El(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Il(c.key,l,Gs(l.value.mapValue),yl.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Kc(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new ps(Uu)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,mp(i,a.changes);case 9:return e.next=11,ad(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Id(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),$d.apply(this,arguments)}function ep(e,t){return tp.apply(this,arguments)}function tp(){return(tp=ot(it().mark((function e(t,n){var r,i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xu(t),e.prev=1,e.next=4,fh(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(Eu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?Eu(n.fc):e.removedDocuments.size>0&&(Eu(n.fc),n.fc=!1))})),e.next=8,mp(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,es(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function np(e,t,n){var r=xu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=xu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=x(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ud(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function rp(e,t,n){return ip.apply(this,arguments)}function ip(){return ip=ot(it().mark((function e(t,n,r){var i,a,o,u,s,c;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=xu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ps(Ku.comparator)).insert(o,Ys.newNoDocument(o,Vu.min())),s=Zc().add(o),c=new Gl(Vu.min(),new Map,new ps(Uu),u,s),e.next=9,ep(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),vp(i),e.next=16;break;case 14:return e.next=16,vh(i.localStore,n,!1).then((function(){return fp(i,n,r)})).catch(es);case 16:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}function ap(e,t){return op.apply(this,arguments)}function op(){return(op=ot(it().mark((function e(t,n){var r,i,a;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xu(t),i=n.batch.batchId,e.prev=1,e.next=4,ch(r.localStore,n);case 4:return a=e.sent,lp(r,i,null),cp(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,mp(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,es(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function up(e,t,n){return sp.apply(this,arguments)}function sp(){return(sp=ot(it().mark((function e(t,n,r){var i,a;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xu(t),e.prev=1,e.next=4,function(e,t){var n=xu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Eu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,lp(i,n,r),cp(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,mp(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,es(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function cp(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function lp(e,t,n){var r=xu(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function fp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=x(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||hp(e,t)}))}function hp(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(Hh(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),vp(e))}function dp(e,t,n){var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Bd?(e.Ic.addReference(a.key,t),pp(e,a)):a instanceof Vd?(gu("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||hp(e,a.key)):Au()}}catch(o){i.e(o)}finally{i.f()}}function pp(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(gu("SyncEngine","New document in limbo: "+n),e.mc.add(r),vp(e))}function vp(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new Ku(Hu.fromString(t)),r=e.Ac.next();e.yc.set(r,new Qd(n)),e.gc=e.gc.insert(n,r),zh(e.remoteStore,new Lf(Dc(Sc(n.path)),r,"TargetPurposeLimboResolution",is.ct))}}function mp(e,t,n){return yp.apply(this,arguments)}function yp(){return yp=ot(it().mark((function e(t,n,r){var i,a,o,u;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xu(t),a=[],o=[],u=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){u.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=rh.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.dc.nu(a),e.next=9,function(){var e=ot(it().mark((function e(t,n){var r,i,a,o,u,s,c,l;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ns.forEach(n,(function(t){return ns.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ns.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),rs(e.t0)){e.next=10;break}throw e.t0;case 10:gu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=x(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ji.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),yp.apply(this,arguments)}function gp(e,t){return kp.apply(this,arguments)}function kp(){return(kp=ot(it().mark((function e(t,n){var r,i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=xu(t)).currentUser.isEqual(n)){e.next=11;break}return gu("SyncEngine","User change. New user:",n.toKey()),e.next=5,uh(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new Iu(Su.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,mp(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wp(e,t){var n=xu(e),r=n.yc.get(t);if(r&&r.fc)return Zc().add(r.key);var i=Zc(),a=n._c.get(t);if(!a)return i;var o,u=x(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.wc.get(s);i=i.unionWith(c.view.nc)}}catch(l){u.e(l)}finally{u.f()}return i}function bp(e){var t=xu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ep.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rp.bind(null,t),t.dc.nu=Md.bind(null,t.eventManager),t.dc.Pc=Fd.bind(null,t.eventManager),t}function Ap(e){var t=xu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ap.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=up.bind(null,t),t}var Ep=function(){function e(){f(this,e),this.synchronizeTabs=!1}return v(e,[{key:"initialize",value:function(){var e=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Nh(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return oh(this.persistence,new ih,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new eh(nh.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new wh}},{key:"terminate",value:function(){var e=ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),xp=function(){function e(){f(this,e)}return v(e,[{key:"initialize",value:function(){var e=ot(it().mark((function e(t,n){var r=this;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return np(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=gp.bind(null,this.syncEngine),e.next=12,bd(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Dd}},{key:"createDatastore",value:function(e){var t,n=Nh(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Th(t));return function(e,t,n,r){return new Lh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return np(o.syncEngine,e,0)},a=Ah.D()?new Ah:new bh,new Fh(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new qd(e,t,n,r,i,a);return o&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ot(it().mark((function e(t){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xu(t),gu("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,Bh(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Sp=function(){function e(t){f(this,e),this.observer=t,this.muted=!1}return v(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):ku("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Ip=function(){function e(t,n,r,i){var a=this;f(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pu.UNAUTHENTICATED,this.clientId=Fu.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return gu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return v(e,[{key:"getConfiguration",value:function(){var e=ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Iu(Su.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Cu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ot(it().mark((function n(){var r;return it().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Id(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Cp(e,t){return Tp.apply(this,arguments)}function Tp(){return Tp=ot(it().mark((function e(t,n){var r,i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),gu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,uh(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Tp.apply(this,arguments)}function _p(e,t){return Np.apply(this,arguments)}function Np(){return(Np=ot(it().mark((function e(t,n){var r,i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Rp(t);case 3:return r=e.sent,gu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return kd(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return kd(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dp(e){return"FirebaseError"===e.name?e.code===Su.FAILED_PRECONDITION||e.code===Su.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Rp(e){return Pp.apply(this,arguments)}function Pp(){return(Pp=ot(it().mark((function e(t){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return gu("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Cp(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Dp(n=e.t0)){e.next=13;break}throw n;case 13:return wu("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Cp(t,new Ep);case 16:e.next=21;break;case 18:return gu("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Cp(t,new Ep);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Op(e){return Lp.apply(this,arguments)}function Lp(){return(Lp=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return gu("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,_p(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return gu("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,_p(t,new xp);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mp(e){return Op(e).then((function(e){return e.syncEngine}))}function Fp(e){return Up.apply(this,arguments)}function Up(){return(Up=ot(it().mark((function e(t){var n,r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Op(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Kd.bind(null,n.syncEngine),r.onUnlisten=Jd.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Cu;return e.asyncQueue.enqueueAndForget(ot(it().mark((function i(){return it().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Sp({next:function(a){t.enqueueAndForget((function(){return Od(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Iu(Su.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Iu(Su.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new jd(Sc(n.path),a,{includeMetadataChanges:!0,Ku:!0});return Rd(e,o)},i.next=3,Fp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Bp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Cu;return e.asyncQueue.enqueueAndForget(ot(it().mark((function i(){return it().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Sp({next:function(n){t.enqueueAndForget((function(){return Od(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Iu(Su.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new jd(n,a,{includeMetadataChanges:!0,Ku:!0});return Rd(e,o)},i.next=3,Fp(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Vp(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var zp=new Map;function Hp(e,t,n){if(!n)throw new Iu(Su.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Qp(e){if(!Ku.isDocumentKey(e))throw new Iu(Su.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function qp(e){if(Ku.isDocumentKey(e))throw new Iu(Su.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Kp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Au()}function Wp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Iu(Su.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Kp(e);throw new Iu(Su.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Gp=function(){function e(t){var n,r;if(f(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Iu(Su.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Iu(Su.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Iu(Su.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vp(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Iu(Su.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Iu(Su.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Iu(Su.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return v(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),Yp=function(){function e(t,n,r,i){f(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gp({}),this._settingsFrozen=!1}return v(e,[{key:"app",get:function(){if(!this._app)throw new Iu(Su.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Iu(Su.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _u;switch(e.type){case"firstParty":return new Pu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Iu(Su.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=zp.get(e);t&&(gu("ComponentProvider","Removing Datastore"),zp.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Jp(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Wp(e,Yp))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&wu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=pu.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[lt(JSON.stringify({alg:"none",type:"JWT"})),lt(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Iu(Su.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new pu(c)}e._authCredentials=new Nu(new Tu(u,s))}}var Xp=function(){function e(t,n,r){f(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return v(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new $p(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Zp=function(){function e(t,n,r){f(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return v(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),$p=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,Sc(i)))._path=i,a.type="collection",a}return v(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Xp(this.firestore,null,new Ku(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Zp);function ev(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Dt(e),Hp("collection","path",t),e instanceof Yp){var a=Hu.fromString.apply(Hu,[t].concat(r));return qp(a),new $p(e,null,a)}if(!(e instanceof Xp||e instanceof $p))throw new Iu(Su.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Hu.fromString.apply(Hu,[t].concat(r)));return qp(o),new $p(e.firestore,null,o)}function tv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Dt(e),1===arguments.length&&(t=Fu.A()),Hp("doc","path",t),e instanceof Yp){var a=Hu.fromString.apply(Hu,[t].concat(r));return Qp(a),new Xp(e,null,new Ku(a))}if(!(e instanceof Xp||e instanceof $p))throw new Iu(Su.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Hu.fromString.apply(Hu,[t].concat(r)));return Qp(o),new Xp(e.firestore,e instanceof $p?e.converter:null,new Ku(o))}var nv=function(){function e(){var t=this;f(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Dh(this,"async_queue_retry"),this.Xc=function(){var e=_h();e&&gu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=_h();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return v(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=_h();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new Cu;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=ot(it().mark((function e(){var t=this;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),rs(e.t0)){e.next=12;break}throw e.t0;case 12:gu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ku("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=Sd.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&Au()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=ot(it().mark((function e(){var t;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=x(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=x(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();var rv=function(e){y(n,e);var t=b(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new nv,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return v(n,[{key:"_terminate",value:function(){return this._firestoreClient||av(this),this._firestoreClient.terminate()}}]),n}(Yp);function iv(e){return e._firestoreClient||av(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function av(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new _s(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Vp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ip(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var ov=function(){function e(t){f(this,e),this._byteString=t}return v(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(bs.fromBase64String(t))}catch(t){throw new Iu(Su.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(bs.fromUint8Array(t))}}]),e}(),uv=function(){function e(){f(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Iu(Su.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qu(n)}return v(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var sv=v((function e(t){f(this,e),this._methodName=t})),cv=function(){function e(t,n){if(f(this,e),!isFinite(t)||t<-90||t>90)throw new Iu(Su.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Iu(Su.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return v(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Uu(this._lat,e._lat)||Uu(this._long,e._long)}}]),e}(),lv=/^__.*__$/,fv=function(){function e(t,n,r){f(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Il(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sl(e,this.data,t,this.fieldTransforms)}}]),e}(),hv=function(){function e(t,n,r){f(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return new Il(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function dv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Au()}}var pv=function(){function e(t,n,r,i,a,o){f(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return v(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return _v(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(dv(this.ca)&&lv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),vv=function(){function e(t,n,r){f(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Nh(t)}return v(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pv({ca:e,methodName:t,ga:n,path:qu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function mv(e){var t=e._freezeSettings(),n=Nh(e._databaseId);return new vv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yv(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);Sv("Data must be an object, but it was:",o,r);var u,s,c=Ev(r,o);if(a.merge)u=new ks(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=x(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=Iv(t,l.value,n);if(!o.contains(d))throw new Iu(Su.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Nv(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new ks(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new fv(new Ws(c),u,s)}var gv=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sv);function kv(e,t,n,r){var i=e.ya(1,t,n);Sv("Data must be an object, but it was:",i,r);var a=[],o=Ws.empty();hs(r,(function(e,r){var u=Tv(t,e,n);r=Dt(r);var s=i.da(u);if(r instanceof gv)a.push(u);else{var c=Av(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ks(a);return new hv(o,u,i.fieldTransforms)}function wv(e,t,n,r,i,a){var o=e.ya(1,t,n),u=[Iv(t,r,n)],s=[i];if(a.length%2!=0)throw new Iu(Su.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Iv(t,a[c])),s.push(a[c+1]);for(var l=[],f=Ws.empty(),h=u.length-1;h>=0;--h)if(!Nv(l,u[h])){var d=u[h],p=s[h];p=Dt(p);var v=o.da(d);if(p instanceof gv)l.push(d);else{var m=Av(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new ks(l);return new hv(f,y,o.fieldTransforms)}function bv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Av(n,e.ya(r?4:3,t))}function Av(e,t){if(xv(e=Dt(e)))return Sv("Unsupported field value:",t,e),Ev(e,t);if(e instanceof sv)return function(e,t){if(!dv(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=x(e);try{for(a.s();!(n=a.n()).done;){var o=Av(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Dt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Bu.fromDate(e);return{timestampValue:cf(t.serializer,n)}}if(e instanceof Bu){var r=new Bu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:cf(t.serializer,r)}}if(e instanceof cv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ov)return{bytesValue:lf(t.serializer,e._byteString)};if(e instanceof Xp){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:df(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Kp(e)))}(e,t)}function Ev(e,t){var n={};return ds(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hs(e,(function(e,r){var i=Av(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Bu||e instanceof cv||e instanceof ov||e instanceof Xp||e instanceof sv)}function Sv(e,t,n){if(!xv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Kp(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Iv(e,t,n){if((t=Dt(t))instanceof uv)return t._internalPath;if("string"==typeof t)return Tv(e,t);throw _v("Field path arguments must be of type string or ",e,!1,void 0,n)}var Cv=new RegExp("[~\\*/\\[\\]]");function Tv(e,t,n){if(t.search(Cv)>=0)throw _v("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return A(uv,l(t.split(".")))._internalPath}catch(r){throw _v("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function _v(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Iu(Su.INVALID_ARGUMENT,u+e+s)}function Nv(e,t){return e.some((function(e){return e.isEqual(t)}))}var Dv=function(){function e(t,n,r,i,a){f(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return v(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Xp(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Rv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Pv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Rv=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){return rt(g(n.prototype),"data",this).call(this)}}]),n}(Dv);function Pv(e,t){return"string"==typeof t?Tv(e,t):t instanceof uv?t._internalPath:t._delegate._internalPath}function Ov(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Iu(Su.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Lv=v((function e(){f(this,e)})),Mv=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n)}(Lv);function Fv(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Lv&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Bv})).length,n=e.filter((function(e){return e instanceof Uv})).length;if(t>1||t>0&&n>0)throw new Iu(Su.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=x(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var Uv=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return v(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Hv(e._query,t),new Zp(e.firestore,e.converter,Rc(e._query,t))}},{key:"_parse",value:function(e){var t=mv(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Iu(Su.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){zv(o,a);var s,c=[],l=x(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Vv(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=Vv(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||zv(o,a),u=bv(n,"where",o,"in"===a||"not-in"===a);return nc.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Mv);function jv(e,t,n){var r=t,i=Pv("where",e);return Uv._create(i,r,n)}var Bv=function(e){y(n,e);var t=b(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return v(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:rc.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=x(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Hv(r,a),r=Rc(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Zp(e.firestore,e.converter,Rc(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Lv);function Vv(e,t,n){if("string"==typeof(n=Dt(n))){if(""===n)throw new Iu(Su.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_c(t)&&-1!==n.indexOf("/"))throw new Iu(Su.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Hu.fromString(n));if(!Ku.isDocumentKey(r))throw new Iu(Su.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return js(e,new Ku(r))}if(n instanceof Xp)return js(e,n._key);throw new Iu(Su.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Kp(n),"."))}function zv(e,t){if(!Array.isArray(e)||0===e.length)throw new Iu(Su.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Hv(e,t){if(t.isInequality()){var n=Tc(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Iu(Su.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Cc(e);null!==i&&Qv(e,r,i)}var a=function(e,t){var n,r=x(e);try{for(r.s();!(n=r.n()).done;){var i,a=x(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Iu(Su.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Iu(Su.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Qv(e,t,n){if(!n.isEqual(t))throw new Iu(Su.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var qv=function(){function e(){f(this,e)}return v(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Au()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return hs(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new cv(xs(e.latitude),xs(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Cs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ts(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Es(e);return new Bu(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Hu.fromString(e);Eu(Of(n));var r=new Ns(n.get(1),n.get(3)),i=new Ku(n.popFirst(5));return r.isEqual(t)||ku("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Kv(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Wv=function(){function e(t,n){f(this,e),this.hasPendingWrites=t,this.fromCache=n}return v(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Gv=function(e){y(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return f(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return v(n,[{key:"exists",value:function(){return rt(g(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Yv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Pv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Dv),Yv=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rt(g(n.prototype),"data",this).call(this,e)}}]),n}(Gv),Jv=function(){function e(t,n,r,i){f(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wv(i.hasPendingWrites,i.fromCache),this.query=r}return v(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Yv(n._firestore,n._userDataWriter,r.key,r,new Wv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Iu(Su.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Yv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Yv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Xv(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Xv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Au()}}var Zv=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new ov(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xp(this.firestore,null,t)}}]),n}(qv);function $v(e){e=Wp(e,Zp);var t=Wp(e.firestore,rv),n=iv(t),r=new Zv(t);return Ov(e._query),Bp(n,e._query).then((function(n){return new Jv(t,r,e,n)}))}function em(e,t){var n=Wp(e.firestore,rv),r=tv(e),i=Kv(e.converter,t);return tm(n,[yv(mv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,yl.exists(!1))]).then((function(){return r}))}function tm(e,t){return function(e,t){var n=new Cu;return e.asyncQueue.enqueueAndForget(ot(it().mark((function r(){return it().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Zd,r.next=3,Mp(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(iv(e),t)}function nm(e,t,n){var r=n.docs.get(t._key),i=new Zv(e);return new Gv(e,i,t._key,r,new Wv(n.hasPendingWrites,n.fromCache),t.converter)}var rm=function(){function e(t,n){f(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mv(t)}return v(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=im(e,this._firestore),i=Kv(r.converter,t,n),a=yv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,yl.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=im(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Dt(t))||t instanceof uv?wv(this._dataReader,"WriteBatch.update",i._key,t,n,o):kv(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,yl.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=im(e,this._firestore);return this._mutations=this._mutations.concat(new Rl(t._key,yl.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Iu(Su.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function im(e,t){if((e=Dt(e)).firestore!==t)throw new Iu(Su.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function am(e){return iv(e=Wp(e,rv)),new rm(e,(function(t){return tm(e,t)}))}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){vu=e}(xn),kn(new Rt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new rv(new Du(e.getProvider("auth-internal")),new Lu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Iu(Su.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ns(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Cn(du,"3.13.0",e),Cn(du,"3.13.0","esm2017")}();Cn("firebase","9.23.0","app");function om(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var um;Object.create;function sm(){return Ye({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var cm=sm,lm=new bt("auth","Firebase",sm()),fm=new Ht("@firebase/auth");function hm(e){if(fm.logLevel<=Mt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fm.warn.apply(fm,["Auth (".concat(xn,"): ").concat(e)].concat(n))}}function dm(e){if(fm.logLevel<=Mt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fm.error.apply(fm,["Auth (".concat(xn,"): ").concat(e)].concat(n))}}function pm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ym.apply(void 0,[e].concat(n))}function vm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ym.apply(void 0,[e].concat(n))}function mm(e,t,n){var r=Object.assign(Object.assign({},cm()),Ye({},t,n));return new bt("auth","Firebase",r).create(t,{appName:e.name})}function ym(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=l(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(l(o)))}return lm.create.apply(lm,[e].concat(n))}function gm(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ym.apply(void 0,[t].concat(r))}}function km(e){var t="INTERNAL ASSERTION FAILED: "+e;throw dm(t),new Error(t)}function wm(e,t){e||km(t)}function bm(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Am(){return"http:"===Em()||"https:"===Em()}function Em(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function xm(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Am()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Sm=function(){function e(t,n){f(this,e),this.shortDelay=t,this.longDelay=n,wm(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())||"object"===typeof navigator&&"ReactNative"===navigator.product}return v(e,[{key:"get",value:function(){return xm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function Im(e,t){wm(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Cm=function(){function e(){f(this,e)}return v(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void km("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void km("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void km("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Tm=(Ye(um={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ye(um,"MISSING_CUSTOM_TOKEN","internal-error"),Ye(um,"INVALID_IDENTIFIER","invalid-email"),Ye(um,"MISSING_CONTINUE_URI","internal-error"),Ye(um,"INVALID_PASSWORD","wrong-password"),Ye(um,"MISSING_PASSWORD","missing-password"),Ye(um,"EMAIL_EXISTS","email-already-in-use"),Ye(um,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ye(um,"INVALID_IDP_RESPONSE","invalid-credential"),Ye(um,"INVALID_PENDING_TOKEN","invalid-credential"),Ye(um,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ye(um,"MISSING_REQ_TYPE","internal-error"),Ye(um,"EMAIL_NOT_FOUND","user-not-found"),Ye(um,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ye(um,"EXPIRED_OOB_CODE","expired-action-code"),Ye(um,"INVALID_OOB_CODE","invalid-action-code"),Ye(um,"MISSING_OOB_CODE","internal-error"),Ye(um,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ye(um,"INVALID_ID_TOKEN","invalid-user-token"),Ye(um,"TOKEN_EXPIRED","user-token-expired"),Ye(um,"USER_NOT_FOUND","user-token-expired"),Ye(um,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ye(um,"INVALID_CODE","invalid-verification-code"),Ye(um,"INVALID_SESSION_INFO","invalid-verification-id"),Ye(um,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ye(um,"MISSING_SESSION_INFO","missing-verification-id"),Ye(um,"SESSION_EXPIRED","code-expired"),Ye(um,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ye(um,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ye(um,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ye(um,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ye(um,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ye(um,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ye(um,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ye(um,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ye(um,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ye(um,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ye(um,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ye(um,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Ye(um,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Ye(um,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Ye(um,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Ye(um,"MISSING_CLIENT_TYPE","missing-client-type"),Ye(um,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Ye(um,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Ye(um,"INVALID_REQ_TYPE","invalid-req-type"),um),_m=new Sm(3e4,6e4);function Nm(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Dm(e,t,n,r){return Rm.apply(this,arguments)}function Rm(){return Rm=ot(it().mark((function e(t,n,r,i){var a,o=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Pm(t,a,ot(it().mark((function e(){var a,o,u,s;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=It(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Cm.fetch()(Fm(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Rm.apply(this,arguments)}function Pm(e,t,n){return Om.apply(this,arguments)}function Om(){return Om=ot(it().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Tm),n),e.prev=2,a=new Um(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw jm(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=s(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw jm(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw jm(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw jm(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw mm(t,p,d);case 34:pm(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof wt)){e.next=41;break}throw e.t0;case 41:pm(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Om.apply(this,arguments)}function Lm(e,t,n,r){return Mm.apply(this,arguments)}function Mm(){return Mm=ot(it().mark((function e(t,n,r,i){var a,o,u=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Dm(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&pm(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Mm.apply(this,arguments)}function Fm(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Im(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Um=function(){function e(t){var n=this;f(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(vm(n.auth,"network-request-failed"))}),_m.get())}))}return v(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function jm(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=vm(e,t,r);return i.customData._tokenResponse=n,i}function Bm(e,t){return Vm.apply(this,arguments)}function Vm(){return Vm=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dm(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Vm.apply(this,arguments)}function zm(e,t){return Hm.apply(this,arguments)}function Hm(){return Hm=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dm(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Hm.apply(this,arguments)}function Qm(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function qm(){return qm=ot(it().mark((function e(t){var n,r,i,a,o,u,s=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Dt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,gm((a=Wm(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Qm(Km(a.auth_time)),issuedAtTime:Qm(Km(a.iat)),expirationTime:Qm(Km(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),qm.apply(this,arguments)}function Km(e){return 1e3*Number(e)}function Wm(e){var t=s(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return dm("JWT malformed, contained fewer than 3 sections"),null;try{var a=ft(r);return a?JSON.parse(a):(dm("Failed to decode base64 JWT payload"),null)}catch(o){return dm("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Gm(e,t){return Ym.apply(this,arguments)}function Ym(){return Ym=ot(it().mark((function e(t,n){var r=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof wt&&Jm(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ym.apply(this,arguments)}function Jm(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Xm=function(){function e(t){f(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return v(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ot(it().mark((function t(){return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Zm=function(){function e(t,n){f(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return v(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Qm(this.lastLoginAt),this.creationTime=Qm(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function $m(e){return ey.apply(this,arguments)}function ey(){return ey=ot(it().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Gm(t,zm(r,{idToken:i}));case 6:gm(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=om(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=ny(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ey.apply(this,arguments)}function ty(){return(ty=ot(it().mark((function e(t){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Dt(t),e.next=3,$m(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ny(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(l(n),l(t))}function ry(e,t){return iy.apply(this,arguments)}function iy(){return iy=ot(it().mark((function e(t,n){var r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pm(t,{},ot(it().mark((function e(){var r,i,a,o,u,s;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=It({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Fm(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Cm.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),iy.apply(this,arguments)}var ay=function(){function e(){f(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return v(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){gm(e.idToken,"internal-error"),gm("undefined"!==typeof e.idToken,"internal-error"),gm("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Wm(e);return gm(t,"internal-error"),gm("undefined"!==typeof t.exp,"internal-error"),gm("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ot(it().mark((function e(t){var n,r=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],gm(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ot(it().mark((function e(t,n){var r,i,a,o;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ry(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return km("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(gm("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(gm("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(gm("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function oy(e,t){gm("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var uy=function(){function e(t){f(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=om(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?l(a.providerData):[],this.metadata=new Zm(a.createdAt||void 0,a.lastLoginAt||void 0)}return v(e,[{key:"getIdToken",value:function(){var e=ot(it().mark((function e(t){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gm(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(gm(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return qm.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ty.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(gm(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){gm(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ot(it().mark((function e(t){var n,r,i=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,$m(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ot(it().mark((function e(){var t;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Gm(this,Bm(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,A=n.providerData,E=n.stsTokenManager;gm(k&&E,t,"internal-error");var x=ay.fromJSON(this.name,E);gm("string"===typeof k,t,"internal-error"),oy(f,t.name),oy(h,t.name),gm("boolean"===typeof w,t,"internal-error"),gm("boolean"===typeof b,t,"internal-error"),oy(d,t.name),oy(p,t.name),oy(v,t.name),oy(m,t.name),oy(y,t.name),oy(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:x,createdAt:y,lastLoginAt:g});return A&&Array.isArray(A)&&(S.providerData=A.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=ot(it().mark((function t(n,r){var i,a,o,u=arguments;return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ay).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,$m(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),sy=new Map;function cy(e){wm(e instanceof Function,"Expected a class definition");var t=sy.get(e);return t?(wm(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,sy.set(e,t),t)}var ly=function(){function e(){f(this,e),this.type="NONE",this.storage={}}return v(e,[{key:"_isAvailable",value:function(){var e=ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ot(it().mark((function e(t){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ly.type="NONE";var fy=ly;function hy(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var dy=function(){function e(t,n,r){f(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=hy(this.userKey,a.apiKey,o),this.fullPersistenceKey=hy("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return v(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ot(it().mark((function e(){var t;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?uy._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ot(it().mark((function e(t){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ot(it().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(cy(fy),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||cy(fy),u=hy(i,n.config.apiKey,n.name),s=null,c=x(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=uy._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function py(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gy(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vy(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wy(t))return"Blackberry";if(by(t))return"Webos";if(my(t))return"Safari";if((t.includes("chrome/")||yy(t))&&!t.includes("edge/"))return"Chrome";if(ky(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function vy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/firefox\//i.test(e)}function my(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/crios\//i.test(e)}function gy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/iemobile/i.test(e)}function ky(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/android/i.test(e)}function wy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/blackberry/i.test(e)}function by(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/webos/i.test(e)}function Ay(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ey(){return function(){var e=gt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function xy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt();return Ay(e)||ky(e)||by(e)||wy(e)||/windows phone/i.test(e)||gy(e)}function Sy(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=py(gt());break;case"Worker":t="".concat(py(gt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(xn,"/").concat(r)}function Iy(e,t){return Cy.apply(this,arguments)}function Cy(){return Cy=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dm(t,"GET","/v2/recaptchaConfig",Nm(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cy.apply(this,arguments)}function Ty(e){return void 0!==e&&void 0!==e.enterprise}var _y=v((function e(t){if(f(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Ny(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=vm("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Dy(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ry=function(){function e(t){f(this,e),this.type="recaptcha-enterprise",this.auth=Fy(t)}return v(e,[{key:"verify",value:function(){var e=ot(it().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Ty(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=ot(it().mark((function e(n,r){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Iy(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new _y(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Ty(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Ny("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Py(e,t,n){return Oy.apply(this,arguments)}function Oy(){return Oy=ot(it().mark((function e(t,n,r){var i,a,o,u,s=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new Ry(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Oy.apply(this,arguments)}var Ly=function(){function e(t){f(this,e),this.auth=t,this.queue=[]}return v(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ot(it().mark((function e(t){var n,r,i,a,o,u,s;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=x(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=x(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),My=function(){function e(t,n,r,i){f(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uy(this),this.idTokenSubscription=new Uy(this),this.beforeStateQueue=new Ly(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return v(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=cy(t)),this._initializationPromise=this.queue(ot(it().mark((function r(){var i,a;return it().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,dy.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ot(it().mark((function e(){var t;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ot(it().mark((function e(t){var n,r,i,a,o,u,s;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return gm(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ot(it().mark((function e(t){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$m(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ot(it().mark((function e(t){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Dt(t):null)&&gm(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ot(it().mark((function e(t){var n,r=this,i=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&gm(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ot(it().mark((function n(){return it().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(cy(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=ot(it().mark((function e(){var t,n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iy(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new _y(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Ry(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new bt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ot(it().mark((function e(t,n){var r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ot(it().mark((function e(t){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return gm(n=t&&cy(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,dy.create(this,[cy(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ot(it().mark((function e(t){var n,r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ot(it().mark((function e(t){var n=this;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return gm(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return gm(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sy(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ot(it().mark((function e(){var t,n,r,i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ye({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ot(it().mark((function e(){var t,n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&hm("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fy(e){return Dt(e)}var Uy=function(){function e(t){var n=this;f(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new _t(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return v(e,[{key:"next",get:function(){return gm(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function jy(e,t,n){var r=Fy(e);gm(r._canInitEmulator,r,"emulator-config-failed"),gm(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=By(t),o=function(e){var t=By(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Vy(r.substr(a.length+1))}}var o=s(r.split(":"),2);return{host:o[0],port:Vy(o[1])}}(t),u=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function By(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Vy(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var zy=function(){function e(t,n){f(this,e),this.providerId=t,this.signInMethod=n}return v(e,[{key:"toJSON",value:function(){return km("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return km("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return km("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return km("not implemented")}}]),e}();function Hy(e,t){return Qy.apply(this,arguments)}function Qy(){return Qy=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dm(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Qy.apply(this,arguments)}function qy(e,t){return Ky.apply(this,arguments)}function Ky(){return Ky=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lm(t,"POST","/v1/accounts:signInWithPassword",Nm(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ky.apply(this,arguments)}function Wy(e,t){return Gy.apply(this,arguments)}function Gy(){return Gy=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lm(t,"POST","/v1/accounts:signInWithEmailLink",Nm(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gy.apply(this,arguments)}function Yy(e,t){return Jy.apply(this,arguments)}function Jy(){return Jy=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lm(t,"POST","/v1/accounts:signInWithEmailLink",Nm(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jy.apply(this,arguments)}var Xy=function(e){y(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return f(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return v(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ot(it().mark((function e(t){var n,r,i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Py(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",qy(t,i));case 11:return e.abrupt("return",qy(t,r).catch(function(){var e=ot(it().mark((function e(n){var i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Py(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",qy(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Wy(t,{email:this._email,oobCode:this._password}));case 13:pm(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Hy(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Yy(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:pm(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(zy);function Zy(e,t){return $y.apply(this,arguments)}function $y(){return $y=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lm(t,"POST","/v1/accounts:signInWithIdp",Nm(t,n)));case 1:case"end":return e.stop()}}),e)}))),$y.apply(this,arguments)}var eg=function(e){y(n,e);var t=b(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return v(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Zy(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Zy(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Zy(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=It(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pm("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=om(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(zy);function tg(e,t){return ng.apply(this,arguments)}function ng(){return ng=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dm(t,"POST","/v1/accounts:sendVerificationCode",Nm(t,n)));case 1:case"end":return e.stop()}}),e)}))),ng.apply(this,arguments)}function rg(){return rg=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lm(t,"POST","/v1/accounts:signInWithPhoneNumber",Nm(t,n)));case 1:case"end":return e.stop()}}),e)}))),rg.apply(this,arguments)}function ig(){return ig=ot(it().mark((function e(t,n){var r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lm(t,"POST","/v1/accounts:signInWithPhoneNumber",Nm(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw jm(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ig.apply(this,arguments)}var ag=Ye({},"USER_NOT_FOUND","user-not-found");function og(){return og=ot(it().mark((function e(t,n){var r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Lm(t,"POST","/v1/accounts:signInWithPhoneNumber",Nm(t,r),ag));case 2:case"end":return e.stop()}}),e)}))),og.apply(this,arguments)}var ug=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this,"phone","phone")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return rg.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ig.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return og.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(zy);var sg=function(){function e(t){var n,r,i,a,o,u;f(this,e);var s=Ct(Tt(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);gm(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return v(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ct(Tt(e)).link,n=t?Ct(Tt(t)).deep_link_id:null,r=Ct(Tt(e)).deep_link_id;return(r?Ct(Tt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var cg=function(){function e(){f(this,e),this.providerId=e.PROVIDER_ID}return v(e,null,[{key:"credential",value:function(e,t){return Xy._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=sg.parseLink(t);return gm(n,"argument-error"),Xy._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();cg.PROVIDER_ID="password",cg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",cg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var lg=function(){function e(t){f(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return v(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),fg=function(e){y(n,e);var t=b(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).scopes=[],e}return v(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return l(this.scopes)}}]),n}(lg),hg=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.call(this,"facebook.com")}return v(n,null,[{key:"credential",value:function(e){return eg._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(fg);hg.FACEBOOK_SIGN_IN_METHOD="facebook.com",hg.PROVIDER_ID="facebook.com";var dg=function(e){y(n,e);var t=b(n);function n(){var e;return f(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return v(n,null,[{key:"credential",value:function(e,t){return eg._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(fg);dg.GOOGLE_SIGN_IN_METHOD="google.com",dg.PROVIDER_ID="google.com";var pg=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.call(this,"github.com")}return v(n,null,[{key:"credential",value:function(e){return eg._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(fg);pg.GITHUB_SIGN_IN_METHOD="github.com",pg.PROVIDER_ID="github.com";var vg=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.call(this,"twitter.com")}return v(n,null,[{key:"credential",value:function(e,t){return eg._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(fg);vg.TWITTER_SIGN_IN_METHOD="twitter.com",vg.PROVIDER_ID="twitter.com";var mg=function(){function e(t){f(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return v(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ot(it().mark((function t(n,r,i){var a,o,u,s,c=arguments;return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,uy._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=yg(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ot(it().mark((function t(n,r,i){var a;return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=yg(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function yg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var gg=function(e){y(n,e);var t=b(n);function n(e,r,i,a){var o,u;return f(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(w(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return v(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(wt);function kg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw gg._fromErrorAndOperation(e,n,t,r);throw n}))}function wg(e,t){return bg.apply(this,arguments)}function bg(){return bg=ot(it().mark((function e(t,n){var r,i,a=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Gm,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",mg._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),bg.apply(this,arguments)}function Ag(e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=ot(it().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Gm(t,kg(i,a,n,t),r);case 6:return gm((o=e.sent).idToken,i,"internal-error"),gm(u=Wm(o.idToken),i,"internal-error"),s=u.sub,gm(t.uid===s,i,"user-mismatch"),e.abrupt("return",mg._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&pm(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Eg.apply(this,arguments)}function xg(e,t){return Sg.apply(this,arguments)}function Sg(){return Sg=ot(it().mark((function e(t,n){var r,i,a,o,u=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,kg(t,i,n);case 4:return a=e.sent,e.next=7,mg._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Sg.apply(this,arguments)}function Ig(e,t){return Dm(e,"POST","/v2/accounts/mfaEnrollment:start",Nm(e,t))}function Cg(e,t){return Dm(e,"POST","/v2/accounts/mfaEnrollment:start",Nm(e,t))}function Tg(e,t){return Dm(e,"POST","/v2/accounts/mfaEnrollment:finalize",Nm(e,t))}new WeakMap;var _g="__sak",Ng=function(){function e(t,n){f(this,e),this.storageRetriever=t,this.type=n}return v(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(_g,"1"),this.storage.removeItem(_g),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Dg=function(e){y(n,e);var t=b(n);function n(){var e;return f(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=gt();return my(e)||Ay(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=xy(),e._shouldAllowMigration=!0,e}return v(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ey()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ot(it().mark((function e(t,r){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(g(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ot(it().mark((function e(t){var r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(g(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(g(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ng);Dg.type="LOCAL";var Rg=Dg,Pg=function(e){y(n,e);var t=b(n);function n(){return f(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return v(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ng);Pg.type="SESSION";var Og=Pg;function Lg(e){return Promise.all(e.map(function(){var e=ot(it().mark((function e(t){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Mg=function(){function e(t){f(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return v(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ot(it().mark((function e(t){var n,r,i,a,o,u,s,c;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Lg(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Fg(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Mg.receivers=[];var Ug=function(){function e(t){f(this,e),this.target=t,this.handlers=new Set}return v(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ot(it().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Fg("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function jg(){return window}function Bg(e){jg().location.href=e}function Vg(){return"undefined"!==typeof jg().WorkerGlobalScope&&"function"===typeof jg().importScripts}function zg(){return Hg.apply(this,arguments)}function Hg(){return(Hg=ot(it().mark((function e(){var t;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Qg(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var qg="firebaseLocalStorageDb",Kg="firebaseLocalStorage",Wg="fbase_key",Gg=function(){function e(t){f(this,e),this.request=t}return v(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Yg(e,t){return e.transaction([Kg],t?"readwrite":"readonly").objectStore(Kg)}function Jg(){var e=indexedDB.deleteDatabase(qg);return new Gg(e).toPromise()}function Xg(){var e=indexedDB.open(qg,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Kg,{keyPath:Wg})}catch(r){n(r)}})),e.addEventListener("success",ot(it().mark((function n(){var r;return it().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Kg)){n.next=12;break}return r.close(),n.next=5,Jg();case 5:return n.t0=t,n.next=8,Xg();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Zg(e,t,n){return $g.apply(this,arguments)}function $g(){return $g=ot(it().mark((function e(t,n,r){var i,a;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Yg(t,!0).put((Ye(i={},Wg,n),Ye(i,"value",r),i)),e.abrupt("return",new Gg(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),$g.apply(this,arguments)}function ek(e,t){return tk.apply(this,arguments)}function tk(){return tk=ot(it().mark((function e(t,n){var r,i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yg(t,!1).get(n),e.next=3,new Gg(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),tk.apply(this,arguments)}function nk(e,t){var n=Yg(e,!0).delete(t);return new Gg(n).toPromise()}var rk=function(){function e(){f(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return v(e,[{key:"_openDb",value:function(){var e=ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Xg();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ot(it().mark((function e(t){var n,r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vg()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ot(it().mark((function e(){var t=this;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Mg._getInstance(Vg()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ot(it().mark((function e(n,r){var i;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ot(it().mark((function e(t,n){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ot(it().mark((function e(){var t,n,r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zg();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ug(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Qg()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ot(it().mark((function e(){var t;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Xg();case 5:return t=e.sent,e.next=8,Zg(t,_g,"1");case 8:return e.next=10,nk(t,_g);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ot(it().mark((function e(t){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ot(it().mark((function e(t,n){var r=this;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Zg(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ot(it().mark((function e(t){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ek(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ot(it().mark((function e(t){var n=this;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return nk(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ot(it().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Yg(e,!1).getAll();return new Gg(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=x(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ot(it().mark((function t(){return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();rk.type="LOCAL";var ik=rk;function ak(e,t){return Dm(e,"POST","/v2/accounts/mfaSignIn:start",Nm(e,t))}function ok(e,t){return Dm(e,"POST","/v2/accounts/mfaSignIn:finalize",Nm(e,t))}Dy("rcb"),new Sm(3e4,6e4);var uk="recaptcha";function sk(e,t,n){return ck.apply(this,arguments)}function ck(){return ck=ot(it().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,gm("string"===typeof a,t,"argument-error"),gm(r.type===uk,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return gm("enroll"===u.type,t,"internal-error"),e.next=13,Ig(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return gm("signin"===u.type,t,"internal-error"),gm(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ak(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,tg(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),ck.apply(this,arguments)}var lk=function(){function e(t){f(this,e),this.providerId=e.PROVIDER_ID,this.auth=Fy(t)}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return sk(this.auth,e,Dt(t))}}],[{key:"credential",value:function(e,t){return ug._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ug._fromTokenResponse(n,r):null}}]),e}();function fk(e,t){return t?cy(t):(gm(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}lk.PROVIDER_ID="phone",lk.PHONE_SIGN_IN_METHOD="phone";var hk=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this,"custom","custom")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return Zy(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Zy(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Zy(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(zy);function dk(e){return xg(e.auth,new hk(e),e.bypassAuthState)}function pk(e){var t=e.auth,n=e.user;return gm(n,t,"internal-error"),Ag(n,new hk(e),e.bypassAuthState)}function vk(e){return mk.apply(this,arguments)}function mk(){return mk=ot(it().mark((function e(t){var n,r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,gm(r=t.user,n,"internal-error"),e.abrupt("return",wg(r,new hk(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),mk.apply(this,arguments)}var yk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];f(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return v(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ot(it().mark((function t(n,r){return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ot(it().mark((function e(t){var n,r,i,a,o,u,s;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dk;case"linkViaPopup":case"linkViaRedirect":return vk;case"reauthViaPopup":case"reauthViaRedirect":return pk;default:pm(this.auth,"internal-error")}}},{key:"resolve",value:function(e){wm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){wm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),gk=new Sm(2e3,1e4);var kk=function(e){y(n,e);var t=b(n);function n(e,r,i,a,o){var u;return f(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=w(u),u}return v(n,[{key:"executeNotNull",value:function(){var e=ot(it().mark((function e(){var t;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return gm(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ot(it().mark((function e(){var t,n=this;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wm(1===this.filter.length,"Popup operations only handle one event"),t=Fg(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(vm(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(vm(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(vm(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,gk.get())}()}}]),n}(yk);kk.currentPopupAction=null;var wk="pendingRedirect",bk=new Map,Ak=function(e){y(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return v(n,[{key:"execute",value:function(){var e=ot(it().mark((function e(){var t,r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=bk.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ek(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,rt(g(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:bk.set(this.auth._key(),t);case 21:return this.bypassAuthState||bk.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ot(it().mark((function e(t){var r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",rt(g(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",rt(g(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ot(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(yk);function Ek(e,t){return xk.apply(this,arguments)}function xk(){return xk=ot(it().mark((function e(t,n){var r,i,a;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ck(n),i=Ik(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),xk.apply(this,arguments)}function Sk(e,t){bk.set(e._key(),t)}function Ik(e){return cy(e._redirectPersistence)}function Ck(e){return hy(wk,e.config.apiKey,e.name)}function Tk(e,t){return _k.apply(this,arguments)}function _k(){return _k=ot(it().mark((function e(t,n){var r,i,a,o,u,s=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Fy(t),a=fk(i,n),o=new Ak(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),_k.apply(this,arguments)}var Nk=function(){function e(t){f(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return v(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rk(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Rk(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vm(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dk(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Dk(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Dk(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Rk(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Pk(e){return Ok.apply(this,arguments)}function Ok(){return Ok=ot(it().mark((function e(t){var n,r=arguments;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Dm(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ok.apply(this,arguments)}var Lk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mk=/^https?/;function Fk(){return Fk=ot(it().mark((function e(t){var n,r,i,a,o;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Pk(t);case 4:n=e.sent,r=n.authorizedDomains,i=x(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Uk(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:pm(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Fk.apply(this,arguments)}function Uk(e){var t=bm(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Mk.test(r))return!1;if(Lk.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var jk=new Sm(3e4,6e4);function Bk(){var e=jg().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=l(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Vk=null;function zk(e){return Vk=Vk||function(e){return new Promise((function(t,n){var r,i,a;function o(){Bk(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Bk(),n(vm(e,"network-request-failed"))},timeout:jk.get()})}if(null===(i=null===(r=jg().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=jg().gapi)||void 0===a?void 0:a.load)){var u=Dy("iframefcb");return jg()[u]=function(){gapi.load?o():n(vm(e,"network-request-failed"))},Ny("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Vk=null,e}))}(e),Vk}var Hk=new Sm(5e3,15e3),Qk="__/auth/iframe",qk="emulator/auth/iframe",Kk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gk(e){var t=e.config;gm(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Im(t,qk):"https://".concat(e.config.authDomain,"/").concat(Qk),r={apiKey:t.apiKey,appName:e.name,v:xn},i=Wk.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(It(r).slice(1))}function Yk(e){return Jk.apply(this,arguments)}function Jk(){return Jk=ot(it().mark((function e(t){var n,r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zk(t);case 2:return n=e.sent,gm(r=jg().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Gk(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kk,dontclear:!0},(function(e){return new Promise(function(){var n=ot(it().mark((function n(r,i){var a,o,u;return it().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){jg().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=vm(t,"network-request-failed"),o=jg().setTimeout((function(){i(a)}),Hk.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Jk.apply(this,arguments)}var Xk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zk=function(){function e(t){f(this,e),this.window=t,this.associatedEvent=null}return v(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function $k(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},Xk),{width:r.toString(),height:i.toString(),top:a,left:o}),l=gt().toLowerCase();n&&(u=yy(l)?"_blank":n),vy(l)&&(t=t||"http://localhost",c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Ay(arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Zk(null);var h=window.open(t||"",u,f);gm(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Zk(h)}var ew="__/auth/handler",tw="emulator/auth/handler",nw=encodeURIComponent("fac");function rw(e,t,n,r,i,a){return iw.apply(this,arguments)}function iw(){return iw=ot(it().mark((function e(t,n,r,i,a,o){var u,c,l,f,h,d,p,v,m,y,g,k,w;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gm(t.config.authDomain,t,"auth-domain-config-required"),gm(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:xn,eventId:a},n instanceof lg)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",Et(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(o||{});c<l.length;c++)f=s(l[c],2),h=f[0],d=f[1],u[h]=d;for(n instanceof fg&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,w=k?"#".concat(nw,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(aw(t),"?").concat(It(v).slice(1)).concat(w));case 13:case"end":return e.stop()}}),e)}))),iw.apply(this,arguments)}function aw(e){var t=e.config;return t.emulator?Im(t,tw):"https://".concat(t.authDomain,"/").concat(ew)}var ow="webStorageSupport",uw=function(){function e(){f(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Og,this._completeRedirectFn=Tk,this._overrideRedirectResult=Sk}return v(e,[{key:"_openPopup",value:function(){var e=ot(it().mark((function e(t,n,r,i){var a,o;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wm(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,rw(t,n,r,bm(),i);case 3:return o=e.sent,e.abrupt("return",$k(t,o,Fg()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ot(it().mark((function e(t,n,r,i){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,rw(t,n,r,bm(),i);case 4:return Bg(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(wm(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ot(it().mark((function e(t){var n,r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yk(t);case 2:return n=e.sent,r=new Nk(t),n.register("authEvent",(function(e){return gm(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ow,{type:ow},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ow];void 0!==i&&t(!!i),pm(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Fk.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return xy()||my()||Ay()}}]),e}(),sw=uw,cw=function(){function e(t){f(this,e),this.factorId=t}return v(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return km("unexpected MultiFactorSessionType")}}}]),e}(),lw=function(e){y(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this,"phone")).credential=e,r}return v(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Dm(e,"POST","/v2/accounts/mfaEnrollment:finalize",Nm(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Dm(e,"POST","/v2/accounts/mfaSignIn:finalize",Nm(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(cw);(function(){function e(){f(this,e)}return v(e,null,[{key:"assertion",value:function(e){return lw._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var fw=function(){function e(){f(this,e)}return v(e,null,[{key:"assertionForEnrollment",value:function(e,t){return hw._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return hw._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=ot(it().mark((function e(t){var n,r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gm("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,Cg(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",dw._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();fw.FACTOR_ID="totp";var hw=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return v(n,[{key:"_finalizeEnroll",value:function(){var e=ot(it().mark((function e(t,n,r){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gm("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Tg(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=ot(it().mark((function e(t,n){var r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gm(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",ok(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(cw),dw=function(){function e(t,n,r,i,a,o,u){f(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return v(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(pw(e)||pw(t))&&(r=!0),r&&(pw(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),pw(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function pw(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var vw="@firebase/auth",mw="0.23.2",yw=function(){function e(t){f(this,e),this.auth=t,this.internalListeners=new Map}return v(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ot(it().mark((function e(t){var n;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){gm(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var gw,kw=mt("authIdTokenMaxAge")||300,ww=null;gw="Browser",kn(new Rt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;gm(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:gw,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sy(gw)},l=new My(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cy);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),kn(new Rt("auth-internal",(function(e){return function(e){return new yw(e)}(Fy(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(vw,mw,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(gw)),Cn(vw,mw,"esm2017");var bw=Sn({apiKey:"AIzaSyBu-kLdrBLbRKN7RUZdcadQqg48Qg3NVCs",authDomain:"nuevamedicina-ecommerce.firebaseapp.com",projectId:"nuevamedicina-ecommerce",storageBucket:"nuevamedicina-ecommerce.appspot.com",messagingSenderId:"556342454610",appId:"1:556342454610:web:bf2553590927783d9c328b",measurementId:"G-1H4DGNDMBZ"}),Aw=function(e,t){var n="string"==typeof e?e:t||"(default)",r=wn("object"==typeof e?e:In(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=function(e){var t=pt(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("firestore");i&&Jp.apply(void 0,[r].concat(l(i)))}return r}(bw),Ew=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In(),t=wn(e,"auth");if(t.isInitialized())return t.getImmediate();var n,r=function(e,t){var n=wn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(xt(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;pm(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:sw,persistence:[ik,Rg,Og]}),i=mt("authTokenSyncURL");if(i){var a=(n=i,function(){var e=ot(it().mark((function e(t){var r,i,a;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(r=e.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>kw)){e.next=9;break}return e.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,ww!==a){e.next=12;break}return e.abrupt("return");case 12:return ww=a,e.next=15,fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());!function(e,t,n){Dt(e).beforeAuthStateChanged(t,n)}(r,a,(function(){return a(r.currentUser)})),function(e,t,n,r){Dt(e).onIdTokenChanged(t,n,r)}(r,(function(e){return a(e)}))}var o=pt("auth");o&&jy(r,"http://".concat(o))}(bw),function(){var e=s((0,t.useState)(),2),n=e[0],r=e[1],i=s((0,t.useState)(!0),2),a=i[0],o=i[1],u=ke().itemId;return(0,t.useEffect)((function(){o(!0);var e=tv(Aw,"products",u);setTimeout((function(){(function(e){e=Wp(e,Xp);var t=Wp(e.firestore,rv);return jp(iv(t),e._key).then((function(n){return nm(t,e,n)}))})(e).then((function(e){var t=e.data(),n=Xe({id:e.id},t);r(n)})).catch((function(e){console.error(e)})).finally((function(){o(!1)})).finally((function(){o(!1)}))}),500)}),[u]),(0,Ze.jsx)("div",{className:"ItemDetailContainer",children:a?(0,Ze.jsx)("div",{className:"CartDetailMsn",children:"Cargando detalle del producto..."}):(0,Ze.jsx)(nt,Xe({},n))})}),xw=function(e){var t=e.id,n=e.name,r=e.img,i=e.price,a=e.stock;return(0,Ze.jsxs)("article",{className:"card-container",children:[(0,Ze.jsx)("header",{className:"Header",children:(0,Ze.jsx)("h2",{className:"ItemHeader",children:n})}),(0,Ze.jsx)("picture",{children:(0,Ze.jsx)("img",{src:r,alt:n,className:"ItemImg"})}),(0,Ze.jsxs)("section",{children:[(0,Ze.jsxs)("p",{className:"Info-price",children:["Precio: $",i]}),(0,Ze.jsxs)("p",{className:"Info-stock",children:["Stock Disponible: ",a]})]}),(0,Ze.jsx)("footer",{className:"ItemFooter",children:(0,Ze.jsx)("button",{className:"BtnVerDetalle",children:(0,Ze.jsx)(qe,{to:"/item/".concat(t),className:"BtnCard",children:"Ver Detalle"})})})]})},Sw=function(e){var t=e.products;return(0,Ze.jsx)("div",{className:"ListGroup",children:t.map((function(e){return(0,Ze.jsx)(xw,Xe({},e),e.id)}))})},Iw=function(e){var n=e.greeting,r=s((0,t.useState)([]),2),i=r[0],a=r[1],o=s((0,t.useState)(!0),2),u=o[0],c=o[1],l=ke().categoryId;return(0,t.useEffect)((function(){c(!0);var e=l?Fv(ev(Aw,"products"),jv("category","==",l)):ev(Aw,"products");setTimeout((function(){$v(e).then((function(e){var t=e.docs.map((function(e){var t=e.data();return Xe({id:e.id},t)}));a(t)})).catch((function(e){console.log(e)})).finally((function(){c(!1)}))}),500)}),[l]),(0,Ze.jsxs)("div",{className:"",children:[(0,Ze.jsx)("div",{children:(0,Ze.jsx)("h1",{className:"titulo bounce-in-bck",children:n})}),u?(0,Ze.jsx)("div",{className:"Loading",children:"Cargando productos..."}):(0,Ze.jsx)("div",{className:"ItemListContainer",children:(0,Ze.jsx)(Sw,{products:i})})]})},Cw=n.p+"static/media/logo.09b9f799ce1601312ec9.png",Tw=function(){var e=(0,t.useContext)($e).cart,n=e.reduce((function(e,t){return e+t.quantity}),0);return(0,Ze.jsx)("div",{className:"Cartwidget",style:{display:e.length>0?"block":"none"},children:(0,Ze.jsxs)(qe,{to:"/CartModal",children:[(0,Ze.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAACAASURBVHic7d17zCZneR/gn70+rE+LodgshLWNiU1xCAZKAwQosQs4rSmUpkUGCmniFpIQQZpUhVQtlZL+EUKqOkStSgVtSJQmlKoIUhBH+w2BqqBSe+1yto2xnWLMweCz13i3f8xu+Wz2+/Z7D/Pez8xcl/SISJF27pnP9/Pe89zPzCQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwZEdVBzCHXUkuTnJhkvOTnJXk1CTHFsY0Bncn+VaSryf5dJLLk1yR5PbKoADg3CTvTHJXkgPGWsbtSS5L8rht/H0AYKVOSPI7Se5P/Q/iVMd9Sf5lrLIAsCbnJLkm9T+ARjeuSnLmln8xAFjSU5PcmvofPePB46Yk523xdwOAhZ0TP/4tj28k2bPpXw8AFrAz3VJz9Y+csfX4dJLjN/kbAjAQO6oD2OC3kry0OgiO6EeSHJ3ucUEABqqV9wCcm+RzSY6pDoRtuSfd3+zm6kAAWMzR1QEc9Mb48R+SE5L88+ogAFhcCysAu9K9he7E6kCYy+1JHpXk3upAAJhfCysAF8eP/xDtSnJRdRAALKaFAuDC6gBY2IurAwBgMS0UAOdXB8DCnlcdAACLaaEA8MGZ4Xp8kjOqgwBgfi0UALuqA2ApVgEABqiFAoBhUwAADFALBcDt1QGwlAuqAwBgfi0UAF+tDoClnB37AAAGp4UC4KrqAFiaNgDAwLRQAPiozPD9VHUAAMynhVcBn5zkliQnVQfCwq5L8qPVQQCwfS2sANyZ5E+qg2Ap3gcAMDAtFABJ8pYk91cHwVLsAwAYkB3VARz0nSSnJHl2dSAs7LYk768OAoDtaWEPwCE7k1yR5JnVgbAQ+wAABqSlAiBJdif5TJI91YGwkDOT3FgdBABH1soegENuSfKiJDdXB8JC7AMAGIjWCoAkuTrJ05J8ojoQ5qYAABiIVjYBPtTdSf44yf4kT09yXG04bNOpSd5WHQQA47A7yb9L976AA0bzw/sAAAag1RWAje5M8oF0d5ZXJ/l2kgfSrQocm2Gcw5RclWRvdRAAMCU/m/oVgHf0fpYAwIPsSX0BcG3vZwkA/JDrU18E2AcA0LgWHwNkObPqAOJxQIDmKQDG58+qA4gCAADWzj4AAJgo+wAA2JIWwDjNqgOINgBA0xQA42QfAABMkH0AADBR9gEAsCktgPGaVQcQbQCAZikAxss+AACYIPsAAGCi7AMA4LC0AMZtVh1AtAEAmqQAGDf7AABgguwDAICJsg8AgB+iBTB+s+oAog0A0BwFwPjZBwAAE2QfAABMlH0AADyIFsA0zKoDiDYAQFMUANNgHwAATJB9AAAwUfYBAPD/aQFMx6w6gGgDADRDATAdLewD+KnqAABgalrYB3Bd72cJAPyQFvYBnNn7WQJwRFoA0zKrDiD2AQA04ZjqAFirWZKfK47heUn+oDiGRexKcnGSC5Ocn+SsJKcmObYwJqDWfUnuSNfe3JvkY0k+kuR7lUFt11HVAbBWZya5oTiG65M8vjiGeZyb5I1JLklyYnEsQPvuSvJHSX47je97UgBMz/VJHlccw5lJbiyO4UhOSPKbSd4QK2XA/PYluSzJm9OtFDTHHoDpmVUHkPYfBzwnyWeS/Fr8+AOLOS7JP003lzS56qkAmJ5ZdQBpeyPgU5N8KsmTqgMBRuHJ6eaUp1QH8lBaANNjH8DmzkmXqKdVBwKMzjeSPCvJV6sDOUQBME32AfywE9It1bnzB/pydZKfSCN7ArQApmlWHUDa2wfwm/HjD/TryUl+ozqIQxQA0zSrDiBt7QM4N91uf4C+/UrqV2CTKACmyoeBHuyNsdsfWI/jkrypOojEHoApsw+gsyvJ1+MlP8D63JHkMUnurAzCCsB0zaoDSBurABfHjz+wXqckuag6CAXAdM2qA0gb+wAurA4AmKTnVwegAJiuK6oDSBsrAOdXBwBM0pOrA1AATNdNqX8hxdlJziiOoXofBDBN5S9DUwBM26w6gNSvAuwqPj4wTadUB6AAmLZZdQBpYx8AwLrtqA5AATBt3geQ3F58fGCavlMdgAJg2r4W+wCuLzw2MF1fqw5AAcCsOoDUrgLsLTw2MF1XVQegAGBWHUBqC4DLC48NTNf/qA7Aq4DZk/rX8V6fukdiTk5yS5KTio4PTFP5q9CtADD19wHcmeRPio4NTNP1qb/xUgCQRBvgLUnuLzw+MC2z6gASBQCdWXUAqS0AvpLkssLjA9Myqw4gsQeAztT3ASTJznTfR3hmYQzANJT3/xMFAD9wferfi39Wap+N3Z3kM+kKIoA+XJfkR6uDSLQA+IFZdQCpfy3wLUlelOTm4jiA8WrhDaxJFAD8QAv/UVYXAElydZKnJflEdSDAKM2qAzhEAcAhs+oAUv9dgEO+meSFSX4jyV3FsQDj0sLNVhJ7AHiwFvYBNLE5ZoPdSd6c5NXxsiBgOdWbnR/ECgAbzaoDSDurAIfckuSX0hUClyR5e5JPJ7k1yb7CuIDhmVUHAJv52SQHisc7ez9LYIr+Y+rnt1f1fpawoD2pT5Drej9LYIquT/38VvnpcziiFpLkzN7PEpiSFm5uru39LOdkDwAPNasOIG08DgiMx4XVAaSNufVBFAA8VAuPqCgAgFVqYU5pYW6FLbWwVGYfALBKLbQ29f8ZhBaS5czezxKYghZuaprr/ydaABzerDqAtLFkBwyf/v8mFAAcTgu9KgUAsAotzCUtzKmwLS0smdkHAKxCCy1N/X8GpYWkObP3swTGrIWbmSb7/4kWAJubVQeQNpbugOHS/9+CAoDNtNCzUgAAy2hhDmlhLoW5tLB0Zh8AsIwWWpn6/wxSC8lzZu9nCYxRCzcxzfb/Ey0AtjarDiBtLOEBw6P/fwQKALbSQu9KAQAsooW5o4U5FBbSwhKafQDAIlpoYer/M2gtJNGZvZ8lMCYt3Lw03f9PtAA4sll1AGljKQ8YDv3/bVAAcCQt9LAUAMA8WpgzWpg7YSktLKXZBwDMo4XWpf4/o9BCMp3Z+1kCY+CmZZu0ANiOWXUAaWNJD2if/v82KQDYjhZ6WQoAYDtamCtamDNhJSypAUOhZQkrJqmA1rlZmYMWANs1qw4gbSztAe3S/5+DAoDtaqGnpQAAttLCHNHCXAkrZWkNaJ1WJfREcgGtcpMyJy0A5jGrDiBtLPEB7dH/n5MCgHm00NtSAACH08Lc0MIcCb2wxAa0SosSeibJgNa4OVmAFgDzmlUHkDaW+oB26P8vQAHAvFrocSkAgI1amBNamBuhV5bagNZoTcKaSDagFW5KFqQFwCJm1QGkjSU/oJ7+/4IUACyihV6XAgBI2pgLWpgTYS0suQGt0JKENZN0QDU3I0vQAmBRs+oA0sbSH1BH/38JCgAW1ULPSwEA09bCHNDCXAhrZekNqKYVCUUkH1DFTciStABYxqw6gLSxBAisn/7/khQALKOF3pcCAKaphdxvYQ6EEpbggCpakFBMEgLr5uZjBbQAWNasOoC0sRQIrI/+/wooAFhWCz0wBQBMSws538LcB6UsxQHrpvUIjZCMwLq46VgRLQBWYVYdQNpYEgT6p/+/IgoAVqGFXpgCAKahhVxvYc6DJliSA9ZFyxEaIymBvrnZWCEtAFZlVh1A2lgaBPqj/79CCgBWpYWemAIAxq2FHG9hroOmWJoD+qbVCI2SnEBf3GSsmBYAqzSrDiBtLBECq6f/v2IKAFaphd6YAgDGqYXcbmGOgyZZogP6osUIjZOkwKq5ueiBFgCrNqsOIG0sFQKro//fAwUAq9ZCj0wBAOPSQk63MLdB0yzVAaumtQgDIVmBVXFT0RMtAPowqw4gbSwZAsvT/++JAoA+tNArUwDAOLSQyy3MaTAIluyAVdFShIGRtMCy3Ez0SAuAvsyqA0gbS4fA4vT/e6QAoC8t9MwUADBsLeRwC3MZDIqlO2BZWokwUJIXWJSbiJ5pAdCnWXUAaWMJEZif/n/PFAD0qYXemQIAhqmF3G1hDoNBsoQHLEoLEQZOEgPzcvOwBloA9G1WHUDaWEoEtk//fw0UAPSthR6aAgCGpYWcbWHugkGzlAfMS+sQRkIyA9vlpmFNtABYh1l1AGljSRE4Mv3/NVEAsA4t9NIUADAMLeRqC3MWjIIlPWC7tAxhZCQ1cCRuFtZIC4B1mVUHkDaWFoHN6f+vkQKAdWmhp6YAgLa1kKMtzFUwKpb2gCPRKoSRktzAZtwkrJkWAOs0qw4gbSwxAj9M/3/NFACsUwu9NQUAtKmF3GxhjoJRssQHbEaLEEZOkgMP5eaggBYA6zarDiBtLDUCP6D/X0ABwLq10GNTAEBbWsjJFuYmGDVLfcBDaQ3CREh24BA3BUW0AKgwqw4gbSw5Avr/ZRQAVGih16YAgDa0kIstzEkwCZb8gEO0BGFiJD3gZqCQFgBVZtUBpI2lR5gy/f9CCgCqtNBzUwBArRZysIW5CCbF0h+gFQgTJflhutwEFNMCoNKsOoC0sQQJU6T/X0wBQKUWem8KAKjRQu61MAfBJFkChOnSAoSJMwnA9Cj+G6AFQLVZdQBpYykSpkT/vwEKAKq10INTAMB6tZBzLcw9MGmWAmF6tP6AJCYDmBJFfyO0AGjBrDqAtLEkCVOg/98IBQAtaKEXpwCA9Wgh11qYc4BYEoQp0fIDHsSkAOOn2G+IFgCtmFUHkDaWJmHM9P8bogCgFS305BQA0K8WcqyFuQbYwNIgjJ9WH3BYJgcYL0V+Y7QAaMmsOoC0sUQJY6T/3xgFAC1poTenAIB+tJBbLcwxwGFYIoTx0uIDtmSSgPFR3DdIC4DWzKoDSBtLlTAm+v8NUgDQmll1AFEAwKq1kFP6/9A4S4UwPlp7wLZcF5MFjIWivlFaALRoVh1A2liyhDHQ/2+UAoAWtdCrUwDAarSQSy3MKcA2WDKE8dD/B+ZiHwAMn2K+YVoAtGpWHUDaWLqEIdP/b5gCgFa10LNTAMByWsihFuYSYA6WDmH49P+BhdgHAMOliG+cFgAtm1UHkDaWMGGI9P8bpwCgZS307hQAsJgWcqeFOQRYgCVEGC79f2Ap9gHA8CjeB0ALgNbNqgNIG0uZMCT6/wOgAKB1LfTwFAAwnxZypoW5A1iCpUQYHv1/YCXsA4DhULQPhBYAQzCrDiBtLGnCEOj/D4QCgCFooZenAIDtaSFXWpgzgBWwpAjDof8PrJR9ANA+xfqAaAEwFLPqANLG0ia0TP9/QBQADEULPT0FAGythRxpYa4AVsjSIrRP/x/ohX0A0C5F+sBoATAks+oA0sYSJ7Sohf6/5f85HFUdAMzh1UneVR0EMBj7ktyV5LaD//uNJF9O8sUkX0pyZZJvlkVXTAHAkJyR5GvVQQCjcSDJNUmuSHJ5ko8muac0ojVSADA01yU5uzoIYJRuT/K+JO9J8sEkD9SG068d1QHAnM5P8tTqIIBROj7dHPPyJH8/yf3pVghGWQgoABiahyV5aXUQwOg9PMnFSS5N1yrYm64gGA0tAIZmT5Ibq4MAJufmJP84yX+tDmRVPAbI0NyU7mUjAOv02HR7A96XbkPy4CkAGKJZdQDAZL043b6Al1UHsiwFAEPkZR9ApV1J3p3k7ek2Dg6SPQAMkfcBAK34VLpVge9UBzIvBQBD5X0AQCu+kOSidHuUBkMLgKGaVQcAcNATk3wyyROqA5mHAoChsg8AaMkZST6eAX0xVAuAofI+AKBFn0/y3AxgT4AVAIbK+wCAFp2X5E8zgKcDvAqYIfNdAKBFe9I9Kvih6kC2ogBgyE6N7wIAbXpGuhcGfaE6kM3YA8CQeR8A0LLvJnlKGp2n7AFgyG6MfQBAu05N8rvVQWxGAcDQzaoDANjCS5K8qDqIw1EAMHTvrw4A4AjeluSE6iAeSgHA0H0oyfeqgwDYwuOSvLY6iIdSADB096X7KhdAy/5JGns3gMcAGYMrk/xCkmOrAwHYxK4kNyf5bHUghygAGIM7kpyc7vWbAK16YpLfqw7iEO8BYCyOTXJFkmdXBwKwhecl+UR1EIk9AIzH/UlenuTW6kAAtvCq6gAOsQLA2DwxyYfTvYsboDW3J9md5J7qQKwAMDZfSPKcJHurAwE4jF1JLqwOIlEAME43Jnl6kjele0wQoCUXVAeQeAqA8dqf5FNJ/ijJgSQ/lsaewQUm68Qkb68Owh4ApuKUdFX3hek+07k7yenpEhFgnfYneVSSb1UHAgBjdFK61b83JLkm3WpgK+MFPZ43AHDQjiSvS7cvqPrH/0CSX+73dAGAjS5MG0VAM28EBICp+OXUFwAf7v0sAYAH2ZHk/6S2ACh/V4n3AAAwNQ8keWdxDKcUH18BAMAkfbT4+OUFgPcAADBFp6R7L3+V+5LsLDy+FQAAJmnyN8AKAACm6Izi499RfHwFAACT9MLi4ysAAGDNdiS5tDgGBQAArNnrkpxXHMMtxccHgEl5fpJ9qX8T4Nv6PtEjsQIAwBTsSPL6JB9McmxxLEnypeoAjqkOAAB6cnKSs9Jt+Ls09cv+G5UXAJN/DpK12ZXk4nRf4jo/XVKemjYqcYB12p/k9CTfrgzCCgB9OzfJG5NckuTE4lgAWrA3xT/+iQKA/pyQ5DeTvCH+OwPY6PLqABITM/04J8l/S/Kk6kAAGtREAWAPAKv21CQfTnJadSAADfpukkcnubc6EI8BskrnxI8/wFbekwZ+/BMFAKuzM91/2H78ATb3h9UBHKIAYFX+VbrH+wA4vGuTfLI6iEMUAKzCuel2+wOwubemew1wExQArMIb44kSgK3cnORd1UFspABgWbvSveQHgM29Ncl91UFspABgWRfHG/4AtnJdkv9QHcRDKQBY1oXVAQA07vVp5NG/jRQALMvOf4DNvTfdJ4ib402ALOubSR5ZHQRAg25Ld5N0U3Ugh2MFgGXtqg4AoEEHklyaRn/8EwUAAPThsnTL/83SAmBZWgAAD/bnSZ6fZF91IFuxAsCyvlodAEBDPpfkb6fxH/9EAcDyrqoOAKARNya5KMl3qgPZDgUAy7q8OgCABtyY5AVJ/qI6kO2yB4BlnZzkliQnVQcCUOTzSX46De/4P5wd1QEwePuSnJ3kadWBABT48yQvTPKN6kDmpQXAKrwlyf3VQQCs0YEk/ybdbv/bimNZiBUAVuE7SU5J8uzqQADW4LYkL0/ytiQPFMeyMHsAWJWdSa5I8szqQAB69N4kb8jA+v2HowBglXYn+UySPdWBAKzY9em+6veB6kBWxR4AVumWJC9KcnN1IAArcnOSX0nyYxnRj39iBYB+7E63TKYdAAzVtUnemuT3M4C3+i1CAUBfjk/yz5L8WrwjABiG7yZ5T5I/TPLJdDv9R0sBQN92J3lzkldHIQC0ZX+Svek2MH883ZtN7y2NaI0UAKzLyUkuTnJBkqckeVySU5McVxkUMGr7ktyZ7s7+jnQv6/lyki8m+VKSK5N8uyw6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKA5R1UHwGidmOTHkzwlyeOTPDbJGUl2JzklybFJHpbk+0nuSnLbwf+9K8lNSb6c5ItJvnTw//7eesMHliD/B0ABwKqcmuSCJC9I8rwkT0iyY0X/9oEk1yS5/OD4REwI0BL5DxPzl5K8NskV6Sr5A2sa30/yZ0n+UbqJB1g/+Q8Tc1S6Kv/9SfZlfUm/2bgnybuT/M0kR/d43oD8h0k6Lslrknw+9Um/2bgmySuyuqVHoCP/YYJ2JPkHSb6a+gTf7vhKkkuTHLP6ywGTIv9hoi5M2xX/kcZVSX5y5VcFpkH+wwQ9Isnbk+xPfRIvO/Yn+YMkp6/0CsF4yX+YqL+T5FupT9xVj28leckKrxOMkfyHCTohye+mPlH7HPsPnuNxK7pmMBbyHybqrHQ7aKsTdF3j0wfPGZD/MFnPSnJL6pNy3ePbB88dpkz+w0T93ST3pj4Zq8Yd6V5qAlMk/+U/E3VJkvtTn4TV474kL1/yWsLQyH/5z0T9fJIHUp98rYwH0k2IMAXyX/4zUX8r6/1wx1DGviQXLXFdYQjkv/xnon4i3fe2q5Ot1XFXbAxivOS//GeiHp9xvuBj1ePWeESI8ZH/8p+J2pnks6lPrqGMz8TLQhgP+S//D8tnE6fh3ye5uDqIAfmRJCcl+Uh1ILAC8n8+8p/RuCT1FfUQx/4kL17gekNL5L/8Z6JOS9fTqk6moY5vJXnk3Fcd2iD/5f+WtADG7Z1JnlEdxICdmO7TqH9aHQgsQP4vR/4zWC9IfQU9hvFAPBrE8Mh/+c9EHZ3kf6c+ecYyrk5yzFx/Aagj/+U/E/ZzqU+asY2fn+svAHXkv/zflqOqA2DljktyXZLHVgcyMl9J8sR0S4LQKvnfj1Hm/9HVAbByr4jk78M5SV5WHQQcgfzvh/yneUcluSr1y2VjHZ+Lopl2yX/5P5dRnQy5KMn51UGM2HnxxTDaJf/7Nbr8VwCMyz+sDmACXl0dAGxC/vdvVPlvE+B4PCLJ/01yfHUgI3dvkkcn+W51ILCB/F+PUeW/FYDxuCRtJ//tSd6b5BeTPDvdBzd2pJu4HpXkrx38/703yT1FMW7HziQ/Ux0EPIT8Xw/5T5OuSP0mmcONryR5Xbqva23XyekmgxsbiP9w44o5zgXWQf7LfyZqV5J9qU+MjeOeJP8iy31X+/gkv57kvgbOZ+O4P901hxbIf/nPhP1M6pNi4/hakh9f4fk9Lcm1DZzXxuH76rRC/st/JuztqU+IQ2Nvksf0cI6PTvccbvX5HRr/uodzhEXIf/nPhO1NfUIcSFf595H8h5ye5IYGzvNAkit7PE+Yh/yX/0zUSel6UtUJcU9Wu+y3macfPFb1+T6Q5JSezxWORP7LfybsOalPhgPpNvysy6/3eB7zjKf3faJwBPJf/jNhr0l9Inwly+32ndfOJF/t4TzmHa/s+0ThCOS//F+YFwEN39nVASS5LN1jSOtyb5LfXuPxNnNudQBMnvyvM/j8VwAMX/UEcHuS3y847n9OcnfBcTd6QvHxQf7XGXz+KwCG74zi4388yV0Fx/1ekg8WHHcj312nmvyvM/j8VwAM38OLj/+RwmN/svDYibeBUU/+1xl8/isAhu/U4uNfXXjsTxceO/EYEPXkf53B578CYPgeVnz8GwqP/ReFx05GMAEwePK/zuDzXwEwfMcWH//bEz120n21DCrJ/zqDz38FwPB9v/j4xxQe+4HCYyfyh3ryv87g83/wJ0D5BDDPd75XrXr5s/oxJJD/dQaf/wqA4buv+PiVL8OofgZ68BMAgyf/6ww+/xUAw/fN4uM/qfDY5xceO6l5/hk2kv91Bp//CoDhu7X4+C8sPPZfLzx2kny9+Pgg/+sMPv8VAMNXPQH8dGp2w56U5G8UHHejm4qPD/K/zuDzXwEwfNcXH/+EJK8qOO4rUv8YzuAnAAZP/tcZfP4rAIbvC9UBpPs+9/FrPN5xSd60xuNt5trqAJg8+V9n8PmvABi+FiaAPUl+dY3H+9XU7wBOkquqA2Dy5H8d+U+5XeleiHGgeNyX5Gk9n2uS/GS674FXn+/9SXb2fK5wJPJf/jNxV6Y+IQ6kWxJ7TI/nuSfdztvq8zyQZG+P5wnzkP/yfyFaAONQ/VnMQx6f5KNJTu/h396T5ANJdvfwby9iVh0AHCT/129WHQAc8rLUV8Qbxw1J/soKz+9ZaafyPzRevMLzg2XIf/nPhD08yb7UJ8XGcU+63cHL9MmOO/hvtNDz2zjuT9d7hRbIf/nPxH0k9YlxuHFDkl/MfB/uOCnJa5Jc10D8hxsfm+NcYB3kv/xnwn4p9Ymx1bgryXuSvCHJM9P19E5MV+WfnuQZSX4hybuT3NFAvFuNS7f5N4F1kf/yf25HVQfAypye7s1Ux1UHMnL3JXl0ktuqA4EN5P96jCr/PQUwHrcmeV91EBPw3zOS5GdU5P96jCr/FQDj8o7qACbg96oDgE3I//7Jf5p1dJIvpr5HNtYxipd/MFryX/7PxQrAuOxP8lvVQYzYZdUBwBbkf79Gl/82AY7PsUm+lORx1YGMzLVJzkv3DDC0Sv73Y5T5v6M6AFZuf7pHbryparVeH1//on3yvx/yn8HYke4/1uqe2VjG3miXMRzyX/4zcc9JdzdQnTxDH/uTXDDntYdq8l/+M3HvTn0CDX38p7mvOrRB/st/Juy0JN9IfRINdXwzySPnvurQBvkv/5m4F6c+kYY49id5yQLXG1oi/+U/E/fO1CfU0IY3fjEW8l/+M2E7k/yv1CfVUMZns9x3zKEl8l/+M3F7oh+4nfH1g9cKxkT+y38m7rlJ7k59krU67k7yVxe+utA2+S//mbgXJdmX+mRrbeyLTT+Mn/yX/0zcK5M8kPqka2Xcn+TvLXVFYTjkv/xn4l4ZdwKHkv8VS15LGBr5L/+ZuIsz7Z7gXemWRGGK5L/8Z+Kem+TW1CfjusetSZ6xgusHQyb/YeIem+R/pj4p1zU+m+TslVw5GD75DxO3M8k7Up+cfY9/m+T4FV0zGAv5D+QlSW5JfaKuenw9yUtXeJ1gjOQ/TNxpSf449Um7qvGuJI9Y6RWC8ZL/QJ6X5MrUJ/Ci47NJLlj5VYFpkP8wcTuSXJrkutQn9HbHDUleleTo1V8OmBT5D+SYdEn1udQn+GZj78EYj+3pGsBUyX8gRyW5MF2P8N7UJ/09Sf5LkosOxgb0R/4DSZJHJnltkg8luS/rS/p7k3z04LEf3vtZAocj/wdOxcSqPCzJ89O9Wey5Sc5P1z9chfuTXJPuZSUfTfKxJHeu6N8Glif/B0gBQF9OSfLEJOcl+ctJzkqyO90jRqel6ykm3cRxd5LbD47bknwtyfUHx+eSXJWu6geGQf4DAAAAAAAAAAAAAAAAAAAAAAAAAAAAjLAXiAAAADFJREFUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADASPw/dCz28xdKuugAAAAASUVORK5CYII=",alt:"",className:"CartwidgetImg"}),(0,Ze.jsx)("span",{className:"Counter",children:n})]})})},_w=function(){var e=s((0,t.useState)(""),2),n=e[0],r=e[1];return(0,Ze.jsxs)("div",{className:"CategoryMenu",children:[(0,Ze.jsxs)("select",{value:n,onChange:function(e){var t=e.target.value;r(t)},children:[(0,Ze.jsx)("option",{value:"",children:"CATEGORIAS"}),(0,Ze.jsx)("option",{value:"nutrition",children:"Nutrici\xf3n Enteral"}),(0,Ze.jsx)("option",{value:"deponsables",children:"Art\xedculos Descartables"}),(0,Ze.jsx)("option",{value:"bombs",children:"Bombas de Infusi\xf3n"}),(0,Ze.jsx)("option",{value:"profesionalServ",children:"Servicios Profesionales"})]}),n&&(0,Ze.jsx)(Ke,{to:"/category/".concat(n),activeclassname:"selected",children:(0,Ze.jsx)("button",{className:"btn-go",children:"Ir"})})]})};var Nw=function(){return(0,Ze.jsx)("div",{className:"container-btn-login",children:(0,Ze.jsx)("button",{type:"submit",className:"btn btn-success",children:(0,Ze.jsx)(qe,{to:"/login",children:"Ingresar"})})})},Dw=function(){return(0,Ze.jsxs)("nav",{className:"NavBar",children:[(0,Ze.jsxs)(Ke,{to:"/",children:["      ",(0,Ze.jsx)(qe,{to:"/",children:(0,Ze.jsx)("img",{className:"logo",src:Cw,alt:"logo nueva medicina"})})]}),(0,Ze.jsx)("div",{className:"CategoryMenu",children:(0,Ze.jsx)(_w,{})}),(0,Ze.jsx)(Tw,{}),(0,Ze.jsx)("div",{className:"btn-login",children:(0,Ze.jsx)(Nw,{})})]})};var Rw=function(){return(0,Ze.jsxs)("footer",{className:"contenedor-footer",children:[(0,Ze.jsxs)("div",{className:"redes",children:[(0,Ze.jsx)("a",{href:"https//www.facebook.com",target:"_blank",children:(0,Ze.jsx)("img",{className:"fbIcon",src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAeAB4AAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAgABwDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD4d+KP/B1p+2r40+IutatoPxOsfB+iaheSTWOiWfhXR7qDS4SfkhWW4tJJpNq4G53JJyeOgf8ACn/g4w/4KLfHfx7YeFfBPxO17xh4m1QuLPSdF+HuiX17dbEZ32RRaezttRWYkDhVJOACa/N6v6Df+DH34VaEfDHx98cPZ2s3iZbrStDhu3hRp7SzKTzyRxvjcqSyCIuoOGNtESMoMAHy3+0x/wAFc/8AgrF+xt4Vstd+KWueNvA+h6jdJY22oar8OtChtZbhkeRYRL9gK+YUjkYITuxGxxwa1P2af+Dyj9on4TfDp9J8e+H/AAj8Vtb+2STJrd9brpc4hYLthMVmkcJ2sGIYICQ2DnGT4d/wWt/4LvfFj/gpdda/8LPFGj+C9H+H/hTxzNquiQaZaTfbo/swu7SATXDysJSYbhy5VEDPyqouEr886ANj4e+JV8F+PtD1iSOSWPSdQgvGRG2s4jkVyAexOOtf2Of8EeP+Cx/hr/gsN4G8ba94a8Ga74Ot/BOoW9hLHqd1FO10Zo2kDL5f3cbcEH1r+en4o/8ABqV+2r4L+IutaToPwxsfGGiafeSQ2Ot2firR7WDVIQfkmWK4u45o9y4O10BByOep/Yb/AINX/wDgm58av+CcPwa+Lmj/ABo8FHwZf+JtasbzTI/7XsNRF1FHBIjnNpPKFwxAw+0nPGecAH5V/wDBxv8A8FzdJ/4Kh2PhP4c+HPCPiDwjZ/DbxFqkuqjULyKaPUrhQlvBIgj6bFFznd/z1GO9flfX6TfGv/g2V/bg8ZfGXxdrGn/BEzWGq61eXltIfGOgKXiknd0ODfAjKkHB5Fer/s0/8Ga/7RPxZ+HT6t498QeEfhTrf2ySFNEvrhdUnMKhdsxls3khG5iwChyQFycZwAD/2Q==",alt:"facebook_iniciar_sesion"})}),(0,Ze.jsx)("a",{href:"https//www.instagram.com",target:"_blank",children:(0,Ze.jsx)("img",{className:"igIcon",src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAeAB4AAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAgABwDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD6m+If/BQX9rn/AIKb/tQfE/4c/saweAfh38N/hDq7+HtZ+KXiyFrwatqkLBZ7awTypoWC5ZseTKCiRSNLCJ4431o/2FP+CoRjXf8AtxfD1WxyB8N9KIB+v2EVxn/Bs78YNF/Zw/4INePfi5rcNxNZaPrnijxprn2cA3F2LWBHk25IDSNFbqoyeSAKwf2P/wBib9qD/gs78G7X9of4rftU/Fb4LWPj4TXvgvwT8N7+bSrPQ7ASMLaa4KOgmZ/mZQQ0hiMbGfLmOIA1Pi/o3/BSL9jzxR4Zk1D9sb9mvx1r3iKeSHw/4H8YaVpvhubxrcx7f9BsvLtoHmmdpIowFniAaaMF03A19c/8Evv+Cu/hf9ur9meTxF43h0v4SfEPwvrV34V8XeF9a1FLWXTdUtNnnCNZyknlkSIcMu6Ny8ZLGMs3x3+xB8JdR+LP/BTxv2a/2xo4vjT8Tv2X7aH4i/CD4j+dc6fNqOltcWY3XcccqieVJksm2ziYiSG5UySoA8n44f8ABZf4nah8Ef8AgrX+0ZpGg3E1jZ3Xjm91KSOJtqtNOEklb6s5J/GgD9pf+DZz4P6L+0f/AMEGvHnwj1ya4isdY1zxR4L1z7OQLi0F1AiSbcghZBFcKwyOCQawf2Qv21v2ov8AgjF8GrX9nn4qfsq/FT42WHgITWfgvxt8N7GbVLPW9PMjG2huFSN/JZMsqklZBEI1MGUMsvd/ET/gnt+1x/wTL/ag+J3xG/Y0uvAHxA+HPxe1d/EGtfC3xbK1oulapMwae5sH82GJQ2GGfOiAR4o2imEEbppw/t1f8FQlhUSfsPfD1pMfMV+I+lqpPsPtxx+ZoA6D/gkh+yx8bPi9+3J8UP2zP2hfC6/DbxP4/wBDh8J+DPAguftE3hvQleGY/aSRkTs0EJOdj72uS0UQdI0/Av8A4LLfDDUfjh/wVq/aM1fQLea+srXx1e6bJJEu5VmgCRyr9VcEfhX7ja3+0t/wVf8AjOG8O6H+zj8Ffg42qRtbN4o1rxVa6uukF1Ki4SO3u5SWjJDANbzKSuDG44P0d/wS+/4JF+F/2Ev2Z5PDnjWbTPi18QvFGtXfirxd4p1rT0updT1S72ecUacPJ5YEaDLNukcPIQpkKgA//9k=",alt:"instagram_iniciar_sesion"})}),(0,Ze.jsx)("a",{href:"https//www.tweeter.com",target:"_blank",children:(0,Ze.jsx)("img",{className:"twIcon",src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAeAB4AAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAgACADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9Y/2dP+Csnwh/aQ/bJ+KHwH03XI9L+JHw01Z9M/sy/dYpNeSOBHnntAf9YIpPOjdAS6iHeQFYEfTNfyG/8HIV/oHgX/gsj8QtY8G2fjHwP45sdYivNZgleJILe8SOCS01PTrqFxKBcwmG5ZHRWhmZ9sjhgI9D4Df8HT/7XHwa+Gdz4R1nxJ4b+KGkT2Daaj+MdNe4vYYmjKE/a7WW3uJXwSfMmkkck5JNAH2p+3v/AMHoPinwr8ftY0H9nvwF4H1bwPoV3JZReIPFkd3dSeIQhCm5ggt54Ps8LMG2CRpHdNjsImYxJ9JfsD/8HYXhn9tXxN4B8Dz/AA4j8I+PNYvobfxHcan4igh0WCFpUiB0xQHvtRvZ2dUhsIrcvvlAMhjjkmX+X+v2k/4MpPgHa+OP21fil8Qb3R9P1BfAPheGysru4tklk0u8v52VZIWYExyNb211GWXBKSSLnazAgH3N/wAHW3/BMPxp+2b8C/DPjz4WfCvw74+8ZeEVms9VuLW2uT4qi04kSxiyEMyJdRrIJg0EsU8gNxugVC0xf+Ynxr4I1r4a+LtS8P8AiLR9U8P69o9w9pf6bqVrJa3ljMhw8UsUgDxupBBVgCD1Ff1qf8FMf+CY/wC19+0rpmsW/wAIv20vEnhnQ9Sl8yPw5qmiWWkvb5ZmaNNY0q3huhCBtVY3idioO+RyST+WHgf/AIMn/wBojVvE8K+Kvip8GtK0uR83F3plzqepXSgnkrDJaQKx+sq59aAPxx0HQb7xVrllpel2V3qWpalOlraWlrC0091M7BUjjRQWZ2YgBQCSSAK/sA/4N4P+CW15/wAEuf2B7LR/FVvDF8TPHt0PEXipEdJf7PkaNUg08SKBuEEQG7BdRNLcFHZCprI/4JPf8G4XwP8A+CXGt2fjAPefEz4rW8JiTxPrdukUOmFuHaws1LJbFlAHmO8swBdVlVJHQ/oRQB//2Q==",alt:"tweeter_iniciar_sesion"})})]}),(0,Ze.jsx)("div",{className:"copyright",children:(0,Ze.jsx)("p",{children:"\xa9Copyright - Nueva Medicina"})})]})},Pw=function(e){var n=e.id,r=e.img,i=e.name,a=e.price,o=e.quantity,u=(0,t.useContext)($e).removeItem;return(0,Ze.jsx)("main",{children:(0,Ze.jsx)("div",{className:"container",children:(0,Ze.jsx)("div",{className:"row mt-3",children:(0,Ze.jsxs)("div",{className:"col",children:[(0,Ze.jsx)("h2",{className:"d-flex justify-content-center mb-3",children:"Realizar Compra"}),(0,Ze.jsxs)("form",{id:"procesar-pago",method:"POST",children:[(0,Ze.jsx)("div",{id:"carrito",className:"form-group table-responsive",children:(0,Ze.jsxs)("table",{className:"table",id:"lista-compra",children:[(0,Ze.jsx)("thead",{children:(0,Ze.jsxs)("tr",{children:[(0,Ze.jsx)("th",{scope:"col",children:"Imagen"}),(0,Ze.jsx)("th",{scope:"col",children:"Nombre"}),(0,Ze.jsx)("th",{scope:"col",children:"Precio"}),(0,Ze.jsx)("th",{scope:"col",children:"Cantidad"}),(0,Ze.jsx)("th",{scope:"col",children:"Sub Total"})]})}),(0,Ze.jsx)("tbody",{children:(0,Ze.jsxs)("tr",{children:[(0,Ze.jsx)("td",{children:(0,Ze.jsx)("img",{src:r,alt:""})}),(0,Ze.jsx)("td",{children:i}),(0,Ze.jsxs)("td",{children:["$ ",a]}),(0,Ze.jsx)("td",{children:o}),(0,Ze.jsxs)("td",{children:["$ ",a*o]}),(0,Ze.jsx)("td",{children:(0,Ze.jsx)("button",{className:"btn btn-danger botonEliminar",onClick:function(){u(n)},children:"X"})})]})})]})}),(0,Ze.jsx)("div",{className:"row justify-content-center d-none",id:"spinner",children:(0,Ze.jsxs)("div",{className:"spinner",children:[(0,Ze.jsx)("div",{className:"dot1"}),(0,Ze.jsx)("div",{className:"dot2"})]})}),(0,Ze.jsxs)("div",{className:"row justify-content-between",children:[(0,Ze.jsx)("div",{className:"col-md-4 mb-2",children:(0,Ze.jsx)(qe,{to:"/",className:"btn btn-success btn-block btn-kepBuying",children:"Seguir comprando"})}),(0,Ze.jsx)("div",{className:"col-xs-12 col-md-4",children:(0,Ze.jsx)("div",{className:"col-md-4 mb-2",children:(0,Ze.jsx)(qe,{to:"/checkout",className:"btn btn-info btn-block btn-kepBuying",children:"Checkout"})})})]})]})]})})})})},Ow=function(){return(0,Ze.jsxs)("div",{className:"EmptyCartSms",children:[(0,Ze.jsx)("div",{children:(0,Ze.jsx)("h1",{children:"No hay productos en tu carrito...!"})}),(0,Ze.jsx)("div",{children:(0,Ze.jsx)(qe,{to:"/",children:(0,Ze.jsx)("button",{className:"checkout-btn btn btn-success btn-block btn-kepBuying",children:"Ir a comprar"})})})]})},Lw=function(){var e=(0,t.useContext)($e),n=e.cart,r=e.clearCart;return(0,Ze.jsx)("div",{className:"CartItemFooter",children:0===n.length?(0,Ze.jsx)(Ow,{}):(0,Ze.jsxs)(Ze.Fragment,{children:[n.map((function(e){return(0,Ze.jsx)(Pw,Xe({},e),e.id)})),(0,Ze.jsx)("div",{className:"BtnClearCart",children:(0,Ze.jsx)("button",{onClick:function(){return r()},className:"Button",children:"Limpiar el carrito"})})]})})},Mw=function(e){var n=e.onConfirm,r=s((0,t.useState)(""),2),i=r[0],a=r[1],o=s((0,t.useState)(""),2),u=o[0],c=o[1],l=s((0,t.useState)(""),2),f=l[0],h=l[1];return(0,Ze.jsx)("div",{className:"Container",children:(0,Ze.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n({name:i,phone:u,email:f})},className:"Form",children:[(0,Ze.jsxs)("label",{htmlFor:"name",className:"Label",children:["Nombre:",(0,Ze.jsx)("input",{className:"Input",type:"text",value:i,onChange:function(e){var t=e.target;return a(t.value)}})]}),(0,Ze.jsxs)("label",{htmlFor:"phone",className:"Label",children:["Celular:",(0,Ze.jsx)("input",{className:"Input",type:"number",value:u,onChange:function(e){var t=e.target;return c(t.value)}})]}),(0,Ze.jsxs)("label",{htmlFor:"email",className:"Label",children:["E-mail:",(0,Ze.jsx)("input",{className:"Input",type:"email",value:f,onChange:function(e){var t=e.target;return h(t.value)}})]}),(0,Ze.jsx)("div",{className:"label label-submit",children:(0,Ze.jsx)("button",{href:"../checkout/Checkout.jsx",type:"submit",className:"Button",children:(0,Ze.jsx)(qe,{to:"/checkout",className:"btn btn-block btn-kepBuying",children:"Crear Orden"})})})]})})},Fw=function(){var e=s((0,t.useState)(!1),2),n=e[0],r=e[1],i=s((0,t.useState)(""),2),a=i[0],o=i[1],u=s((0,t.useState)(null),2),c=u[0],l=u[1],f=(0,t.useContext)($e),h=f.cart,d=f.totalPrice,p=f.clearCart,v=function(){var e=ot(it().mark((function e(t){var n,i,a,u,s,c,f,v,m,y,g;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,i=t.phone,a=t.email,r(!0),e.prev=2,u={buyer:{name:n,phone:i,email:a},items:h,price:d(),date:Bu.fromDate(new Date)},s=am(Aw),c=[],f=h.map((function(e){return e.id})),v=ev(Aw,"products"),e.next=10,$v(Fv(v,jv(new uv("__name__"),"in",f)));case 10:if(m=e.sent,m.docs.forEach((function(e){var t=e.data(),n=t.stock,r=h.find((function(t){return t.id===e.id})),i=null===r||void 0===r?void 0:r.quantity;n>=i?s.update(e.ref,{stock:n-i}):c.push(Xe({id:e.id},t))})),0!==c.length){e.next=25;break}return e.next=16,s.commit();case 16:return y=ev(Aw,"orders"),e.next=19,em(y,u);case 19:g=e.sent,o(g.id),l(u),p(),e.next=26;break;case 25:console.error("Hay productos sin stock");case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(2),console.log(e.t0);case 31:return e.prev=31,r(!1),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[2,28,31,34]])})));return function(t){return e.apply(this,arguments)}}();return n?(0,Ze.jsx)("h2",{children:"Se est\xe1 generando su orden..."}):a?(0,Ze.jsxs)(Ze.Fragment,{children:[(0,Ze.jsxs)("h2",{children:["El ID de su orden es: ",a]}),c&&(0,Ze.jsxs)("div",{children:[(0,Ze.jsx)("h3",{children:"Contenido de la orden:"}),(0,Ze.jsxs)("p",{children:[" ",(0,Ze.jsx)("b",{children:"Comprador: "}),c.buyer.name]}),(0,Ze.jsxs)("p",{children:[" ",(0,Ze.jsx)("b",{children:"Tel\xe9fono: "}),c.buyer.phone]}),(0,Ze.jsxs)("p",{children:[" ",(0,Ze.jsx)("b",{children:"El comprobante de la operacion fue enviada a: "}),c.buyer.email]}),(0,Ze.jsxs)("p",{children:[" ",(0,Ze.jsx)("b",{children:"Precio total: "}),"$",c.price]}),(0,Ze.jsxs)("p",{children:[" ",(0,Ze.jsx)("b",{children:" Fecha: "}),c.date.toDate().toLocaleDateString()]})]})]}):(0,Ze.jsx)("div",{className:"Form",children:(0,Ze.jsx)(Mw,{onConfirm:v})})},Uw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jw=t.createContext&&t.createContext(Uw),Bw=function(){return Bw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Bw.apply(this,arguments)},Vw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function zw(e){return e&&e.map((function(e,n){return t.createElement(e.tag,Bw({key:n},e.attr),zw(e.child))}))}function Hw(e){return function(n){return t.createElement(Qw,Bw({attr:Bw({},e.attr)},n),zw(e.child))}}function Qw(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,u=Vw(e,["attr","size","title"]),s=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Bw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:r,style:Bw(Bw({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==jw?t.createElement(jw.Consumer,null,(function(e){return n(e)})):n(Uw)}function qw(e){return Hw({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}var Kw=function(){var e=(0,t.useContext)($e),n=e.cart,r=e.clearCart,i=e.removeItem,a=n.reduce((function(e,t){return e+t.quantity*t.price}),0);return(0,Ze.jsx)("div",{className:"cart-modal",children:(0,Ze.jsxs)("div",{className:"cart-modal-content",children:[(0,Ze.jsxs)("div",{className:"cart-modal-header d-flex",children:[(0,Ze.jsx)("h2",{children:"Carrito de compras"}),(0,Ze.jsx)("button",{className:"close-btn",onClick:function(){document.querySelector(".cart-modal").style.display="none"},children:(0,Ze.jsx)(qe,{to:"/cart",children:"X"})})]}),(0,Ze.jsx)("div",{className:"cart-modal-items",children:0===n.length?(0,Ze.jsxs)(Ze.Fragment,{children:[(0,Ze.jsx)("p",{children:"No hay productos en el carrito"}),(0,Ze.jsx)(qe,{to:"/",children:(0,Ze.jsx)("button",{className:"checkout-btn btn btn-success btn-block btn-kepBuying",children:"Ir a comprar"})})]}):n.map((function(e){var t=e.id,n=e.name,r=e.img,a=e.price,o=e.quantity;return(0,Ze.jsxs)("div",{className:"cart-item col-12 d-flex container",children:[(0,Ze.jsx)("img",{src:r,alt:n,className:"img-CartModal col-6"}),(0,Ze.jsxs)("div",{className:"cart-item-info",children:[(0,Ze.jsx)("h3",{className:"h3-CartModal",children:n}),(0,Ze.jsxs)("p",{className:"p-CartModal",children:[(0,Ze.jsx)("b",{children:"Cantidad:"})," ",o]}),(0,Ze.jsxs)("p",{className:"p-CartModal",children:[(0,Ze.jsx)("b",{children:"Precio unitario: $"}),a]})]}),(0,Ze.jsx)("button",{className:"remove-btn btn-delete col-1",onClick:function(){return i(t)},children:(0,Ze.jsx)(qw,{})})]},t)}))}),n.length>0&&(0,Ze.jsxs)("div",{className:"cart-modal-footer",children:[(0,Ze.jsx)("div",{className:"cart-modal-total Total",children:(0,Ze.jsxs)("h3",{className:"Total",children:["Total: $",a.toFixed(2)]})}),(0,Ze.jsxs)("div",{className:"cart-modal-buttons",children:[(0,Ze.jsx)("div",{className:"BtnClearCart",children:(0,Ze.jsx)("button",{onClick:function(){return r()},className:"Button",children:"Limpiar el carrito"})}),(0,Ze.jsx)("div",{className:"col-md-4 mb-2",children:(0,Ze.jsx)(qe,{to:"/",className:"btn btn-success btn-block btn-kepBuying",children:"Seguir comprando"})}),(0,Ze.jsx)("div",{className:"link-to-checkoutForm",children:(0,Ze.jsx)(qe,{to:"/checkout",children:(0,Ze.jsx)("button",{className:"checkout-btn btn btn-info btn-block btn-kepBuying",children:"Finalizar compra"})})})]})]})]})})},Ww=function(){return(0,Ze.jsx)(Iw,{})};var Gw=function(){return(0,Ze.jsxs)("div",{className:"app",children:[(0,Ze.jsx)(ze,{children:(0,Ze.jsxs)(et,{children:[(0,Ze.jsx)(Dw,{}),(0,Ze.jsxs)(Le,{children:[(0,Ze.jsx)(Pe,{path:"/",element:(0,Ze.jsx)(Iw,{greeting:"BIENVENID@S!"})}),(0,Ze.jsx)(Pe,{path:"/category/:categoryId",element:(0,Ze.jsx)(Ww,{})}),(0,Ze.jsx)(Pe,{path:"/item/:itemId",element:(0,Ze.jsx)(Ew,{})}),(0,Ze.jsx)(Pe,{path:"/login",element:(0,Ze.jsx)(Nw,{})}),(0,Ze.jsx)(Pe,{path:"/cart",element:(0,Ze.jsx)(Lw,{})}),(0,Ze.jsx)(Pe,{path:"/cartModal",element:(0,Ze.jsx)(Kw,{})}),(0,Ze.jsx)(Pe,{path:"/checkoutform",element:(0,Ze.jsx)(Mw,{})}),(0,Ze.jsx)(Pe,{path:"/checkout",element:(0,Ze.jsx)(Fw,{})}),(0,Ze.jsx)(Pe,{path:"*",element:(0,Ze.jsx)("h1",{children:"404 NOT FOUND"})})]})]})}),(0,Ze.jsx)(Rw,{})]})};r.createRoot(document.getElementById("root")).render((0,Ze.jsx)(t.StrictMode,{children:(0,Ze.jsx)(Gw,{})}))}()}();
//# sourceMappingURL=main.ff2393be.js.map